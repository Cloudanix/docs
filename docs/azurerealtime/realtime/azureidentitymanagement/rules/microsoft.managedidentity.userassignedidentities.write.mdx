--- 
slug: Microsoft.ManagedIdentity.userAssignedIdentities.write
eventname: Microsoft.ManagedIdentity.userAssignedIdentities.write
title: Microsoft.ManagedIdentity.userAssignedIdentities.write
sidebar_label: Microsoft.ManagedIdentity.userAssignedIdentities.write
---
                       
### Event Information

#### Meaning

1. The Microsoft.ManagedIdentity.userAssignedIdentities.write event in AzureRealTime for Azure Identity Management refers to a write operation performed on user-assigned identities in Azure.

2. This event indicates that a change has been made to the configuration or properties of a user-assigned identity, such as adding or removing it from a resource.

3. It is important to monitor this event as it can help track any modifications made to user-assigned identities, ensuring proper governance and security of Azure resources.

#### Example

1. Example of security impact: If an unauthorized user gains write access to the Microsoft.ManagedIdentity/userAssignedIdentities resource in Azure, they can potentially create or modify user-assigned identities. This can lead to privilege escalation, where the attacker can assign these identities to resources and gain unauthorized access to sensitive data or perform malicious actions.

Remediation:
- Regularly review and audit the permissions assigned to the Microsoft.ManagedIdentity/userAssignedIdentities resource.
- Implement RBAC (Role-Based Access Control) to ensure that only authorized users have write access to this resource.
- Monitor and analyze Azure Activity Logs and Azure Monitor alerts to detect any unauthorized write operations on this resource.

Azure CLI command to review permissions on the Microsoft.ManagedIdentity/userAssignedIdentities resource:
```
az role assignment list --scope /subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ManagedIdentity/userAssignedIdentities/{identityName}
```

2. Example of security impact: If the Microsoft.ManagedIdentity/userAssignedIdentities.write event is triggered in Azure Real-time, it could indicate an attempt to create or modify user-assigned identities without proper authorization. This can lead to unauthorized access to resources and potential data breaches.

Remediation:
- Implement Azure Policy to enforce restrictions on the creation and modification of user-assigned identities.
- Regularly review and monitor Azure Activity Logs and Azure Monitor alerts for any suspicious write events related to user-assigned identities.
- Enable Azure AD Privileged Identity Management (PIM) to require approval for any changes to user-assigned identities.

Azure CLI command to enable Azure AD Privileged Identity Management (PIM):
```
az ad sp pim create --id {objectId} --role {roleId} --resource-group {resourceGroupName} --resource-name {resourceName} --resource-type {resourceType}
```

3. Example of security impact: If the Microsoft.ManagedIdentity/userAssignedIdentities.write event is triggered in Azure Identity Management, it could indicate an unauthorized attempt to create or modify user-assigned identities. This can lead to potential privilege escalation and unauthorized access to sensitive resources.

Remediation:
- Implement Azure AD Conditional Access policies to restrict access to Azure Identity Management and user-assigned identities.
- Regularly review and monitor Azure AD audit logs for any suspicious write events related to user-assigned identities.
- Enable Azure AD Multi-Factor Authentication (MFA) for all users with write access to user-assigned identities.

Azure CLI command to enable Azure AD Multi-Factor Authentication (MFA):
```
az ad user update --id {userId} --force-change-password-next-login true
```


 