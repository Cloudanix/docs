--- 
slug: Microsoft.Web.kubeEnvironments.delete
eventname: Microsoft.Web.kubeEnvironments.delete
title: Microsoft.Web.kubeEnvironments.delete
sidebar_label: Microsoft.Web.kubeEnvironments.delete
---
                       
### Event Information

#### Meaning

- The Microsoft.Web.kubeEnvironments.delete event in azurerealtime for AzureWebService indicates that a Kubernetes environment has been deleted in the Azure Web Service.
- This event signifies that the Kubernetes cluster associated with the Azure Web Service has been removed.
- It is important to note that deleting a Kubernetes environment will also delete all the resources and workloads running within that environment.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Microsoft.Web.kubeEnvironments.delete event in Azure Realtime for Azure Web Service, they could potentially delete or modify the Kubernetes environments associated with the web service. This could lead to unauthorized access, data breaches, or disruption of the web service.

Remediation:
- Enable Azure RBAC (Role-Based Access Control) to ensure that only authorized users have access to the Microsoft.Web.kubeEnvironments.delete event.
- Regularly review and audit the access control policies to identify and remove any unauthorized access.
- Implement Azure Monitor alerts to notify administrators whenever the Microsoft.Web.kubeEnvironments.delete event is triggered, allowing for immediate investigation and response.

Example CLI command to enable Azure RBAC for the event:
```
az role assignment create --role "Contributor" --assignee <user or group principal ID> --scope /subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.Web/sites/<web service name>/providers/Microsoft.Insights/eventtypes/management/values/Microsoft.Web.kubeEnvironments.delete
```

2. Example of security impact: If the Microsoft.Web.kubeEnvironments.delete event is triggered without proper authentication and authorization mechanisms in place, an attacker could potentially delete Kubernetes environments across multiple Azure Web Services. This could result in widespread service disruption and data loss.

Remediation:
- Implement strong authentication mechanisms such as Azure AD (Active Directory) integration or multi-factor authentication to ensure that only authorized users can trigger the Microsoft.Web.kubeEnvironments.delete event.
- Apply RBAC (Role-Based Access Control) to limit access to the event and ensure that only necessary personnel have the permission to trigger it.
- Regularly monitor and review the event logs to detect any unauthorized access attempts or suspicious activities.

Example CLI command to apply RBAC for the event:
```
az role assignment create --role "Contributor" --assignee <user or group principal ID> --scope /providers/Microsoft.Web/sites/<web service name>/providers/Microsoft.Insights/eventtypes/management/values/Microsoft.Web.kubeEnvironments.delete
```

3. Example of security impact: If the Microsoft.Web.kubeEnvironments.delete event is triggered by a malicious insider, they could delete Kubernetes environments associated with critical Azure Web Services, leading to service downtime and potential data loss. This could be particularly damaging if the insider has elevated privileges or access to multiple web services.

Remediation:
- Implement the principle of least privilege by granting only the necessary permissions to users or roles responsible for triggering the Microsoft.Web.kubeEnvironments.delete event.
- Enable Azure AD Privileged Identity Management (PIM) to enforce just-in-time access and review/approval workflows for privileged actions, reducing the risk of unauthorized deletions.
- Regularly review and rotate access credentials for users with permissions to trigger the event to mitigate the risk of compromised accounts.

Example CLI command to enable Azure AD Privileged Identity Management:
```
az ad sp create-for-rbac --name <service principal name> --role "Contributor" --scopes /subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.Web/sites/<web service name>/providers/Microsoft.Insights/eventtypes/management/values/Microsoft.Web.kubeEnvironments.delete
```


 