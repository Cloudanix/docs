--- 
slug: microsoft.web.sites.functions.keys.write
eventname: microsoft.web.sites.functions.keys.write
title: microsoft.web.sites.functions.keys.write
sidebar_label: microsoft.web.sites.functions.keys.write
---
                       
### Event Information

#### Meaning

1. The "microsoft.web.sites.functions.keys.write" event in Azure Realtime for Azure Web Service refers to an action of writing or updating keys for Azure Functions within the web service.
2. This event indicates that a change has been made to the keys used for authentication and authorization in Azure Functions within the web service.
3. It is important to monitor this event as it can help track any changes made to the keys, ensuring the security and integrity of the Azure Functions within the web service.

#### Example

1. Example of security impact: 
   - If an unauthorized user gains access to the `microsoft.web.sites.functions.keys.write` event in Azure Web Service, they can potentially modify or delete the keys used for authentication and authorization in the Azure Functions. This can lead to unauthorized access to sensitive data or the ability to execute malicious code within the Azure Functions.

2. Remediation:
   - Regularly review and monitor access control policies for Azure Web Service and Azure Functions to ensure that only authorized users have the necessary permissions.
   - Enable Azure Active Directory authentication for Azure Functions to enforce user authentication and reduce the risk of unauthorized access.
   - Implement Azure Key Vault integration to securely store and manage keys used by Azure Functions, reducing the risk of unauthorized modification or deletion.
   - Implement Azure Monitor alerts to notify administrators of any changes or suspicious activities related to the `microsoft.web.sites.functions.keys.write` event.

Example CLI command for enabling Azure Active Directory authentication for Azure Functions:
```
az functionapp auth update --name <function_app_name> --resource-group <resource_group_name> --enabled true --action LoginWithAzureActiveDirectory
```

Example CLI command for integrating Azure Key Vault with Azure Functions:
```
az functionapp config appsettings set --name <function_app_name> --resource-group <resource_group_name> --settings AzureWebJobsSecretStorageType=AzureKeyVault
```

Example CLI command for creating an Azure Monitor alert for changes to the `microsoft.web.sites.functions.keys.write` event:
```
az monitor metrics alert create --name <alert_name> --resource-group <resource_group_name> --scopes /subscriptions/<subscription_id>/resourceGroups/<resource_group_name>/providers/Microsoft.Web/sites/<web_app_name>/functions/<function_name> --condition "category=Administrative and operationName=Microsoft.Web/sites/functions/write" --action email <admin_email_address>
```

Note: Replace `<function_app_name>`, `<resource_group_name>`, `<subscription_id>`, `<web_app_name>`, `<function_name>`, and `<admin_email_address>` with the appropriate values for your environment.


 