--- 
slug: Microsoft.ContainerService.managedClusters.nodes.delete
eventname: Microsoft.ContainerService.managedClusters.nodes.delete
title: Microsoft.ContainerService.managedClusters.nodes.delete
sidebar_label: Microsoft.ContainerService.managedClusters.nodes.delete
---
                       
### Event Information

#### Meaning

1. The Microsoft.ContainerService.managedClusters.nodes.delete event in Azure Container Service signifies the deletion of a node within a managed cluster.
2. This event indicates that a node, which is a virtual machine instance, has been removed from the managed cluster in Azure Container Service.
3. The event can be triggered manually by an administrator or automatically as part of scaling operations or cluster maintenance tasks.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Azure Container Service and performs a "delete" operation on the managed cluster nodes, it can lead to a potential security breach. This can result in the loss of critical data, disruption of services, or unauthorized access to sensitive information.

Remediation:
- Implement strong access controls: Ensure that only authorized users have access to the Azure Container Service and its resources. Use Azure RBAC (Role-Based Access Control) to assign appropriate roles and permissions to users.
- Enable auditing and monitoring: Enable Azure Monitor and Azure Security Center to monitor and detect any suspicious activities or unauthorized access attempts. Set up alerts and notifications to promptly respond to security incidents.
- Regularly backup data: Implement a backup strategy to regularly backup critical data stored in the Azure Container Service. This will help in recovering data in case of accidental deletion or security breaches.

Azure CLI command to enable Azure Monitor for the Azure Container Service:
```
az monitor diagnostic-settings create --name <diagnostic-settings-name> --resource <resource-id> --logs '[{"category": "kube-apiserver", "enabled": true}]'
```

2. Example of security impact: If a malicious user gains access to the Azure Container Service and executes a "delete" operation on the managed cluster nodes, it can lead to a denial of service (DoS) attack. This can result in the unavailability of services hosted on the cluster, impacting business operations and customer experience.

Remediation:
- Implement network security groups (NSGs): Configure NSGs to restrict inbound and outbound traffic to the Azure Container Service. Only allow necessary ports and protocols, and block unauthorized access attempts.
- Enable Azure DDoS Protection: Enable Azure DDoS Protection Standard for the Azure Container Service. This service provides automatic protection against DDoS attacks, mitigating the impact of such attacks on the cluster.
- Regularly update and patch: Keep the Azure Container Service and its underlying infrastructure up to date with the latest security patches and updates. This helps in addressing any known vulnerabilities and reducing the risk of security incidents.

Azure CLI command to enable Azure DDoS Protection for the Azure Container Service:
```
az network ddos-protection create --name <ddos-protection-name> --resource-group <resource-group-name> --location <location> --virtual-network <virtual-network-name> --public-ip-address <public-ip-address-name>
```

3. Example of security impact: If a misconfigured access control policy allows unauthorized users to perform the "delete" operation on the managed cluster nodes, it can lead to unauthorized data deletion or modification. This can result in data loss, service disruption, or compromise of sensitive information.

Remediation:
- Regularly review and update access control policies: Conduct periodic reviews of access control policies for the Azure Container Service. Remove any unnecessary or overly permissive access permissions. Follow the principle of least privilege to ensure that users have only the necessary permissions to perform their tasks.
- Implement multi-factor authentication (MFA): Enable MFA for user accounts accessing the Azure Container Service. This adds an extra layer of security and reduces the risk of unauthorized access.
- Enable Azure AD Privileged Identity Management (PIM): Use Azure AD PIM to manage and control privileged access to the Azure Container Service. This helps in reducing the attack surface and mitigating the risk of unauthorized actions.

Azure CLI command to enable MFA for an Azure AD user:
```
az ad user update --id <user-id> --password <new-password> --force-change-password-next-login true
```

Azure CLI command to enable Azure AD Privileged Identity Management:
```
az ad pim create --name <pim-name> --resource-group <resource-group-name> --location <location>
```


 