--- 
slug: Microsoft.Network.dnszones.delete
eventname: Microsoft.Network.dnszones.delete
title: Microsoft.Network.dnszones.delete
sidebar_label: Microsoft.Network.dnszones.delete
---
                       
### Event Information

#### Meaning

1. The Microsoft.Network.dnszones.delete event in AzureRealTime for AzureNetwork indicates that a DNS zone has been deleted in the Azure Network.
2. This event signifies that the DNS zone and all associated records within that zone have been permanently removed.
3. It is important to note that deleting a DNS zone can have significant impact on the resolution of domain names within the network, so it should be done with caution and proper planning.

#### Example

1. Example of security impact: If the Microsoft.Network.dnszones.delete event is triggered in Azure, it could potentially lead to a security breach if an unauthorized user gains access to delete DNS zones within the Azure Network. This could result in disruption of network services, potential data loss, or unauthorized access to resources.

Remediation:
- Implement RBAC (Role-Based Access Control) to ensure that only authorized users have permissions to delete DNS zones. Assign appropriate roles and permissions to users based on their responsibilities.
- Enable Azure AD Privileged Identity Management (PIM) to enforce just-in-time access for critical actions like DNS zone deletion. This adds an extra layer of security by requiring users to request and justify their access before performing such actions.
- Regularly monitor and review audit logs and alerts related to DNS zone deletions. Set up Azure Monitor alerts to notify administrators whenever a DNS zone is deleted, allowing for immediate investigation and response.

Azure CLI command to assign RBAC role to a user:
```
az role assignment create --assignee <user-object-id> --role "DNS Zone Contributor" --scope /subscriptions/<subscription-id>/resourceGroups/<resource-group-name>/providers/Microsoft.Network/dnszones/<dns-zone-name>
```

2. Example of security impact: If the Microsoft.Network.dnszones.delete event is triggered in Azure, it could be exploited by an attacker to delete critical DNS zones, leading to service disruption or DNS hijacking. This can result in redirecting network traffic to malicious destinations, compromising the confidentiality and integrity of data.

Remediation:
- Implement Azure Resource Locks to prevent accidental or unauthorized deletion of DNS zones. Apply a "CanNotDelete" lock on critical DNS zones to ensure they cannot be deleted without explicit permission.
- Enable Azure DNS zone recovery feature to enable point-in-time recovery of deleted DNS zones. This allows for quick restoration of deleted zones in case of accidental deletion or malicious activity.
- Regularly backup DNS zone configurations and store them in a secure location. This ensures that even if a DNS zone is deleted, it can be restored from the backup without significant impact on services.

Azure CLI command to apply a resource lock:
```
az lock create --name <lock-name> --lock-type CanNotDelete --resource <resource-id>
```

3. Example of security impact: If the Microsoft.Network.dnszones.delete event is triggered in Azure, it could lead to a loss of DNS resolution for critical services or applications. This can result in service downtime, loss of productivity, and potential financial impact for the organization.

Remediation:
- Implement a multi-factor authentication (MFA) policy for users with permissions to delete DNS zones. This adds an extra layer of security by requiring additional verification before performing critical actions.
- Enable Azure DNS zone versioning to maintain a history of DNS zone changes. This allows for easy rollback in case of accidental deletion and provides visibility into any unauthorized changes made to DNS zones.
- Regularly review and update DNS zone deletion permissions. Remove unnecessary permissions and ensure that only authorized personnel have the ability to delete DNS zones.

Azure CLI command to enable MFA for a user:
```
az ad user update --id <user-object-id> --require-mfa true
```


 