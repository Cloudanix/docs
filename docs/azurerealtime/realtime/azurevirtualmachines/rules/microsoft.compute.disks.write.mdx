--- 
slug: Microsoft.Compute.disks.write
eventname: Microsoft.Compute.disks.write
title: Microsoft.Compute.disks.write
sidebar_label: Microsoft.Compute.disks.write
---
                       
### Event Information

#### Meaning

- The Microsoft.Compute.disks.write event in AzureRealTime for AzureVirtualMachines refers to a disk write operation that has occurred on a virtual machine in Azure.
- This event indicates that data has been written to a disk attached to the virtual machine, which could include activities such as saving files, installing software, or updating the operating system.
- Monitoring and analyzing this event can provide insights into the disk usage and performance of Azure virtual machines, helping to identify any potential issues or bottlenecks related to disk write operations.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Microsoft.Compute.disks.write event in AzureRealTime for AzureVirtualMachines, they could potentially modify or delete the virtual machine disks. This could lead to data loss, service disruption, or unauthorized access to sensitive information.

Remediation:
- Enable Azure RBAC (Role-Based Access Control) to ensure that only authorized users have access to the Microsoft.Compute.disks.write event. This will help prevent unauthorized modifications to the virtual machine disks.
- Regularly review and audit the access control policies and permissions for AzureVirtualMachines to identify any potential security gaps. Use the Azure CLI command to list the access control assignments for a specific resource group:

```
az role assignment list --resource-group <resource-group-name> --resource <virtual-machine-name> --output table
```

- Implement Azure Monitor alerts to notify administrators whenever a Microsoft.Compute.disks.write event is triggered. This will help detect any unauthorized access attempts and allow for immediate remediation actions to be taken.

2. Example of security impact: If the Microsoft.Compute.disks.write event is misconfigured or misused, it could lead to unintended modifications or deletions of virtual machine disks. This could result in data loss, service disruption, or unauthorized access to sensitive information.

Remediation:
- Implement Azure Resource Locks to prevent accidental modifications or deletions of virtual machine disks. Use the Azure CLI command to apply a read-only lock to a specific resource:

```
az lock create --name <lock-name> --resource-group <resource-group-name> --resource <virtual-machine-name> --lock-type CanNotDelete --notes "Prevent accidental modifications or deletions"
```

- Regularly review and monitor the Azure Activity Log for any suspicious or unauthorized Microsoft.Compute.disks.write events. Use the Azure CLI command to retrieve the activity log for a specific resource group:

```
az monitor activity-log list --resource-group <resource-group-name> --resource <virtual-machine-name> --output table
```

- Enable Azure Backup for the virtual machine disks to ensure that regular backups are taken. This will help mitigate the impact of any accidental modifications or deletions by allowing for easy restoration of the disks.

3. Example of security impact: If the Microsoft.Compute.disks.write event is exploited by a malicious actor, they could potentially inject malicious code or malware into the virtual machine disks. This could lead to unauthorized access, data breaches, or compromise of the entire virtual machine.

Remediation:
- Implement Azure Disk Encryption to encrypt the virtual machine disks. This will help protect the data stored on the disks from unauthorized access or tampering. Use the Azure CLI command to enable disk encryption for a specific virtual machine:

```
az vm encryption enable --resource-group <resource-group-name> --name <virtual-machine-name> --volume-type All
```

- Regularly update and patch the virtual machine operating system and applications to mitigate any known vulnerabilities that could be exploited through the Microsoft.Compute.disks.write event.

- Implement network security groups (NSGs) to restrict inbound and outbound traffic to the virtual machine disks. This will help prevent unauthorized access or communication with the disks. Use the Azure CLI command to create an NSG and associate it with a virtual machine:

```
az network nsg create --resource-group <resource-group-name> --name <nsg-name>
az network nsg rule create --resource-group <resource-group-name> --nsg-name <nsg-name> --name Allow-SSH --protocol tcp --direction inbound --priority 100 --destination-port-range 22 --access allow
az network nic update --resource-group <resource-group-name> --name <nic-name> --network-security-group <nsg-name>
```


 