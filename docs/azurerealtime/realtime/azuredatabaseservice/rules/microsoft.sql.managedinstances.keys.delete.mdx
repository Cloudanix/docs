--- 
slug: Microsoft.Sql.managedInstances.keys.delete
eventname: Microsoft.Sql.managedInstances.keys.delete
title: Microsoft.Sql.managedInstances.keys.delete
sidebar_label: Microsoft.Sql.managedInstances.keys.delete
---
                       
### Event Information

#### Meaning

1. The Microsoft.Sql.managedInstances.keys.delete event in AzureRealTime for AzureDatabaseService indicates that a key associated with a managed instance in Azure SQL Database has been deleted.
2. This event signifies that a specific encryption key used for data protection in the managed instance has been removed from the system.
3. It is important to monitor this event as it could indicate a potential security breach or unauthorized access to the encryption keys, which may require investigation and remediation.

#### Example

1. Example of security impact: If the Microsoft.Sql.managedInstances.keys.delete event occurs in Azure Real-time for Azure Database Service, it indicates that a key used for authentication and encryption in the managed instance has been deleted. This can potentially lead to unauthorized access to the database and compromise the security of sensitive data.

2. Remediation: To mitigate the security impact of this event, the following steps can be taken:

   - Immediately investigate the event and identify the reason for the key deletion. This could be accidental or malicious.
   - Restore the deleted key if possible, or generate a new key and update the necessary configurations to ensure uninterrupted access to the managed instance.
   - Review and update the access control policies and permissions to prevent unauthorized access to the database.
   - Monitor the database for any suspicious activities or unauthorized access attempts.

   Azure CLI command to restore a deleted key in Azure SQL Managed Instance:

   ```
   az sql mi key create --resource-group <resource-group-name> --mi <managed-instance-name> --kid <key-id> --key-type <key-type> --server-key-type <server-key-type>
   ```

   Note: Replace `<resource-group-name>`, `<managed-instance-name>`, `<key-id>`, `<key-type>`, and `<server-key-type>` with the appropriate values.

3. Best practices to prevent such security impacts:

   - Implement strong access control measures, including role-based access control (RBAC) and least privilege principles, to limit the number of users with key deletion permissions.
   - Regularly backup and securely store the keys used for authentication and encryption to ensure they can be restored if accidentally deleted.
   - Enable auditing and monitoring features to track key-related activities and detect any suspicious or unauthorized actions.
   - Regularly review and update security configurations and policies to align with industry best practices and compliance standards.


 