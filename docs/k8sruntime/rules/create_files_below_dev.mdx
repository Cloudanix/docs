--- 
slug: Create files below dev
rule: Create files below dev
title: Create files below dev
sidebar_label: Create files below dev
---
                   

### Event Information

#### Meaning

- The "Create files below dev" event in a Kubernetes cluster indicates that a process running within a container has attempted to create files in the "/dev" directory.
- This event could be a potential security concern as the "/dev" directory contains device files that provide direct access to hardware devices. Creating files in this directory could be an attempt to gain unauthorized access or manipulate system resources.
- To investigate this event, you can use the following kubectl command to list the pods running in the cluster and check their logs for any suspicious activity: 
  `kubectl get pods --all-namespaces`

#### Remediation

To create files below the "dev" directory using a bash script, you can follow these steps:

1. Create a bash script file, for example, "create_files.sh", and add the following content:
```bash
#!/bin/bash

mkdir -p /dev
touch /dev/file1
touch /dev/file2
```
2. Save the file and make it executable by running the command:
```bash
chmod +x create_files.sh
```
3. Execute the script using the command:
```bash
./create_files.sh
```

To create files below the "dev" directory using kubectl commands, you can follow these steps:

1. Create a YAML file, for example, "create_files.yaml", and add the following content:
```yaml
apiVersion: v1
kind: Pod
metadata:
  name: create-files-pod
spec:
  containers:
  - name: create-files-container
    image: python:3.9
    command: ["/bin/sh", "-c"]
    args:
    - |
      mkdir -p /dev
      touch /dev/file1
      touch /dev/file2
    volumeMounts:
    - name: dev-volume
      mountPath: /dev
  volumes:
  - name: dev-volume
    emptyDir: {}
```
2. Apply the YAML file using the command:
```bash
kubectl apply -f create_files.yaml
```
3. Wait for the pod to be created and the files to be created inside it. You can check the pod status using the command:
```bash
kubectl get pods
```

To use the created files in a Python script, you can refer to them using their absolute paths ("/dev/file1" and "/dev/file2") within your Python code.

 