--- 
slug: Mkdir binary dirs
rule: Mkdir binary dirs
title: Mkdir binary dirs
sidebar_label: Mkdir binary dirs
---
                   

### Event Information

#### Meaning

- The Mkdir binary dirs event in a Kubernetes cluster indicates that a process attempted to create a directory using the `mkdir` command.
- This event could be triggered by a legitimate action, such as a pod or container creating a directory for storing temporary files or logs.
- However, it could also be a potential security concern if the directory creation is unauthorized or violates compliance standards. It is important to investigate the source and purpose of the directory creation.

To investigate further, you can use the following kubectl command:
- `kubectl get pods` to list all running pods in the cluster and identify the pod associated with the event.
- `kubectl logs <pod_name>` to view the logs of the specific pod and check for any suspicious activity related to directory creation.
- `kubectl describe pod <pod_name>` to get more details about the pod, such as the container image and command being executed, which can help in understanding the purpose of the directory creation.

#### Remediation

1. Bash script:
   - Create a new bash script file, e.g., `mkdir_script.sh`.
   - Use the `mkdir` command to create the necessary directories. For example:
     ```bash
     #!/bin/bash
     mkdir -p /path/to/directory1
     mkdir -p /path/to/directory2
     ```
   - Save and close the file.
   - Make the script executable by running `chmod +x mkdir_script.sh`.
   - You can then execute the script using `./mkdir_script.sh`.

2. Kubectl commands:
   - Create a YAML file, e.g., `mkdir.yaml`, to define a Kubernetes Job resource.
   - Specify the `kubectl` command to create the necessary directories as a container command in the Job's pod template. For example:
     ```yaml
     apiVersion: batch/v1
     kind: Job
     metadata:
       name: mkdir-job
     spec:
       template:
         spec:
           containers:
           - name: mkdir-container
             image: python:3.9
             command: ["mkdir", "-p", "/path/to/directory1", "/path/to/directory2"]
             restartPolicy: Never
     ```
   - Apply the YAML file using `kubectl apply -f mkdir.yaml`.

3. Python script:
   - Use the `os` module in Python to create the necessary directories. For example:
     ```python
     import os
     
     os.makedirs('/path/to/directory1', exist_ok=True)
     os.makedirs('/path/to/directory2', exist_ok=True)
     ```
   - Save the Python script, e.g., `mkdir_script.py`.
   - You can then execute the script using `python mkdir_script.py`.

 