--- 
slug: gcp_rt_pubsub_subscription_changes
eventname: google.pubsub.v1.Subscriber.DeleteSubscription
title: DeleteSubscription
sidebar_label: google.pubsub.v1.Subscriber.DeleteSubscription
---
                       
### Event Information

#### Meaning

1. The google.pubsub.v1.Subscriber.DeleteSubscription event in gcprealtime for Pubsub indicates that a subscription has been deleted in Google Cloud Pub/Sub.
2. This event is triggered when a user or an automated process initiates the deletion of a subscription.
3. The event provides information about the deleted subscription, such as its name and the project it belongs to.

#### Example

1. Example of security impact: If an unauthorized user gains access to the `google.pubsub.v1.Subscriber.DeleteSubscription` event in GCP Realtime Pub/Sub, they can potentially delete a subscription that is critical for the functioning of an application or service. This can lead to disruption of service, loss of data, or unauthorized access to sensitive information.

Remediation:
- Implement proper access controls and permissions: Ensure that only authorized users or service accounts have the necessary permissions to delete subscriptions in GCP Pub/Sub. Use IAM roles and policies to restrict access to sensitive operations.
- Enable audit logging and monitoring: Enable audit logs for Pub/Sub and regularly monitor them for any suspicious activity. This can help detect and respond to unauthorized deletion attempts in a timely manner.
- Implement backup and recovery mechanisms: Regularly backup subscription configurations and data to mitigate the impact of accidental or malicious deletions. This can involve exporting subscription configurations and messages to Cloud Storage or another durable storage solution.

Example CLI command to create a Pub/Sub subscription with appropriate IAM permissions:
```
gcloud pubsub subscriptions create <subscription-name> --topic=<topic-name> --ack-deadline=30 --role=roles/pubsub.subscriber
```

Example CLI command to enable audit logging for Pub/Sub:
```
gcloud logging sinks create <sink-name> pubsub.googleapis.com/projects/<project-id>/topics/<topic-name> --log-filter='protoPayload.methodName="google.pubsub.v1.Subscriber.DeleteSubscription"'
```


 