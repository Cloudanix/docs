--- 
slug: gcp_rt_logging_sink_changes
eventname: google.logging.v2.ConfigServiceV2.CreateSink
title: CreateSink
sidebar_label: google.logging.v2.ConfigServiceV2.CreateSink
---
                       
### Event Information

#### Meaning

- The google.logging.v2.ConfigServiceV2.CreateSink event in gcprealtime for Logging refers to the creation of a sink in Google Cloud Platform's Logging service.
- This event indicates that a new sink has been created to export log entries from a specific resource or set of resources to a destination outside of Google Cloud Platform.
- The event provides information about the sink configuration, including the sink name, filter criteria, and the destination where the log entries will be exported, such as a Cloud Storage bucket or a Pub/Sub topic.

#### Example

- One possible way security can be impacted with the `google.logging.v2.ConfigServiceV2.CreateSink` event in GCP Realtime Logging is if an unauthorized user gains access to the event and creates a sink that redirects logs to an external system under their control. This can result in the unauthorized access and exposure of sensitive information.

Remediation:
- Regularly review and monitor the logs for any suspicious activity related to the `google.logging.v2.ConfigServiceV2.CreateSink` event.
- Implement strict access controls and permissions to limit who can create sinks and modify logging configurations.
- Enable audit logging for the Cloud Logging service to track any changes made to sinks and configurations. This can help in identifying unauthorized activities and taking appropriate actions.

Example CLI command to enable audit logging for Cloud Logging:
```
gcloud logging sinks create [SINK_NAME] [DESTINATION] --log-filter='protoPayload.methodName="google.logging.v2.ConfigServiceV2.CreateSink"'
```

Example Bash script to monitor logs for suspicious activity:
```bash
#!/bin/bash

LOG_FILTER='protoPayload.methodName="google.logging.v2.ConfigServiceV2.CreateSink"'
PROJECT_ID='your-project-id'

while true; do
  LOGS=$(gcloud logging read --project $PROJECT_ID --format json --limit 10 --order asc --filter "$LOG_FILTER")
  
  if [[ -n "$LOGS" ]]; then
    # Send alert/notification or take appropriate action
    echo "Suspicious activity detected: $LOGS"
  fi
  
  sleep 60
done
```

Note: Replace `[SINK_NAME]`, `[DESTINATION]`, and `your-project-id` with the appropriate values for your environment.


 