--- 
slug: gcp_rt_compute_instance_changes
eventname: beta.compute.instances.insert
title: insert
sidebar_label: beta.compute.instances.insert
---

### Event Information

#### Meaning

- The beta.compute.instances.insert event in gcprealtime for Compute refers to the creation of a new virtual machine instance in Google Cloud Platform (GCP).
- This event indicates that a user or an automated process has initiated the creation of a new virtual machine instance in GCP Compute Engine.
- It is a real-time event that can be used to track and monitor the provisioning of new instances in GCP, allowing for better visibility and control over the infrastructure.

#### Example

Example of how security can be impacted with beta.compute.instances.insert event in GCP Realtime for Compute:

1. Unauthorized access: If an attacker gains access to the beta.compute.instances.insert event, they can potentially create new instances in the GCP environment without proper authorization. This can lead to unauthorized access to sensitive data or resources within the cloud environment.

Remediation:
- Implement strict access controls: Ensure that only authorized users or services have the necessary permissions to create instances in the GCP environment. Use IAM roles and policies to control access and limit the ability to create instances.
- Enable VPC Service Controls: VPC Service Controls allow you to define a security perimeter around your resources, preventing unauthorized access even if an attacker gains access to the beta.compute.instances.insert event. Configure VPC Service Controls to restrict access to only trusted networks or services.

2. Resource exhaustion: If an attacker repeatedly triggers the beta.compute.instances.insert event, they can potentially create a large number of instances, leading to resource exhaustion. This can result in performance degradation or denial of service for legitimate users.

Remediation:
- Implement quotas and limits: Set up quotas and limits for instance creation to prevent excessive resource usage. Use the GCP Resource Manager to define and enforce these limits.
- Monitor and alert on unusual activity: Implement monitoring and alerting mechanisms to detect and notify you of any abnormal patterns of instance creation. Use Cloud Monitoring or Cloud Logging to track and analyze events related to instance creation.

3. Data exfiltration: If an attacker gains access to the beta.compute.instances.insert event, they can potentially create instances with malicious intent, such as exfiltrating sensitive data from the GCP environment. The attacker can use these instances to extract and transfer data to external locations.

Remediation:
- Implement data loss prevention (DLP) measures: Use GCP's Data Loss Prevention API or services like Cloud Data Loss Prevention to scan and classify sensitive data. Apply appropriate data protection measures, such as encryption or tokenization, to prevent unauthorized access or exfiltration.
- Implement network security controls: Configure firewall rules and network security groups to restrict outbound traffic from instances. Use VPC Service Controls or Cloud Armor to further secure network traffic and prevent data exfiltration.

Example CLI command for remediation:
To limit the ability to create instances, you can use the following gcloud command to update IAM roles and permissions:
```
gcloud projects add-iam-policy-binding [PROJECT_ID] --member=[MEMBER] --role=[ROLE]
```
Replace [PROJECT_ID] with your GCP project ID, [MEMBER] with the user or service account to grant permissions, and [ROLE] with the appropriate IAM role.

Note: The specific remediation steps may vary depending on your specific use case and requirements. It is recommended to consult the official GCP documentation and security best practices for detailed guidance.