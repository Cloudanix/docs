--- 
slug: gcp_rt_vpc_httpsproxy_ssl_policy_changes
eventname: v1.compute.targetHttpsProxies.setSslPolicy
title: v1.compute.targetHttpsProxies.setSslPolicy
sidebar_label: v1.compute.targetHttpsProxies.setSslPolicy
---
                       
### Event Information

1. The v1.compute.targetHttpsProxies.setSslPolicy event in GCP for Compute refers to an action taken to set the SSL policy for a target HTTPS proxy in the Google Cloud Platform.

2. This event indicates that a change has been made to the SSL policy associated with a target HTTPS proxy, which determines the level of security and encryption protocols used for HTTPS traffic.

3. By setting the SSL policy for a target HTTPS proxy, administrators can control the cipher suites, SSL/TLS versions, and other security parameters to ensure secure communication between clients and the backend services behind the proxy.


### Examples

1. Insecure SSL/TLS configuration: If the SSL policy set for the target HTTPS proxy in GCP Compute is not properly configured, it can lead to insecure SSL/TLS connections. This can result in potential security vulnerabilities, such as man-in-the-middle attacks or unauthorized access to sensitive data transmitted over the network.

2. Weak cipher suites: If the SSL policy allows the use of weak cipher suites, it can weaken the security of the SSL/TLS connections established through the target HTTPS proxy. Attackers may be able to exploit vulnerabilities in these weak cipher suites to decrypt or tamper with the encrypted data.

3. Outdated SSL/TLS protocols: If the SSL policy allows the use of outdated SSL/TLS protocols, such as SSLv3 or TLS 1.0, it can expose the target HTTPS proxy to known security vulnerabilities. Attackers can exploit these vulnerabilities to bypass encryption or launch attacks like POODLE (Padding Oracle On Downgraded Legacy Encryption) that specifically target outdated protocols.

### Remediation

#### Using Console

To remediate insecure SSL/TLS configuration, weak cipher suites, and outdated SSL/TLS protocols in GCP Compute using the GCP console, follow these steps:

1. Insecure SSL/TLS configuration:
   - Go to the GCP Console and navigate to the Compute Engine section.
   - Select the appropriate project and click on the "VM instances" tab.
   - Identify the target HTTPS proxy associated with the VM instance that needs remediation.
   - Click on the target HTTPS proxy to open its configuration.
   - Review the SSL policy settings and ensure that it is properly configured with secure SSL/TLS configurations.
   - Make any necessary changes to the SSL policy to enforce secure SSL/TLS connections.
   - Save the changes and verify that the SSL/TLS configuration is now secure.

2. Weak cipher suites:
   - Follow the steps mentioned above to navigate to the target HTTPS proxy's configuration.
   - Review the SSL policy settings and identify the cipher suites allowed.
   - Remove any weak cipher suites from the SSL policy.
   - Save the changes and verify that only strong cipher suites are now allowed for SSL/TLS connections.

3. Outdated SSL/TLS protocols:
   - Again, navigate to the target HTTPS proxy's configuration as mentioned above.
   - Review the SSL policy settings and identify any outdated SSL/TLS protocols allowed.
   - Disable the use of outdated SSL/TLS protocols, such as SSLv3 or TLS 1.0, in the SSL policy.
   - Save the changes and verify that only secure and up-to-date SSL/TLS protocols are now allowed for connections.

By following these steps, you can remediate insecure SSL/TLS configuration, weak cipher suites, and outdated SSL/TLS protocols in GCP Compute using the GCP console.

#### Using CLI

1. Insecure SSL/TLS configuration:
- Identify the target HTTPS proxy that needs remediation.
- Review the current SSL policy configuration for the HTTPS proxy.
- Update the SSL policy to enforce secure SSL/TLS configurations using the following GCP CLI command:
  ```
  gcloud compute ssl-policies update [SSL_POLICY_NAME] --profile=MODERN
  ```
  Replace `[SSL_POLICY_NAME]` with the name of the SSL policy to be updated.

2. Weak cipher suites:
- Identify the target HTTPS proxy that needs remediation.
- Review the current SSL policy configuration for the HTTPS proxy.
- Update the SSL policy to disable weak cipher suites using the following GCP CLI command:
  ```
  gcloud compute ssl-policies update [SSL_POLICY_NAME] --profile=MODERN --min-tls-version=TLS_1_2
  ```
  Replace `[SSL_POLICY_NAME]` with the name of the SSL policy to be updated.

3. Outdated SSL/TLS protocols:
- Identify the target HTTPS proxy that needs remediation.
- Review the current SSL policy configuration for the HTTPS proxy.
- Update the SSL policy to disable outdated SSL/TLS protocols using the following GCP CLI command:
  ```
  gcloud compute ssl-policies update [SSL_POLICY_NAME] --profile=MODERN --min-tls-version=TLS_1_2
  ```
  Replace `[SSL_POLICY_NAME]` with the name of the SSL policy to be updated.

#### Using Python

1. Insecure SSL/TLS configuration:
- Use the GCP Compute API to retrieve the current SSL policy configuration for the target HTTPS proxy.
- Validate the SSL policy settings against best practices and security standards.
- If any insecure configurations are found, update the SSL policy using the GCP Compute API to enforce secure SSL/TLS connections.

2. Weak cipher suites:
- Use the GCP Compute API to retrieve the current SSL policy configuration for the target HTTPS proxy.
- Identify the weak cipher suites allowed by the SSL policy.
- Update the SSL policy using the GCP Compute API to disable the weak cipher suites and enforce the use of strong cipher suites.

3. Outdated SSL/TLS protocols:
- Use the GCP Compute API to retrieve the current SSL policy configuration for the target HTTPS proxy.
- Check if any outdated SSL/TLS protocols (e.g., SSLv3, TLS 1.0) are allowed by the SSL policy.
- Update the SSL policy using the GCP Compute API to disable the outdated protocols and enforce the use of up-to-date SSL/TLS protocols (e.g., TLS 1.2 or higher).

Please note that providing specific Python scripts is beyond the scope of this response, but you can refer to the GCP Compute API documentation and use libraries like `google-api-python-client` to interact with the API in your Python scripts.


 