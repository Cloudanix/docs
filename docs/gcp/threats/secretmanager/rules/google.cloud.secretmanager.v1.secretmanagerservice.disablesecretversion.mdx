--- 
slug: gcp_rt_secretmanager_disable_secret_version
eventname: google.cloud.secretmanager.v1.SecretManagerService.DisableSecretVersion
title: google.cloud.secretmanager.v1.SecretManagerService.DisableSecretVersion
sidebar_label: google.cloud.secretmanager.v1.SecretManagerService.DisableSecretVersion
---
                       
### Event Information

- The `google.cloud.secretmanager.v1.SecretManagerService.DisableSecretVersion` event in GCP for SecretManager indicates that a specific version of a secret has been disabled.
- This event is triggered when a user or an automated process disables a secret version using the Secret Manager API or the Cloud Console.
- Disabling a secret version means that it can no longer be accessed or used by applications or services that rely on it, providing an additional layer of security and control over sensitive information.


### Examples

1. Unauthorized access: Disabling a secret version in Google Cloud Secret Manager can impact security if unauthorized individuals gain access to the secret before it is disabled. This can potentially lead to unauthorized access to sensitive information or resources.

2. Data integrity: Disabling a secret version without proper backup or recovery mechanisms in place can impact data integrity. If a secret version is disabled accidentally or maliciously, it may result in the loss or corruption of critical data, leading to potential security breaches or operational disruptions.

3. Compliance violations: Disabling a secret version without following proper compliance procedures can impact security by violating regulatory requirements. Depending on the industry or region, there may be specific guidelines or standards that dictate how secrets should be managed and disabled. Failing to adhere to these requirements can result in compliance violations and potential legal consequences.

### Remediation

#### Using Console

None

#### Using CLI

To disable a secret version in Google Cloud Secret Manager using GCP CLI commands, you can follow these steps:

1. Authenticate with your Google Cloud account:
```
gcloud auth login
```

2. Set the project where the secret is located:
```
gcloud config set project [PROJECT_ID]
```

3. Disable the secret version:
```
gcloud secrets versions disable [SECRET_VERSION] --secret=[SECRET_NAME]
```
Replace `[PROJECT_ID]` with your actual project ID, `[SECRET_VERSION]` with the version number of the secret you want to disable, and `[SECRET_NAME]` with the name of the secret.

By executing these commands, you can effectively disable a secret version in Google Cloud Secret Manager, mitigating the risk of unauthorized access, meeting compliance requirements, and supporting incident response procedures.

#### Using Python

To disable a secret version in Google Cloud Secret Manager using Python, you can utilize the Secret Manager client library. Here's an example script:

```python
from google.cloud import secretmanager

def disable_secret_version(project_id, secret_id, version_id):
    client = secretmanager.SecretManagerServiceClient()
    secret_name = f"projects/{project_id}/secrets/{secret_id}"
    version_name = f"{secret_name}/versions/{version_id}"

    # Disable the secret version
    response = client.disable_secret_version(request={"name": version_name})
    print(f"Disabled secret version: {response.name}")

# Usage example
project_id = "your-project-id"
secret_id = "your-secret-id"
version_id = "your-version-id"

disable_secret_version(project_id, secret_id, version_id)
```

Make sure to replace `"your-project-id"`, `"your-secret-id"`, and `"your-version-id"` with the actual values corresponding to the secret version you want to disable.


 