--- 
slug: gcp_rt_sql_instance_changes
eventname: cloudsql.instances.update
title: update
sidebar_label: cloudsql.instances.update
---
                       
### Event Information

#### Meaning

- The cloudsql.instances.update event in gcprealtime for CloudSQL refers to an event that occurs when an update is made to a CloudSQL instance in Google Cloud Platform (GCP).
- This event indicates that a change has been made to the configuration or settings of the CloudSQL instance, such as modifying the instance size, changing the storage capacity, or updating the database version.
- It is important to monitor this event as it provides visibility into any changes made to the CloudSQL instance, allowing administrators to track and audit modifications, and ensuring the instance is properly configured and optimized.

#### Example

1. Example of security impact: If an unauthorized user gains access to the `cloudsql.instances.update` event in GCP Realtime, they could potentially modify the configuration or settings of a CloudSQL instance. This could lead to unauthorized access to sensitive data stored in the database, data leakage, or even a complete compromise of the database.

Remediation:
- Enable audit logging for CloudSQL instances to track any changes made to the instance configuration.
- Implement strong access controls and permissions for the `cloudsql.instances.update` event, ensuring that only authorized users or service accounts have the necessary privileges to modify CloudSQL instances.
- Regularly review and monitor the audit logs for any suspicious activity or unauthorized changes to the CloudSQL instances.

Example GCP CLI command to enable audit logging for a CloudSQL instance:
```
gcloud sql instances patch [INSTANCE_NAME] --enable-audit-log
```

2. Example of security impact: If the `cloudsql.instances.update` event is triggered with a malicious payload, it could potentially lead to the execution of unauthorized commands or code within the CloudSQL instance. This could result in data corruption, data loss, or even a complete compromise of the database.

Remediation:
- Implement strict input validation and sanitization mechanisms to prevent any unauthorized or malicious payloads from being processed by the CloudSQL instance.
- Regularly update and patch the CloudSQL instance to ensure any known vulnerabilities are addressed.
- Implement network-level security controls, such as VPC Service Controls or firewall rules, to restrict access to the CloudSQL instance from unauthorized sources.

Example GCP CLI command to update the CloudSQL instance with the latest patches:
```
gcloud sql instances patch [INSTANCE_NAME] --database-version=latest
```

3. Example of security impact: If the `cloudsql.instances.update` event is triggered by an unauthorized user or a compromised service account, they could potentially modify the network configuration of the CloudSQL instance. This could result in unauthorized access to the database from external sources, exposing sensitive data to potential attackers.

Remediation:
- Implement strong access controls and permissions for the `cloudsql.instances.update` event, ensuring that only authorized users or service accounts have the necessary privileges to modify the network configuration of CloudSQL instances.
- Regularly review and monitor the network configuration of CloudSQL instances to detect any unauthorized changes.
- Implement network-level security controls, such as VPC Service Controls or firewall rules, to restrict access to the CloudSQL instance from unauthorized sources.

Example GCP CLI command to restrict access to the CloudSQL instance using firewall rules:
```
gcloud sql instances patch [INSTANCE_NAME] --authorized-networks=[IP_RANGE]
```


 