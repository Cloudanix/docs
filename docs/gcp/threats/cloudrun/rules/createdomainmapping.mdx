--- 
slug: gcp_rt_cloudrun_domainmappings_change
eventname: google.cloud.run.v1.Jobs.CreateDomainMapping
title: CreateDomainMapping
sidebar_label: google.cloud.run.v1.Jobs.CreateDomainMapping
---
                       
### Event Information

#### Meaning

- The google.cloud.run.v1.Jobs.CreateDomainMapping event in gcprealtime for CloudRun signifies the creation of a domain mapping for a Cloud Run service.
- This event indicates that a user has configured a custom domain to be associated with a specific Cloud Run service.
- It is triggered when a user creates a new domain mapping using the Cloud Run API or the Cloud Console, allowing the service to be accessed using a custom domain name.

#### Example

1. Possible Impact on Security:
- If the google.cloud.run.v1.Jobs.CreateDomainMapping event in gcprealtime for CloudRun is compromised, it could potentially lead to unauthorized access to the domain mapping configuration, exposing sensitive information or allowing an attacker to redirect traffic to a malicious destination.

2. Remediation Steps:
- Regularly monitor and review the CloudRun domain mapping configuration for any unauthorized changes.
- Implement strong access controls and permissions to limit who can create or modify domain mappings.
- Enable audit logging for CloudRun to track any suspicious activity related to domain mapping changes.
- Consider implementing additional security measures such as enabling Cloud Armor to protect against DDoS attacks or using Cloud Identity-Aware Proxy (IAP) to enforce access controls and authentication.

Example GCP CLI Command for Monitoring Domain Mapping Changes:
```
gcloud logging read "resource.type=cloud_run_revision AND protoPayload.methodName=google.cloud.run.v1.Jobs.CreateDomainMapping" --project [PROJECT_ID]
```

Example GCP CLI Command for Enabling Audit Logging for CloudRun:
```
gcloud projects add-iam-policy-binding [PROJECT_ID] --member=serviceAccount:[SERVICE_ACCOUNT_EMAIL] --role=roles/run.admin
```

Example GCP CLI Command for Enabling Cloud Armor for CloudRun:
```
gcloud beta compute security-policies create [POLICY_NAME] --project [PROJECT_ID]
gcloud beta compute security-policies rules create [RULE_NAME] --security-policy [POLICY_NAME] --project [PROJECT_ID] --expression "request.path.matches('/[DOMAIN_MAPPING_PATH]')"
gcloud beta compute backend-services update [BACKEND_SERVICE_NAME] --security-policy [POLICY_NAME] --project [PROJECT_ID]
```

Example GCP CLI Command for Enabling Cloud Identity-Aware Proxy (IAP) for CloudRun:
```
gcloud beta compute backend-services update [BACKEND_SERVICE_NAME] --iap=enabled --project [PROJECT_ID]
```


 