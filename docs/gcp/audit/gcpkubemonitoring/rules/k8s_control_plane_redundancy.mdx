---
slug: k8s_control_plane_redundancy
title: Enable Regional Redundancy For Maximum Availability
sidebar_label: Enable Regional Redundancy For Maximum Availability
---

### More Info:

GKE cluster should be regional for maximum availability of control plane during upgrades and zonal outages

### Risk Level

High

### Address

Security, Reliability, Operational Excellence, Performance Efficiency

### Compliance Standards

CBP
### Remediation

#### Using Console

To enable regional redundancy for maximum availability in GCP, follow these step-by-step instructions:

1. Open the GCP Console and select the project where you want to enable regional redundancy.

2. Go to the Cloud Storage section of the console.

3. Select the bucket for which you want to enable regional redundancy.

4. Click on the "Edit bucket" button at the top of the page.

5. Scroll down to the "Location" section of the page.

6. Select "Regional" from the dropdown menu.

7. Choose the region where you want to store your data.

8. Click on the "Save" button at the bottom of the page.

9. Wait for the changes to take effect. This may take some time depending on the amount of data you have stored in your bucket.

Once you have completed these steps, your bucket will be configured for regional redundancy, which means that your data will be stored in multiple locations within the same region for maximum availability.

#### Using CLI

To enable regional redundancy for maximum availability in GCP, follow these steps using GCP CLI:

1. Open the Google Cloud Console and select the project that contains the resources you want to configure.

2. Open the Cloud Shell by clicking on the "Activate Cloud Shell" button on the top right corner of the console.

3. Run the following command to enable regional redundancy for Cloud Storage:

   ```
   gsutil versioning set on gs://[BUCKET_NAME]
   ```
   Replace [BUCKET_NAME] with the name of the bucket you want to enable regional redundancy for.

4. Run the following command to enable regional redundancy for Cloud SQL:

   ```
   gcloud sql instances patch [INSTANCE_NAME] --availability-type REGIONAL
   ```
   Replace [INSTANCE_NAME] with the name of the Cloud SQL instance you want to enable regional redundancy for.

5. Run the following command to enable regional redundancy for Compute Engine:

   ```
   gcloud compute instances create [INSTANCE_NAME] --zone [ZONE] --create-disk=auto-delete=yes,boot=yes,mode=rw,name=[DISK_NAME],replica-zones=[ZONE_1],[ZONE_2],type=pd-ssd
   ```
   Replace [INSTANCE_NAME] with the name of the Compute Engine instance you want to enable regional redundancy for. Replace [ZONE] with the primary zone for the instance. Replace [DISK_NAME] with the name of the boot disk for the instance. Replace [ZONE_1] and [ZONE_2] with the two additional zones you want to replicate the instance to.

By following these steps, you can enable regional redundancy for maximum availability in GCP.

#### Using Python

To enable regional redundancy for maximum availability in GCP using Python, you can follow these steps:

1. Import the necessary libraries:

```
from google.cloud import storage
```

2. Create a client object for the storage bucket:

```
client = storage.Client()
```

3. Get the bucket object:

```
bucket = client.get_bucket('your-bucket-name')
```

4. Set the location type to regional:

```
bucket.location_type = 'regional'
```

5. Set the location to the desired region:

```
bucket.location = 'your-region'
```

6. Update the bucket:

```
bucket.update()
```

7. Confirm that the bucket is now using regional redundancy by checking the bucket's location type:

```
print(bucket.location_type)
```

This should output "REGIONAL", indicating that the bucket is now using regional redundancy.

Note: Replace "your-bucket-name" and "your-region" with the actual name of your bucket and the desired region, respectively.



