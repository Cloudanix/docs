---
slug: function_uses_latest_runtimes
title: Cloud Functions Should Use Latest Runtimes
sidebar_label: Cloud Functions Should Use Latest Runtimes
---

### More Info:

Cloud Functions should be using latest runtimes for deploying functions

### Risk Level

Low

### Address

Security, Reliability

### Compliance Standards

CBP

### Remediation

#### Using Console

To remediate the issue of Cloud Functions not using the latest runtimes in GCP, follow these steps:

1. Open the GCP console and navigate to the Cloud Functions page.
2. Select the function that needs to be updated.
3. Click on the "Edit" button to edit the function.
4. In the "Runtime" field, select the latest version of the runtime that is available.
5. Click on the "Save" button to save the changes.

By following these steps, you will be able to remediate the issue of Cloud Functions not using the latest runtimes in GCP.

#### Using CLI

To remediate the misconfiguration "Cloud Functions Should Use Latest Runtimes" for GCP using GCP CLI, follow the steps below:

1. Open the Google Cloud SDK Shell or any terminal on your local machine.

2. Authenticate to your GCP account using the command:
    
    ```
    gcloud auth login
    ```
    
3. Set the project where the Cloud Function is located using the command:

    ```
    gcloud config set project [PROJECT_ID]
    ```
    
4. List all the Cloud Functions in the project using the command:

    ```
    gcloud functions list
    ```
    
5. Identify the Cloud Function that is not using the latest runtime.

6. Update the Cloud Function to use the latest runtime version using the command:

    ```
    gcloud functions deploy [FUNCTION_NAME] --runtime [RUNTIME_VERSION] --update-labels runtime=latest
    ```

    Replace [FUNCTION_NAME] with the name of the Cloud Function you want to update and [RUNTIME_VERSION] with the latest version of the runtime for your programming language. For example, if you are using Node.js, the latest version of the runtime is Node.js 14, so you would use `--runtime nodejs14`.

7. Verify that the Cloud Function is using the latest runtime by checking the Cloud Function details using the command:

    ```
    gcloud functions describe [FUNCTION_NAME]
    ```

    The output should show that the runtime label is set to "latest".

By following the above steps, you can remediate the misconfiguration "Cloud Functions Should Use Latest Runtimes" for GCP using GCP CLI.

#### Using Python

To remediate the misconfiguration "Cloud Functions should use latest runtimes" in GCP using Python, you can follow the below steps:

1. Open the Google Cloud Console and navigate to the Cloud Functions page.
2. Select the function for which you want to update the runtime.
3. Click on the "Edit" button to modify the function.
4. In the "Runtime" section, select the latest version of the runtime that you want to use.
5. Click on the "Deploy" button to update the function with the latest runtime.

Alternatively, you can use the gcloud command-line tool to update the runtime of the function. Here are the steps to do it:

1. Open the command prompt or terminal on your local machine.
2. Login to your GCP account using the command "gcloud auth login".
3. Set the project to the one where your function is deployed using the command "gcloud config set project [PROJECT_ID]".
4. Update the runtime of the function using the command "gcloud functions deploy [FUNCTION_NAME] --runtime [RUNTIME_VERSION]".

Replace [PROJECT_ID] with your GCP project ID, [FUNCTION_NAME] with the name of your function, and [RUNTIME_VERSION] with the latest version of the runtime that you want to use.

By following these steps, you can remediate the misconfiguration "Cloud Functions should use latest runtimes" in GCP using Python.


### Additional Reading:

- [https://cloud.google.com/functions/docs/concepts/exec](https://cloud.google.com/functions/docs/concepts/exec) 

