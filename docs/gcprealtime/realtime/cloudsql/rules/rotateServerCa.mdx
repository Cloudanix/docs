--- 
slug: gcp_rt_sql_instances_security_activities
eventname: cloudsql.instances.rotateServerCa
title: rotateServerCa
sidebar_label: cloudsql.instances.rotateServerCa
---
                       
### Event Information

#### Meaning

1. The "cloudsql.instances.rotateServerCa" event in GCP Realtime for CloudSQL refers to the rotation of the server certificate authority (CA) for a CloudSQL instance.
2. This event indicates that the CA used to sign the server certificates for the CloudSQL instance has been rotated, ensuring the security and integrity of the SSL/TLS connections to the database.
3. Rotating the server CA helps to mitigate the risk of compromised or outdated certificates, and it is an important security practice to maintain the trustworthiness of the CloudSQL instance.

#### Example

- The security can be impacted with the `cloudsql.instances.rotateServerCa` event in GCP Realtime for CloudSQL if the server certificate authority (CA) used to sign the SSL/TLS certificates for the CloudSQL instance is compromised or no longer trusted.
- This event indicates that the CA used by the CloudSQL instance has been rotated, which means that the old CA is no longer valid and the CloudSQL instance needs to be updated with the new CA.
- To remediate this issue, you can follow these steps:
  1. Retrieve the current CA certificate for the CloudSQL instance using the Cloud SDK command:
     ```
     gcloud sql instances describe [INSTANCE_NAME] --format="value(serverCaCert.cert)" > current_ca.pem
     ```
  2. Verify the validity and trustworthiness of the current CA certificate.
  3. If the current CA certificate is compromised or no longer trusted, rotate the server CA for the CloudSQL instance using the Cloud SDK command:
     ```
     gcloud sql instances rotate-server-ca [INSTANCE_NAME]
     ```
  4. After rotating the server CA, update the CloudSQL instance with the new CA certificate using the Cloud SDK command:
     ```
     gcloud sql instances patch [INSTANCE_NAME] --server-ca-cert=[NEW_CA_CERT_FILE]
     ```
     Replace `[NEW_CA_CERT_FILE]` with the path to the new CA certificate file.
  5. Finally, verify that the CloudSQL instance is using the new CA certificate by checking the `cloudsql.instances.rotateServerCa` event in GCP Realtime or by inspecting the instance details using the Cloud SDK command:
     ```
     gcloud sql instances describe [INSTANCE_NAME] --format="value(serverCaCert.cert)"
     ```


 