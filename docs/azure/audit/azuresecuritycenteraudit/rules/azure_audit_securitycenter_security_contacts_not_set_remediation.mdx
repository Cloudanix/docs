

<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Log in to the Azure portal: Navigate to portal.azure.com and sign in with your Azure account credentials.

2. Open Security Center: On the left-hand side menu, click on "Security Center". This will open the Azure Security Center dashboard.

3. Check Security Policy: In the Security Center, click on "Security policy" on the left-hand side menu. This will open a list of your subscriptions.

4. Check Contact Details: Click on a subscription to open the policy for that subscription. Scroll down to the "Contact Details" section. If no security contact is set, this section will be blank or will show a warning.

#### Using CLI

1. Install Azure CLI: Before you can use Azure CLI commands, you need to install Azure CLI on your local machine. You can download it from the official Microsoft Azure website. After installation, open your command prompt or terminal.

2. Login to Azure: Use the following command to login to your Azure account. You will be redirected to the browser for login. Enter your Azure account credentials.
   ```
   az login
   ```
3. Select the Subscription: If you have multiple subscriptions, select the subscription where you want to check the security contact. Use the following command to set the subscription.
   ```
   az account set --subscription "mySubscription"
   ```
4. Check Security Contact: Use the following command to check the security contact in the Azure Security Center. If no security contact is set, the output will be empty.
   ```
   az security contact list --query "[].email"
   ```
This command will list all the security contacts. If no security contact is set, it will return an empty list.

#### Using Python

1. Install Azure SDK: To interact with Azure resources, you need to install Azure SDK for Python. You can install it using pip:
   
   ```
   pip install azure-mgmt-security
   ```

2. Authenticate with Azure: Before you can interact with Azure resources, you need to authenticate. You can use Azure Identity library for this. Here is a sample code snippet:

   ```python
   from azure.identity import DefaultAzureCredential
   from azure.mgmt.security import SecurityCenter

   credential = DefaultAzureCredential()
   subscription_id = "your-subscription-id"  # replace with your Azure Subscription ID
   client = SecurityCenter(credential, subscription_id)
   ```

3. Fetch Security Contacts: Now, you can fetch the security contacts using the `security_contacts` method of the client. Here is a sample code snippet:

   ```python
   security_contacts = client.security_contacts.list()
   ```

4. Check if Security Contact is Set: Finally, you can check if any security contact is set by checking the length of the security contacts list. If the length is 0, then no security contact is set. Here is a sample code snippet:

   ```python
   if len(list(security_contacts)) == 0:
       print("No Security Contact Set in Security Center")
   else:
       print("Security Contact is Set in Security Center")
   ```

</Tab>

<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the "No Security Contact Set" misconfiguration in Azure, you can follow these steps:

1. Log in to the Azure portal (https://portal.azure.com).
2. Navigate to the Security Center by clicking on the "Security Center" icon in the left-hand menu.
3. In the Security Center, click on the "Secure score" tab in the left-hand menu.
4. Scroll down to the "No security contact set" item in the list and click on it.
5. Click on the "Remediate" button to the right of the item.
6. In the "Remediation tasks" pane that appears, select the subscription(s) and resource group(s) that you want to apply the remediation to.
7. Click on the "Remediate" button at the bottom of the pane to apply the remediation.

After completing these steps, Azure will set a security contact for the selected subscription(s) and resource group(s), which will ensure that security alerts and notifications are sent to the appropriate parties.

#### Using CLI

To remediate the "No Security Contact Set" misconfiguration in Azure using Azure CLI, you can follow these steps:

1. Open the Azure CLI and login to your Azure account.
2. Run the following command to get the list of security contacts set for your subscription:
   
   ```
   az security contact list --query '[].{name:name,email:email}' --output table
   ```

   If the output is empty, it means that no security contact has been set for your subscription.

3. To set a security contact for your subscription, run the following command:

   ```
   az security contact create --email <email_address> --name <name> --phone <phone_number>
   ```

   Replace `<email_address>`, `<name>`, and `<phone_number>` with the appropriate values.

4. Once the command is executed successfully, run the following command again to verify that the security contact has been set:

   ```
   az security contact list --query '[].{name:name,email:email}' --output table
   ```

   The output should now show the security contact that you just set.

By following these steps, you have successfully remediated the "No Security Contact Set" misconfiguration in Azure using Azure CLI.

#### Using Python

To remediate the misconfiguration "No Security Contact Set" in Azure using Python, you can follow these steps:

1. Import the necessary modules:

```python
from azure.identity import DefaultAzureCredential
from azure.mgmt.security import SecurityCenter
```

2. Authenticate to Azure using the `DefaultAzureCredential`:

```python
credential = DefaultAzureCredential()
```

3. Create a `SecurityCenter` client object:

```python
security_center_client = SecurityCenter(
    credential=credential,
    subscription_id="<subscription-id>"
)
```
Note: Replace `<subscription-id>` with your Azure subscription ID.

4. Get the security contact for the subscription:

```python
security_contact = security_center_client.security_contacts.get(
    resource_group_name="<resource-group-name>",
    security_contact_name="<security-contact-name>"
)
```
Note: Replace `<resource-group-name>` and `<security-contact-name>` with the appropriate values.

5. If the `security_contact` object is `None`, create a new security contact:

```python
if security_contact is None:
    security_center_client.security_contacts.create(
        resource_group_name="<resource-group-name>",
        security_contact_name="<security-contact-name>",
        email="<email-address>",
        phone="<phone-number>"
    )
```
Note: Replace `<email-address>` and `<phone-number>` with the appropriate values.

6. If the `security_contact` object is not `None`, update the existing security contact:

```python
else:
    security_center_client.security_contacts.create_or_update(
        resource_group_name="<resource-group-name>",
        security_contact_name="<security-contact-name>",
        email="<email-address>",
        phone="<phone-number>"
    )
```
Note: Replace `<email-address>` and `<phone-number>` with the appropriate values.

7. Verify that the security contact has been set:

```python
security_contact = security_center_client.security_contacts.get(
    resource_group_name="<resource-group-name>",
    security_contact_name="<security-contact-name>"
)

if security_contact is not None:
    print("Security contact set successfully.")
else:
    print("Failed to set security contact.")
```

That's it! These steps will remediate the misconfiguration "No Security Contact Set" in Azure using Python.


</Tab>
</Tabs>