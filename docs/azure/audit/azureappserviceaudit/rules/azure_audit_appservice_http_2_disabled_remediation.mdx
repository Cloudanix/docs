

<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Log in to the Azure portal.
2. Navigate to the App Services section and select the specific App Service you want to check.
3. In the App Service menu, click on the "Configuration" option.
4. In the Configuration page, click on the "General settings" tab. Here, you can see the "HTTP version" setting. If it is set to 1.1, then HTTP 2.0 is disabled for this App Service.

#### Using CLI

1. Install Azure CLI: Before you can use Azure CLI commands, you need to install Azure CLI on your local machine. You can download it from the official Microsoft Azure website. Once installed, open your command prompt or terminal.

2. Login to Azure: Use the following command to login to your Azure account. You will be redirected to the browser for login. Enter your credentials and login.
   ```
   az login
   ```
3. Select the Subscription: If you have multiple subscriptions, select the subscription where the App Service is located using the following command. Replace 'my-subscription-id' with your actual subscription id.
   ```
   az account set --subscription 'my-subscription-id'
   ```
4. Check HTTP 2.0 Status: Now, use the following command to check the status of HTTP 2.0 in your App Service. Replace 'my-resource-group' with your resource group name and 'my-app-service' with your app service name.
   ```
   az webapp config show --resource-group 'my-resource-group' --name 'my-app-service' --query http20Enabled
   ```
   If the output is 'false', then HTTP 2.0 is disabled in your App Service. If it's 'true', then HTTP 2.0 is enabled.

#### Using Python

To check if HTTP 2.0 is disabled in Azure App Service using Python scripts, you can use the Azure SDK for Python. Here are the steps:

1. **Install Azure SDK for Python**: If you haven't installed it yet, you can install it using pip:
   ```
   pip install azure-mgmt-web
   ```
2. **Set up Azure credentials**: You need to authenticate your script to access your Azure account. You can do this by setting up environment variables for your Azure credentials. You can get these credentials from the Azure portal.
   ```
   os.environ['AZURE_TENANT_ID'] = 'your-tenant-id'
   os.environ['AZURE_CLIENT_ID'] = 'your-client-id'
   os.environ['AZURE_CLIENT_SECRET'] = 'your-client-secret'
   os.environ['AZURE_SUBSCRIPTION_ID'] = 'your-subscription-id'
   ```
3. **Create a client instance**: Use the WebSiteManagementClient class from the azure.mgmt.web module to create a client instance. This client will be used to interact with your Azure account.
   ```python
   from azure.mgmt.web import WebSiteManagementClient
   from azure.identity import DefaultAzureCredential

   credential = DefaultAzureCredential()
   subscription_id = os.environ['AZURE_SUBSCRIPTION_ID']
   client = WebSiteManagementClient(credential, subscription_id)
   ```
4. **Check HTTP 2.0 status**: Use the client instance to get the configuration of your App Service and check the status of HTTP 2.0.
   ```python
   resource_group_name = 'your-resource-group-name'
   name = 'your-app-service-name'
   config = client.web_apps.get_configuration(resource_group_name, name)
   http2_enabled = config.http20_enabled
   print(f'HTTP 2.0 enabled: {http2_enabled}')
   ```
   This script will print whether HTTP 2.0 is enabled or not for the specified App Service. If it prints False, that means HTTP 2.0 is disabled.

</Tab>

<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the HTTP 2.0 disabled misconfiguration in Azure using the Azure console, you can follow these steps:

1. Log in to the Azure portal and navigate to the App Service that needs to be configured.

2. Under the Settings section, select Configuration.

3. Scroll down to the General settings section, and locate the HTTP version configuration.

4. Change the HTTP version configuration to "2.0" to enable HTTP 2.0.

5. Click Save to apply the changes.

6. Restart the App Service to ensure that the changes are applied.

7. Once the App Service is restarted, verify that HTTP 2.0 is enabled by accessing the application through a web browser and checking the network tab of the developer tools.

By following these steps, you can remediate the HTTP 2.0 disabled misconfiguration in Azure using the Azure console.

#### Using CLI

To remediate HTTP 2.0 disabled misconfiguration in Azure using Azure CLI, you can follow the below steps:

Step 1: Open Azure CLI and login to your Azure account.
```
az login
```

Step 2: Check the current status of HTTP 2.0 on the web app.
```
az webapp show --resource-group <resource-group-name> --name <web-app-name> --query http20Enabled
```

Step 3: If the output of the above command is false, then HTTP 2.0 is disabled for the web app. To enable it, run the below command:
```
az webapp update --resource-group <resource-group-name> --name <web-app-name> --http20-enabled true
```

Step 4: Verify that HTTP 2.0 is enabled by running the below command:
```
az webapp show --resource-group <resource-group-name> --name <web-app-name> --query http20Enabled
```

Step 5: Once verified, you have successfully remediated the HTTP 2.0 disabled misconfiguration for your Azure web app.

Note: Replace `<resource-group-name>` and `<web-app-name>` with your actual resource group and web app name respectively.

#### Using Python

To remediate the HTTP 2.0 Disabled misconfiguration in Azure using Python, you can use the Azure SDK for Python. Here are the step-by-step instructions:

1. Install the Azure SDK for Python by running the following command in your terminal:

   ```
   pip install azure
   ```

2. Import the necessary modules:

   ```
   from azure.mgmt.web import WebSiteManagementClient
   from azure.common.credentials import ServicePrincipalCredentials
   ```

3. Authenticate with Azure using a service principal:

   ```
   credentials = ServicePrincipalCredentials(
       client_id='<your_client_id>',
       secret='<your_client_secret>',
       tenant='<your_tenant_id>'
   )
   ```

4. Create a `WebSiteManagementClient` object:

   ```
   client = WebSiteManagementClient(credentials, '<your_subscription_id>')
   ```

5. Get the resource group and site name for the web app:

   ```
   resource_group_name = '<your_resource_group_name>'
   site_name = '<your_site_name>'
   ```

6. Get the current site configuration:

   ```
   site_config = client.web_apps.get_configuration(resource_group_name, site_name)
   ```

7. Check if HTTP 2.0 is already enabled:

   ```
   if site_config.http20_enabled:
       print('HTTP 2.0 is already enabled.')
   else:
       # Enable HTTP 2.0
       site_config.http20_enabled = True
       client.web_apps.update_configuration(resource_group_name, site_name, site_config)
       print('HTTP 2.0 has been enabled.')
   ```

   This code checks if HTTP 2.0 is already enabled. If it is, it prints a message saying so. If it is not, it enables HTTP 2.0 and prints a message saying it has been enabled.

8. Run the code and verify that HTTP 2.0 has been enabled for your web app.

   ```
   python remediate_http2_disabled.py
   ```


</Tab>
</Tabs>