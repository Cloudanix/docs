### Remediation

#### Using Console

To remediate the misconfiguration of enabling FTPS-Only access for App Services in Azure, you can follow the below steps:

1. Log in to the Azure portal (https://portal.azure.com/).

2. Navigate to the App Service for which you want to enable FTPS-Only access.

3. Click on the "TLS/SSL settings" option from the left-hand menu.

4. Under the "TLS/SSL settings" tab, select the "FTP Access" option.

5. Under the "FTP Access" tab, toggle the "FTP/FTPS Only" option to "On".

6. Once you toggle the "FTP/FTPS Only" option to "On", click on the "Save" button to save the changes.

7. After saving the changes, the App Service will only allow FTPS access and will deny any unencrypted FTP access.

8. Verify the changes by connecting to the App Service using an FTPS client.

By following these steps, you can remediate the misconfiguration of enabling FTPS-Only access for App Services in Azure.

#### Using CLI

To remediate the misconfiguration of enabling FTPS-only access for App Services in Azure CLI, please follow the below steps:

Step 1: Open Azure CLI and login to your Azure account using the command `az login`.

Step 2: Once you are logged in, run the command `az webapp config set` to set the configuration of the App Service.

Step 3: In the above command, you need to specify the name of your App Service and the resource group where it is located. For example, `az webapp config set --name <app-service-name> --resource-group <resource-group-name>`.

Step 4: Now, to enable FTPS-only access, you need to set the `FTPS state` to `Only`. You can do this by running the command `az webapp config set --ftps-state Only`.

Step 5: Once the above command is executed successfully, you will receive a confirmation message that the FTPS-only access is enabled for your App Service.

Step 6: Finally, you can verify the configuration by running the command `az webapp config show --name <app-service-name> --resource-group <resource-group-name>`. This will show you the current configuration of your App Service, including the FTPS state.

That's it! You have successfully remediated the misconfiguration of enabling FTPS-only access for App Services in Azure CLI.

#### Using Python

To enable FTPS-Only Access for App Services on Azure, you can use the Azure Python SDK. Here are the step-by-step instructions:

1. Install the Azure Python SDK by running the following command in your terminal:

   ```
   pip install azure-mgmt-web
   ```

2. Import the necessary modules in your Python script:

   ```python
   from azure.common.credentials import ServicePrincipalCredentials
   from azure.mgmt.web import WebSiteManagementClient
   from azure.mgmt.web.models import SiteConfig
   ```

3. Set up your Azure credentials:

   ```python
   credentials = ServicePrincipalCredentials(
       client_id='<your-client-id>',
       secret='<your-client-secret>',
       tenant='<your-tenant-id>'
   )
   ```

4. Set up the WebSiteManagementClient:

   ```python
   client = WebSiteManagementClient(credentials, '<your-subscription-id>')
   ```

5. Get the configuration of your App Service:

   ```python
   config = client.web_apps.get_configuration('<your-resource-group>', '<your-app-service-name>')
   ```

6. Update the FTPS state to "FtpsOnly":

   ```python
   config.ftps_state = 'FtpsOnly'
   ```

7. Update the App Service configuration:

   ```python
   client.web_apps.update_configuration('<your-resource-group>', '<your-app-service-name>', config)
   ```

That's it! Your App Service should now only allow FTPS access.

