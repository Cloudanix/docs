--- 
slug: Microsoft.Web.sites.Delete
eventname: Microsoft.Web.sites.Delete
title: Microsoft.Web.sites.Delete
sidebar_label: Microsoft.Web.sites.Delete
---
                       
### Event Information

#### Meaning

- The Microsoft.Web.sites.Delete event in Azure for Azure Web Service indicates that a web app or website hosted on Azure has been deleted.
- This event is triggered when a user or an automated process initiates the deletion of a web app or website.
- The event provides information about the specific web app or website that was deleted, including its name, resource group, and subscription details.

### Remediation

#### Using Console

- Example: If security is impacted with Microsoft.Web.sites.Delete in Azure for Azure Web Service, it means that an unauthorized user or process has the ability to delete the web service, potentially causing data loss or disruption of service.

- Remediation steps using Azure console:
  1. Access the Azure portal and navigate to the Azure Web Service resource that needs to be protected.
  2. Click on "Access control (IAM)" in the left-hand menu.
  3. Click on the "+ Add" button to add a new role assignment.
  4. In the "Add role assignment" panel, select the appropriate role (e.g., "Contributor" or "Owner") for the user or group that needs access to the web service.
  5. In the "Assign access to" field, search for and select the user or group that needs access.
  6. Click on the "Save" button to apply the role assignment.
  7. Repeat steps 4-6 for any additional users or groups that need access to the web service.
  8. Review the existing role assignments to ensure that only authorized users or groups have the necessary permissions.
  9. Regularly monitor the access control settings and review audit logs to detect any unauthorized changes or access attempts.

Note: It is important to follow the principle of least privilege and only grant the necessary permissions to users or groups. Additionally, enabling multi-factor authentication (MFA) for user accounts can provide an extra layer of security.

#### Using CLI

1. Example of security impact: If an unauthorized user gains access to the Microsoft.Web.sites.Delete permission for the AzureWebService resource in Azure, they can delete the entire web application, resulting in a loss of data and service disruption.

2. Remediation using AZU CLI: To remediate this security issue for AzureWebService using AZU CLI, you can follow these steps:

   - Step 1: Grant appropriate RBAC permissions: Ensure that only authorized users have the Microsoft.Web.sites.Delete permission for the AzureWebService resource. Grant the necessary permissions using the `az role assignment create` command. For example:
     ```
     az role assignment create --assignee <user or group principal ID> --role "Website Contributor" --scope <resource ID of AzureWebService>
     ```

   - Step 2: Enable Azure Resource Locks: Apply a resource lock to the AzureWebService resource to prevent accidental deletion. Use the `az lock create` command to create a lock. For example:
     ```
     az lock create --name "DeleteLock" --lock-type CanNotDelete --resource <resource ID of AzureWebService>
     ```

   - Step 3: Monitor and audit activity: Regularly monitor and audit the activity logs and Azure Activity Directory (AAD) logs to detect any unauthorized access or suspicious activities related to the AzureWebService resource. Utilize the `az monitor activity-log list` command to retrieve activity logs. For example:
     ```
     az monitor activity-log list --resource-group <resource group name> --resource <resource name>
     ```

Please note that the actual commands may vary based on your specific Azure environment and requirements.

#### Using Python

1. Example of security impact with Microsoft.Web.sites.Delete in Azure for Azure Web Service:
   - Unauthorized deletion of Azure Web Service instances can lead to loss of critical data and disruption of services.
   - Malicious actors can exploit this vulnerability to delete production environments, resulting in downtime and potential financial losses.

2. Remediation steps for Azure Web Service using Python:
   - Implement RBAC (Role-Based Access Control) to restrict access to the Microsoft.Web/sites/delete action for Azure Web Service resources.
   - Use the Azure SDK for Python (azure-mgmt-web) to programmatically manage access control and permissions for Azure Web Service resources.

Python script example to restrict access to Microsoft.Web/sites/delete action using RBAC:

```python
from azure.identity import DefaultAzureCredential
from azure.mgmt.authorization import AuthorizationManagementClient
from azure.mgmt.authorization.models import RoleAssignmentCreateParameters

# Authenticate using DefaultAzureCredential or any other suitable method
credential = DefaultAzureCredential()

# Specify the subscription and resource group details
subscription_id = 'your_subscription_id'
resource_group_name = 'your_resource_group_name'

# Specify the Azure Web Service resource details
web_service_name = 'your_web_service_name'

# Specify the role assignment details
role_definition_id = '/subscriptions/{subscription_id}/providers/Microsoft.Authorization/roleDefinitions/{role_definition_id}'
principal_id = 'your_principal_id'

# Create the authorization management client
authorization_client = AuthorizationManagementClient(credential, subscription_id)

# Create a new role assignment to restrict access to Microsoft.Web/sites/delete action
role_assignment = RoleAssignmentCreateParameters(
    role_definition_id=role_definition_id,
    principal_id=principal_id,
    scope=f'/subscriptions/{subscription_id}/resourceGroups/{resource_group_name}/providers/Microsoft.Web/sites/{web_service_name}'
)

# Assign the role to the specified principal for the Azure Web Service resource
authorization_client.role_assignments.create(scope=role_assignment.scope, role_assignment_name='web-service-delete', parameters=role_assignment)
```

Note: Replace the placeholders (e.g., `your_subscription_id`, `your_resource_group_name`, `your_web_service_name`, `your_principal_id`) with the actual values specific to your Azure environment. Also, ensure that you have the necessary permissions to create role assignments.


 