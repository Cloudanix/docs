
### Event Information

#### Meaning

- The Microsoft.Web.customApis.Delete event in azurerealtime for AzureWebService refers to the event triggered when a custom API is deleted in Azure.
- This event indicates that a custom API, which is a user-defined API hosted in Azure, has been removed from the Azure Web Service.
- It is important to monitor this event as it can help track changes and ensure proper governance and management of custom APIs in Azure.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Microsoft.Web.customApis.Delete event in Azure Realtime for Azure Web Service, they could potentially delete custom APIs that are critical for the functioning of the application. This could lead to service disruption or unauthorized access to sensitive data.

Remediation:
- Implement strong access controls: Ensure that only authorized users have access to the Microsoft.Web.customApis.Delete event. Use Azure RBAC (Role-Based Access Control) to assign appropriate permissions to users and restrict access to sensitive operations.
- Enable auditing and monitoring: Enable Azure Monitor to track and log all activities related to the Microsoft.Web.customApis.Delete event. This will help in identifying any unauthorized access attempts and take necessary actions.

Azure CLI command to assign RBAC role to a user:
```
az role assignment create --assignee <user-email> --role "Contributor" --scope <resource-group-id>
```

2. Example of security impact: If the Microsoft.Web.customApis.Delete event is triggered by a malicious actor, they could potentially delete critical custom APIs and replace them with malicious code. This could lead to the execution of unauthorized actions or the exposure of sensitive data.

Remediation:
- Implement code review and validation: Regularly review and validate the code of custom APIs to ensure they are free from vulnerabilities and malicious code. Use static code analysis tools and follow secure coding practices.
- Enable version control and backups: Implement version control for custom APIs and maintain regular backups. This will help in restoring the APIs in case of accidental or malicious deletion.

Azure CLI command to enable version control for an Azure App Service:
```
az webapp deployment source config --name <app-service-name> --resource-group <resource-group-name> --repo-url <repository-url> --branch <branch-name> --manual-integration
```

3. Example of security impact: If the Microsoft.Web.customApis.Delete event is triggered without proper authorization, it could lead to the deletion of critical custom APIs, resulting in service disruption and potential data loss.

Remediation:
- Implement multi-factor authentication (MFA): Enforce MFA for all users accessing the Azure Realtime service. This adds an extra layer of security and reduces the risk of unauthorized access and event triggering.
- Regularly review and update access policies: Review and update access policies for the Microsoft.Web.customApis.Delete event to ensure that only authorized users or roles have the necessary permissions. Remove any unnecessary or outdated access policies.
- Implement backup and disaster recovery: Regularly backup the custom APIs and implement a disaster recovery plan to quickly restore the APIs in case of accidental or malicious deletion.

Azure CLI command to enable MFA for a user:
```
az ad user update --id <user-object-id> --add "strongAuthenticationMethods" '[{"type": "OneWaySMS"}]'
```

