--- 
slug: Microsoft.Web.customApis.Delete
eventname: Microsoft.Web.customApis.Delete
title: Microsoft.Web.customApis.Delete
sidebar_label: Microsoft.Web.customApis.Delete
---
                       
### Event Information

1. The Microsoft.Web.customApis.Delete event in Azure for AzureWebService refers to the deletion of a custom API within the Azure Web Service.
2. This event indicates that a custom API, which is a user-defined API endpoint, has been removed from the Azure Web Service.
3. The event can be used to track changes and monitor the lifecycle of custom APIs within the Azure environment.


### Examples

1. Unauthorized deletion: If security is impacted with Microsoft.Web.customApis.Delete in Azure for AzureWebService, it could potentially allow unauthorized users or malicious actors to delete custom APIs associated with the Azure Web Service. This could lead to the loss of critical functionality or expose sensitive data.

2. Denial of Service (DoS): An attacker could exploit the Microsoft.Web.customApis.Delete operation to repeatedly delete custom APIs, causing a Denial of Service (DoS) attack. This could result in the unavailability of the Azure Web Service and disrupt the normal operation of the application or service.

3. Data loss or exposure: If security is compromised with Microsoft.Web.customApis.Delete, it could lead to the accidental or intentional deletion of custom APIs that are essential for the functioning of the Azure Web Service. This could result in data loss or exposure, as the deleted APIs may contain sensitive information or be integral to the security infrastructure of the application.

### Remediation

#### Using Console

1. Unauthorized deletion:
- Step 1: Access the Azure portal and navigate to the AzureWebService resource.
- Step 2: Go to the "Access control (IAM)" section in the left-hand menu.
- Step 3: Review the existing roles and permissions assigned to users or groups.
- Step 4: Remove any unnecessary or unauthorized roles or permissions that grant the ability to delete custom APIs.
- Step 5: Regularly monitor and audit the access control settings to ensure they remain secure.

2. Denial of Service (DoS):
- Step 1: Access the Azure portal and navigate to the AzureWebService resource.
- Step 2: Go to the "Access control (IAM)" section in the left-hand menu.
- Step 3: Review the existing roles and permissions assigned to users or groups.
- Step 4: Ensure that only trusted users or groups have the permission to delete custom APIs.
- Step 5: Implement rate limiting or throttling mechanisms to prevent excessive deletion requests and mitigate potential DoS attacks.

3. Data loss or exposure:
- Step 1: Access the Azure portal and navigate to the AzureWebService resource.
- Step 2: Go to the "Access control (IAM)" section in the left-hand menu.
- Step 3: Review the existing roles and permissions assigned to users or groups.
- Step 4: Ensure that only authorized users or groups have the permission to delete custom APIs.
- Step 5: Implement backup and disaster recovery mechanisms to protect against accidental or malicious deletion of critical custom APIs. Regularly test and validate the backup and recovery processes.

#### Using CLI

1. Unauthorized deletion: To remediate the risk of unauthorized deletion of custom APIs in Azure for AzureWebService, you can implement the following steps using Azure CLI commands:

- Review and update access controls: Ensure that only authorized users have the necessary permissions to delete custom APIs. Use the `az role assignment create` command to assign appropriate roles and permissions to users or groups.

- Enable auditing and monitoring: Set up Azure Monitor to track and log activities related to custom API deletion. Use the `az monitor diagnostic-settings create` command to configure diagnostic settings for the AzureWebService resource, enabling logging for the Microsoft.Web/customApis/Delete event.

- Implement backup and recovery: Regularly back up the custom APIs to prevent permanent loss. You can use the `az webapp config backup create` command to create backups of the AzureWebService resource.

2. Denial of Service (DoS): To mitigate the risk of DoS attacks through repeated deletion of custom APIs in AzureWebService, you can take the following actions using Azure CLI commands:

- Implement rate limiting: Configure rate limits for the Microsoft.Web/customApis/Delete operation to prevent excessive deletion requests. Use the `az network application-gateway waf-policy rate-limit-rule create` command to create rate limit rules for the AzureWebService resource.

- Enable DDoS protection: Enable Azure DDoS Protection Standard for the AzureWebService resource to detect and mitigate DoS attacks. Use the `az network ddos-protection update` command to enable DDoS protection.

- Implement anomaly detection: Set up Azure Monitor to detect abnormal deletion patterns and trigger alerts. Use the `az monitor metrics alert create` command to create alerts based on metrics related to custom API deletion.

3. Data loss or exposure: To prevent data loss or exposure through the deletion of critical custom APIs in AzureWebService, you can apply the following measures using Azure CLI commands:

- Implement data protection mechanisms: Encrypt sensitive data at rest and in transit. Use the `az webapp config ssl bind` command to enable SSL/TLS encryption for the AzureWebService resource.

- Enable backup and recovery: Regularly back up the custom APIs to ensure data can be restored in case of deletion. Use the `az webapp config backup create` command to create backups of the AzureWebService resource.

- Implement access controls and monitoring: Restrict access to custom APIs and monitor for any unauthorized deletion attempts. Use the `az webapp auth update` command to configure authentication and authorization settings for the AzureWebService resource. Use the `az monitor diagnostic-settings create` command to enable logging for the Microsoft.Web/customApis/Delete event.

#### Using Python

1. Unauthorized deletion: To remediate the risk of unauthorized deletion of custom APIs in Azure, you can implement the following steps using Python scripts:

- Implement Role-Based Access Control (RBAC): Ensure that only authorized users have the necessary permissions to delete custom APIs. You can use the Azure SDK for Python to manage RBAC roles and assign appropriate permissions to users or groups.

- Enable Azure Monitor: Set up monitoring for the AzureWebService and specifically monitor the Microsoft.Web.customApis.Delete operation. This will allow you to detect any unauthorized deletion attempts and take immediate action.

- Implement backup and restore mechanisms: Regularly backup the custom APIs and their configurations. In case of accidental or unauthorized deletion, you can restore the deleted APIs from the backups using Python scripts.

2. Denial of Service (DoS): To mitigate the risk of DoS attacks through repeated deletion of custom APIs, you can take the following steps using Python scripts:

- Implement rate limiting: Use the Azure SDK for Python to implement rate limiting on the Microsoft.Web.customApis.Delete operation. This will restrict the number of delete requests that can be made within a specific time frame, preventing excessive deletion attempts.

- Set up anomaly detection: Utilize Azure Monitor to detect abnormal patterns of delete requests. Implement anomaly detection algorithms using Python scripts to identify and block suspicious activities that may indicate a DoS attack.

- Implement auto-scaling: Configure auto-scaling for the AzureWebService to dynamically adjust the resources based on the incoming traffic. This will help in handling sudden spikes in delete requests and ensure availability for legitimate users.

3. Data loss or exposure: To prevent data loss or exposure due to compromised security, consider the following steps using Python scripts:

- Implement multi-factor authentication (MFA): Enforce MFA for users accessing the Azure portal or making delete requests. This adds an extra layer of security and reduces the risk of unauthorized access.

- Enable auditing and logging: Use the Azure SDK for Python to enable auditing and logging for the Microsoft.Web.customApis.Delete operation. This will provide a detailed record of delete requests, helping in identifying any suspicious activities and investigating potential data breaches.

- Implement data encryption: Encrypt sensitive data stored within the custom APIs using Azure Key Vault and the Azure SDK for Python. This ensures that even if the APIs are deleted, the encrypted data remains protected and inaccessible to unauthorized users.

Please note that the provided Python scripts are for illustrative purposes and may need to be customized based on your specific requirements and environment.


 