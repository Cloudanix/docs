--- 
slug: Add service principal
eventname: Add service principal
title: Add service principal
sidebar_label: Add service principal
---
                       

### Event Information

#### Meaning

- The "Add service principal" event in Azure Active Directory (Azure AD) refers to the creation of a service principal object within Azure AD.
- A service principal is a security identity used by applications, services, and automation tools to authenticate and access resources within Azure.
- This event indicates that a new service principal has been created, which can be used to grant permissions and access to specific Azure resources.

#### Example

Example of how security can be impacted with the "Add service principal" event in Azure Active Directory:

1. Unauthorized access: If an attacker gains access to the credentials of the service principal, they can potentially perform unauthorized actions within the Azure environment. This can lead to data breaches, unauthorized modifications, or even complete control over the resources.

Remediation:
- Regularly review and rotate the credentials of service principals to minimize the risk of unauthorized access.
- Implement strong password policies and enable multi-factor authentication for service principals.
- Monitor and analyze audit logs to detect any suspicious activities related to service principals.

2. Overprivileged permissions: When creating a service principal, it is important to ensure that it is granted only the necessary permissions required for its intended purpose. If the service principal is granted excessive or unnecessary permissions, it can lead to potential security vulnerabilities.

Remediation:
- Follow the principle of least privilege and grant only the minimum required permissions to the service principal.
- Regularly review and update the permissions assigned to service principals to align with the principle of least privilege.
- Utilize Azure RBAC (Role-Based Access Control) to assign granular permissions to service principals.

3. Misconfiguration and exposure of secrets: Improper configuration of the service principal can result in the exposure of sensitive information, such as client secrets or certificates. If these secrets are compromised, it can lead to unauthorized access and potential security breaches.

Remediation:
- Store secrets securely using Azure Key Vault or other secure secret management solutions.
- Avoid hardcoding secrets in scripts or configuration files and instead retrieve them securely at runtime.
- Regularly rotate secrets and certificates associated with service principals to minimize the impact of potential compromises.

Example CLI command for creating a service principal in Azure:
```
az ad sp create-for-rbac --name <service_principal_name> --role <role_name> --scopes <scope>
```
This command creates a service principal with the specified name, assigns it the specified role, and scopes the permissions to the specified resource or resource group.

 