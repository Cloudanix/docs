--- 
slug: Microsoft.KeyVault.vaults.delete
eventname: Microsoft.KeyVault.vaults.delete
title: Microsoft.KeyVault.vaults.delete
sidebar_label: Microsoft.KeyVault.vaults.delete
---
                       
### Event Information

#### Meaning

- The Microsoft.KeyVault.vaults.delete event in AzureSecurityService refers to the deletion of a Key Vault resource in Azure.
- This event indicates that a Key Vault, which is a secure storage for cryptographic keys, secrets, and certificates, has been deleted.
- The event can be used to track and monitor the deletion of Key Vaults in Azure, providing visibility into any changes made to the security infrastructure.

#### Example

1. Example of security impact: If the Microsoft.KeyVault.vaults.delete event is triggered in Azure Security Center's Azure Security Service, it could indicate that a Key Vault resource has been deleted. This can have a significant security impact as Key Vaults are used to securely store and manage cryptographic keys, secrets, and certificates. Deleting a Key Vault without proper authorization or understanding of the consequences can lead to loss of sensitive data and potential security breaches.

Remediation: To mitigate the security impact of this event, it is important to follow these steps:
- Investigate the event and identify the reason for the deletion. Check if it was an intentional action or a result of unauthorized access.
- If the deletion was unauthorized, immediately revoke access to the Azure Security Service and any other relevant accounts or users.
- Restore the deleted Key Vault if possible, using Azure CLI command:
  ```
  az keyvault restore --location <location> --name <vault-name> --resource-group <resource-group> --subscription <subscription-id> --dns-name <dns-name> --enabled-for-deployment <true/false> --enabled-for-template-deployment <true/false> --enabled-for-disk-encryption <true/false> --enabled-for-azure-rbac <true/false> --enabled-for-virtual-network <true/false>
  ```
- Review and update access control policies for Key Vaults to ensure only authorized users have the necessary permissions to delete or modify them.
- Enable auditing and monitoring for Key Vault activities to detect and respond to any suspicious or unauthorized actions.

2. Example of security impact: If the Microsoft.KeyVault.vaults.delete event is triggered in Azure Security Center's Azure Security Service, it could indicate that a Key Vault access policy has been modified or deleted. This can have a security impact as access policies define who can perform specific operations on a Key Vault, such as reading or deleting secrets.

Remediation: To address the security impact of this event, consider the following steps:
- Investigate the event and determine if the modification or deletion of the access policy was authorized or unauthorized.
- If unauthorized, immediately revoke access to the Azure Security Service and any other relevant accounts or users.
- Restore the access policy if it was deleted, using Azure CLI command:
  ```
  az keyvault set-policy --name <vault-name> --resource-group <resource-group> --subscription <subscription-id> --object-id <object-id> --secret-permissions <permissions> --key-permissions <permissions> --certificate-permissions <permissions>
  ```
- Review and update access policies for Key Vaults to ensure only authorized users have the necessary permissions and regularly audit and monitor access policy changes.
- Implement role-based access control (RBAC) to manage access to Key Vaults, ensuring that only authorized users have the necessary permissions to modify or delete access policies.

3. Example of security impact: If the Microsoft.KeyVault.vaults.delete event is triggered in Azure Security Center's Azure Security Service, it could indicate that a Key Vault resource has been deleted, which can have a cascading effect on other resources that depend on it. For example, if a virtual machine's disk encryption keys are stored in the deleted Key Vault, the VM's data may become inaccessible.

Remediation: To mitigate the security impact of this event, consider the following steps:
- Investigate the event and identify the reason for the deletion. Check if it was an intentional action or a result of unauthorized access.
- If the deletion was unauthorized, immediately revoke access to the Azure Security Service and any other relevant accounts or users.
- Restore the deleted Key Vault if possible, using Azure CLI command (as mentioned in the first example).
- Update the configuration of any resources that depend on the Key Vault, such as virtual machines with disk encryption, to use a different Key Vault or reconfigure the encryption settings.
- Regularly backup Key Vaults and their contents to ensure data recovery in case of accidental deletion or unauthorized access.
- Implement monitoring and alerting mechanisms to detect and respond to any unauthorized deletion or modification of Key Vaults.


 