--- 
slug: Microsoft.ContainerService.openShiftClusters.delete
eventname: Microsoft.ContainerService.openShiftClusters.delete
title: Microsoft.ContainerService.openShiftClusters.delete
sidebar_label: Microsoft.ContainerService.openShiftClusters.delete
---
                       
### Event Information

#### Meaning

1. The Microsoft.ContainerService.openShiftClusters.delete event in Azure Container Service signifies the deletion of an OpenShift cluster in Azure.
2. This event indicates that the OpenShift cluster resources, including virtual machines, storage, and networking components, have been removed from the Azure environment.
3. It is important to note that this event does not necessarily mean that the OpenShift cluster data has been permanently deleted, as backups or snapshots may still exist.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Microsoft.ContainerService.openShiftClusters.delete event in Azure Container Service, they can potentially delete an OpenShift cluster, leading to a loss of critical resources and disruption of services. This can result in data breaches, unauthorized access to sensitive information, and potential financial losses.

Remediation:
- Implement strong access controls: Ensure that only authorized users have permissions to delete OpenShift clusters. Use Azure RBAC (Role-Based Access Control) to assign appropriate roles and permissions to users.
- Enable auditing and monitoring: Enable Azure Monitor to track and log all activities related to OpenShift cluster deletion. Regularly review the logs and set up alerts to detect any suspicious or unauthorized activities.
- Implement backup and disaster recovery: Regularly backup the OpenShift cluster configuration and data to a separate storage account or region. This will help in quickly restoring the cluster in case of accidental deletion or security incidents.

Azure CLI command to assign RBAC role to a user:
```
az role assignment create --assignee <user-email> --role Contributor --scope /subscriptions/<subscription-id>/resourceGroups/<resource-group>/providers/Microsoft.ContainerService/openShiftClusters/<cluster-name>
```

2. Example of security impact: If the Microsoft.ContainerService.openShiftClusters.delete event is triggered without proper authentication and authorization mechanisms in place, it can allow an attacker to delete OpenShift clusters without any restrictions. This can lead to unauthorized access, data loss, and service disruption.

Remediation:
- Implement strong authentication: Enable Azure Active Directory integration for Azure Container Service and enforce multi-factor authentication for all users. This will ensure that only authorized users with valid credentials can perform cluster deletion operations.
- Enable RBAC and fine-grained access control: Use Azure RBAC to assign specific roles and permissions to users. Limit the number of users with delete permissions and regularly review and update these permissions based on the principle of least privilege.
- Implement network security: Configure network security groups (NSGs) to restrict access to the OpenShift cluster management plane. Only allow traffic from trusted IP ranges or specific subnets to access the cluster management endpoints.

Azure CLI command to enable Azure AD integration for Azure Container Service:
```
az aks update -g <resource-group> -n <cluster-name> --aad-server-app-id <server-app-id> --aad-server-app-secret <server-app-secret> --aad-client-app-id <client-app-id> --aad-tenant-id <tenant-id>
```

3. Example of security impact: If the Microsoft.ContainerService.openShiftClusters.delete event is triggered by a malicious insider or an attacker with compromised credentials, they can delete OpenShift clusters to disrupt services, cause data loss, and potentially gain unauthorized access to sensitive information.

Remediation:
- Implement strong identity and access management: Enforce strong password policies, enable multi-factor authentication, and regularly rotate access keys and credentials for all users with delete permissions. Implement privileged access management (PAM) to control and monitor privileged actions.
- Enable activity logging and monitoring: Enable Azure Monitor logs for Azure Container Service and configure alerts to notify administrators of any delete events. Regularly review and analyze the logs to detect any suspicious activities or unauthorized deletions.
- Implement backup and recovery strategies: Regularly backup the OpenShift cluster configuration and data to a separate storage account or region. Test the backup and recovery process to ensure that critical resources can be restored in case of accidental or malicious deletions.

Azure CLI command to enable Azure Monitor logs for Azure Container Service:
```
az monitor diagnostic-settings create --name <diagnostic-settings-name> --resource <container-service-resource-id> --logs '[{"category": "kube-apiserver-audit","enabled": true}]'
```


 