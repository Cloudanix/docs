--- 
slug: Microsoft.ContainerRegistry.registries.webhooks.delete
eventname: Microsoft.ContainerRegistry.registries.webhooks.delete
title: Microsoft.ContainerRegistry.registries.webhooks.delete
sidebar_label: Microsoft.ContainerRegistry.registries.webhooks.delete
---
                       
### Event Information

#### Meaning

1. The Microsoft.ContainerRegistry.registries.webhooks.delete event in Azure Container Service refers to the deletion of a webhook associated with an Azure Container Registry.
2. This event is triggered when a webhook is removed from the Azure Container Registry, which means that any notifications or triggers associated with that webhook will no longer be active.
3. It is important to monitor this event to ensure that any webhook configurations are properly managed and to track any changes made to the webhook settings in the Azure Container Registry.

#### Example

1. Example of security impact: If the Microsoft.ContainerRegistry.registries.webhooks.delete event is triggered in Azure Container Service, it could indicate that a webhook associated with a container registry has been deleted. This could potentially impact security if the webhook was being used for automated deployments or notifications, as it could lead to unauthorized access or a lack of visibility into container registry activities.

Remediation:
- Regularly review and monitor webhook configurations in Azure Container Service to ensure they are properly authorized and aligned with security requirements.
- Implement access controls and permissions for managing webhooks, ensuring that only authorized users have the ability to create, modify, or delete webhooks.
- Enable auditing and logging for webhook activities to track any unauthorized changes or deletions.
- Consider implementing a backup and restore mechanism for webhooks to quickly recover in case of accidental or malicious deletion.

Azure CLI command to list webhooks in a container registry:
```
az acr webhook list --registry <registry_name> --resource-group <resource_group_name>
```

Azure CLI command to create a webhook in a container registry:
```
az acr webhook create --registry <registry_name> --resource-group <resource_group_name> --name <webhook_name> --uri <webhook_uri> --actions <webhook_actions>
```

Azure CLI command to delete a webhook from a container registry:
```
az acr webhook delete --registry <registry_name> --resource-group <resource_group_name> --name <webhook_name>
```

2. Example of security impact: If the Microsoft.ContainerRegistry.registries.webhooks.delete event is triggered in Azure Container Service, it could indicate that an attacker has gained unauthorized access to the container registry and is deleting webhooks. This could be a sign of a larger security breach, potentially leading to data exfiltration or unauthorized modifications to container images.

Remediation:
- Immediately investigate the incident and assess the extent of the security breach.
- Disable or revoke any compromised credentials or access tokens associated with the container registry.
- Implement multi-factor authentication (MFA) for all user accounts with access to the container registry.
- Regularly review and rotate access keys, passwords, and other credentials associated with the container registry.
- Enable Azure Security Center and Azure Monitor to detect and alert on suspicious activities related to the container registry.

Azure CLI command to disable a container registry:
```
az acr update --name <registry_name> --resource-group <resource_group_name> --admin-enabled false
```

Azure CLI command to revoke an access token for a container registry:
```
az acr token credential delete --name <token_name> --registry <registry_name> --resource-group <resource_group_name>
```

3. Example of security impact: If the Microsoft.ContainerRegistry.registries.webhooks.delete event is triggered in Azure Container Service, it could indicate a misconfiguration or accidental deletion of a webhook. While this may not directly impact security, it can lead to operational issues, such as failed deployments or a lack of visibility into container registry activities.

Remediation:
- Implement a change management process to review and approve any changes to webhooks in the container registry.
- Regularly backup webhook configurations to quickly restore them in case of accidental deletion.
- Enable version control or source control for webhook configurations to track changes and easily revert to previous versions if needed.
- Provide training and documentation to users responsible for managing webhooks to ensure they understand the potential impact of deleting webhooks and the proper procedures to follow.

Azure CLI command to backup webhook configurations:
```
az acr webhook show --registry <registry_name> --resource-group <resource_group_name> --name <webhook_name> --output json > webhook_backup.json
```

Azure CLI command to restore a webhook from a backup:
```
az acr webhook create --registry <registry_name> --resource-group <resource_group_name> --name <webhook_name> --uri <webhook_uri> --actions <webhook_actions> --service-uri <service_uri> --headers <headers> --status <status> --scope <scope> --location <location> --output json < webhook_backup.json
```


 