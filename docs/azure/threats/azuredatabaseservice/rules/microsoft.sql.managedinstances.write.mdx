--- 
slug: Microsoft.Sql.managedInstances.write
eventname: Microsoft.Sql.managedInstances.write
title: Microsoft.Sql.managedInstances.write
sidebar_label: Microsoft.Sql.managedInstances.write
---
                       
### Event Information

#### Meaning

1. The Microsoft.Sql.managedInstances.write event in AzureDatabaseService refers to a write operation performed on a managed instance in Azure SQL Database.
2. This event indicates that data has been written or modified in the managed instance, such as inserting, updating, or deleting records in a database.
3. It is important to monitor this event as it helps track changes made to the managed instance and can be useful for auditing, troubleshooting, and ensuring data integrity.

#### Example

1. Example of security impact: If the Microsoft.Sql.managedInstances.write event is triggered in Azure Real-time Analytics for Azure Database Service, it could indicate that an unauthorized user or process has gained write access to the managed instance. This could potentially lead to unauthorized modifications or deletions of data, or the introduction of malicious code.

Remediation:
- Immediately revoke any unnecessary or excessive permissions granted to users or processes.
- Enable auditing and monitoring features in Azure SQL Database to track and investigate any suspicious activities.
- Regularly review and update firewall rules and network access controls to restrict access to the managed instance.
- Implement strong authentication mechanisms, such as multi-factor authentication, to prevent unauthorized access to the Azure portal or database resources.

Example CLI command to revoke excessive permissions:
```
az sql mi ad-admin delete --resource-group <resource-group-name> --mi-name <managed-instance-name> --login <username>
```

2. Example of security impact: The Microsoft.Sql.managedInstances.write event in Azure Real-time Analytics for Azure Database Service could indicate a potential data breach where sensitive information stored in the managed instance is being modified or tampered with by unauthorized individuals or processes.

Remediation:
- Immediately investigate and identify the source of the unauthorized write access.
- Implement strong access controls and permissions management to ensure only authorized users or processes have write access to the managed instance.
- Regularly monitor and review audit logs and security alerts to detect any suspicious activities or unauthorized modifications.
- Consider implementing encryption at rest and in transit to protect the confidentiality and integrity of the data stored in the managed instance.

Example CLI command to enable auditing for Azure SQL Database:
```
az sql mi update-auditing --resource-group <resource-group-name> --mi-name <managed-instance-name> --state Enabled --storage-key-type StorageAccessKey --storage-key <storage-account-key> --storage-uri <storage-account-uri>
```

3. Example of security impact: The Microsoft.Sql.managedInstances.write event in Azure Real-time Analytics for Azure Database Service could indicate a potential privilege escalation attack, where an unauthorized user or process has gained elevated write permissions within the managed instance. This could lead to unauthorized access to sensitive data or the ability to modify critical database configurations.

Remediation:
- Immediately revoke any elevated permissions granted to unauthorized users or processes.
- Regularly review and update role-based access control (RBAC) assignments to ensure only necessary permissions are granted.
- Implement strong password policies and enforce regular password rotations for all user accounts with write access to the managed instance.
- Enable threat detection and vulnerability assessment features in Azure SQL Database to proactively identify and mitigate potential security risks.

Example CLI command to revoke elevated permissions:
```
az sql mi ad-admin delete --resource-group <resource-group-name> --mi-name <managed-instance-name> --login <username>
```


 