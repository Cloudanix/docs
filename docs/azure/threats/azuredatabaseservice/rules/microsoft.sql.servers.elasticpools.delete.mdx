--- 
slug: Microsoft.Sql.servers.elasticPools.delete
eventname: Microsoft.Sql.servers.elasticPools.delete
title: Microsoft.Sql.servers.elasticPools.delete
sidebar_label: Microsoft.Sql.servers.elasticPools.delete
---
                       
### Event Information

#### Meaning

- The Microsoft.Sql.servers.elasticPools.delete event in AzureRealTime for AzureDatabaseService indicates that an elastic pool in Azure SQL Database has been deleted.
- This event signifies that all databases within the elastic pool have been removed and the resources associated with the elastic pool have been deallocated.
- It is important to note that this event can have significant implications on the availability and performance of the databases that were part of the deleted elastic pool.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Microsoft.Sql.servers.elasticPools.delete event in Azure Real-time Analytics for Azure Database Service, they could potentially delete an entire elastic pool, resulting in the loss of all databases and data within that pool. This could lead to data breaches, data loss, and disruption of critical business operations.

Remediation:
- Implement strong access controls: Ensure that only authorized users have permissions to delete elastic pools. Use Azure RBAC (Role-Based Access Control) to assign appropriate roles and permissions to users and groups.
- Enable auditing and monitoring: Enable Azure SQL Database auditing to track and log all activities related to elastic pool deletion. Monitor the audit logs regularly to detect any suspicious or unauthorized activities.
- Implement backup and disaster recovery: Regularly backup your databases and store the backups in a separate location. This will help in recovering the data in case of accidental or malicious deletion of elastic pools.

Azure CLI command to assign RBAC role to a user:
```
az role assignment create --assignee <user-email> --role "Contributor" --scope <resource-group-id>
```

Azure CLI command to enable auditing for Azure SQL Database:
```
az sql db audit-policy update --name <database-name> --resource-group <resource-group-name> --server <server-name> --state Enabled
```

2. Example of security impact: If an attacker gains access to the Microsoft.Sql.servers.elasticPools.delete event in Azure Real-time Analytics for Azure Database Service, they could use it to delete specific elastic pools containing sensitive data. This could result in data loss, unauthorized access to sensitive information, and potential compliance violations.

Remediation:
- Implement strong authentication and access controls: Enforce multi-factor authentication (MFA) for all user accounts accessing the Azure portal. Use Azure AD Conditional Access policies to restrict access based on user location, device, and other factors.
- Regularly review and update permissions: Conduct regular reviews of user permissions and remove unnecessary access rights. Follow the principle of least privilege and ensure that only authorized users have the necessary permissions to delete elastic pools.
- Enable threat detection and monitoring: Enable Azure Security Center's threat detection capabilities to detect and alert on any suspicious activities related to elastic pool deletion. Monitor the alerts and investigate any potential security incidents.

Azure CLI command to enable MFA for a user:
```
az ad user update --id <user-object-id> --force-change-password-next-login true
```

Azure CLI command to enable threat detection for Azure SQL Database:
```
az security alert create --name <alert-name> --location <location> --resource-group <resource-group-name> --status Enabled --scope <database-id> --email <email-address> --email-admins true
```

3. Example of security impact: If a malicious insider gains access to the Microsoft.Sql.servers.elasticPools.delete event in Azure Real-time Analytics for Azure Database Service, they could use it to delete elastic pools containing critical databases. This could lead to significant data loss, disruption of business operations, and potential financial and reputational damage.

Remediation:
- Implement strong identity and access management: Use Azure AD Privileged Identity Management (PIM) to enforce just-in-time access and require approval for elevated permissions. Regularly review and revoke unnecessary access rights.
- Enable data protection mechanisms: Implement transparent data encryption (TDE) and enable Azure SQL Database Threat Detection to detect and mitigate potential threats to the databases.
- Implement data backup and recovery: Regularly backup the databases and store the backups in a separate location. Test the restoration process to ensure data can be recovered in case of accidental or malicious deletion.

Azure CLI command to enable Azure AD Privileged Identity Management (PIM):
```
az ad sp owner add --id <service-principal-id> --owner-object-id <owner-object-id>
```

Azure CLI command to enable Azure SQL Database Threat Detection:
```
az sql db threat-policy update --name <database-name> --resource-group <resource-group-name> --server <server-name> --state Enabled
```


 