--- 
slug: Microsoft.Network.connections.sharedKey.write
eventname: Microsoft.Network.connections.sharedKey.write
title: Microsoft.Network.connections.sharedKey.write
sidebar_label: Microsoft.Network.connections.sharedKey.write
---
                       
### Event Information

#### Meaning

- The Microsoft.Network.connections.sharedKey.write event in AzureNetwork refers to an event where a shared key is being written or updated for a network connection in Azure.
- This event indicates that there is a change in the shared key used for authentication between two network resources in Azure.
- It is important to monitor this event as it can help track any changes made to the shared key, ensuring the security and integrity of network connections in Azure.

#### Example

1. Example of security impact: 
   - If an unauthorized user gains access to the Microsoft.Network.connections.sharedKey.write event in AzureRealtime for AzureNetwork, they can potentially modify the shared key used for network connections. This can lead to unauthorized access to the network resources and compromise the security of the network.

2. Remediation:
   - Regularly monitor and review the Azure activity logs and Azure Network Security Group (NSG) rules to identify any unauthorized changes to the shared key.
   - Implement Azure RBAC (Role-Based Access Control) to ensure that only authorized users have permissions to modify the shared key.
   - Enable Azure Network Watcher's Connection Monitor feature to proactively monitor network connections and detect any unauthorized changes to the shared key.
   - Implement Azure Firewall or Network Virtual Appliances (NVAs) to add an additional layer of security and control over network traffic.

Example CLI command to monitor Azure activity logs for changes to shared key:
```
az monitor activity-log list --resource-group <resource-group-name> --resource-provider Microsoft.Network --event-category Administrative --query "[?operationName.value=='Microsoft.Network/connections/sharedKey/write']"
```

Example CLI command to enable Azure Network Watcher Connection Monitor:
```
az network watcher configure --enabled true --locations <location>
```

Example CLI command to create Azure Firewall:
```
az network firewall create --name <firewall-name> --resource-group <resource-group-name> --location <location>
```

Note: Replace `<resource-group-name>`, `<location>`, `<firewall-name>` with appropriate values.


 