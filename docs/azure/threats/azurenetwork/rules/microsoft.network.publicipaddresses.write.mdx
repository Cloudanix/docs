--- 
slug: Microsoft.Network.publicIPAddresses.write
eventname: Microsoft.Network.publicIPAddresses.write
title: Microsoft.Network.publicIPAddresses.write
sidebar_label: Microsoft.Network.publicIPAddresses.write
---
                       
### Event Information

#### Meaning

- The Microsoft.Network.publicIPAddresses.write event in AzureRealtime for AzureNetwork refers to the action of creating or updating a public IP address in the Azure network.
- This event indicates that a change has been made to the configuration of a public IP address, such as assigning a new IP address or modifying its settings.
- It is important to monitor this event as it can help track any changes made to public IP addresses in the Azure network and ensure proper management and security of network resources.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Microsoft.Network.publicIPAddresses.write event in AzureRealtime for AzureNetwork, they can potentially modify or delete public IP addresses associated with resources in the network. This can lead to service disruptions, unauthorized access to resources, or even data breaches.

Remediation:
- Regularly review and monitor access control policies for the AzureNetwork resource to ensure that only authorized users have the necessary permissions.
- Implement Azure RBAC (Role-Based Access Control) to restrict access to the Microsoft.Network.publicIPAddresses.write event to only trusted users or groups.
- Enable Azure AD Multi-Factor Authentication (MFA) for all users with write access to the AzureNetwork resource to add an extra layer of security.

Example CLI command to restrict access to the Microsoft.Network.publicIPAddresses.write event:
```
az role assignment create --role "Contributor" --assignee <user or group principal ID> --scope /subscriptions/<subscription ID>/resourceGroups/<resource group name>/providers/Microsoft.Network/virtualNetworks/<virtual network name>
```

2. Example of security impact: If the Microsoft.Network.publicIPAddresses.write event is triggered by a malicious actor, they can create new public IP addresses and associate them with resources in the AzureNetwork. This can be used to bypass network security controls, such as firewalls or network access control lists (ACLs), and gain unauthorized access to resources within the network.

Remediation:
- Implement network security groups (NSGs) to restrict inbound and outbound traffic to and from the resources within the AzureNetwork.
- Regularly review and monitor the public IP addresses associated with the AzureNetwork to identify any unauthorized or suspicious changes.
- Enable Azure Network Watcher's flow logs to capture and analyze network traffic for any anomalies or unauthorized access attempts.

Example CLI command to create a network security group (NSG) and associate it with a subnet in the AzureNetwork:
```
az network nsg create --name <nsg name> --resource-group <resource group name> --location <location>
az network vnet subnet update --name <subnet name> --vnet-name <virtual network name> --resource-group <resource group name> --network-security-group <nsg name>
```

3. Example of security impact: If the Microsoft.Network.publicIPAddresses.write event is triggered without proper authentication and authorization mechanisms in place, it can allow an attacker to modify the public IP addresses associated with the AzureNetwork. This can lead to unauthorized access to resources, disruption of services, or even IP address hijacking.

Remediation:
- Implement Azure Private Link to securely access Azure services, including the AzureNetwork, over a private network connection.
- Enable Azure Firewall or a third-party firewall solution to monitor and control inbound and outbound traffic to and from the AzureNetwork.
- Regularly review and monitor Azure Monitor logs and alerts for any suspicious activities related to the Microsoft.Network.publicIPAddresses.write event.

Example CLI command to enable Azure Firewall for the AzureNetwork:
```
az network firewall create --name <firewall name> --resource-group <resource group name> --location <location>
az network vnet subnet update --name <subnet name> --vnet-name <virtual network name> --resource-group <resource group name> --service-endpoints Microsoft.Network --service-endpoints Microsoft.Storage --service-endpoints Microsoft.AzureActiveDirectory --service-endpoints Microsoft.KeyVault --service-endpoints Microsoft.ContainerRegistry --service-endpoints Microsoft.Sql
```


 