--- 
slug: Microsoft.Compute.virtualMachines.deallocate.action
eventname: Microsoft.Compute.virtualMachines.deallocate.action
title: Microsoft.Compute.virtualMachines.deallocate.action
sidebar_label: Microsoft.Compute.virtualMachines.deallocate.action
---
                       
### Event Information

#### Meaning

- The Microsoft.Compute.virtualMachines.deallocate.action event in AzureRealTime for AzureVirtualMachines refers to the action of deallocating a virtual machine in the Azure cloud.
- Deallocating a virtual machine means that the resources allocated to the VM, such as CPU, memory, and storage, are released and no longer billed for. The VM is effectively turned off and no longer accessible.
- This event can be triggered manually by an administrator or programmatically through automation scripts or API calls. It is commonly used to save costs by shutting down VMs during periods of inactivity or non-production hours.

#### Example

- One possible way security can be impacted with the `Microsoft.Compute.virtualMachines.deallocate.action` event in Azure is if an unauthorized user gains access to the Azure portal or API and initiates the deallocation of a virtual machine. This can lead to potential data breaches or unauthorized access to sensitive information.

Remediation:
- Implement strong access controls and multi-factor authentication to prevent unauthorized access to the Azure portal or API.
- Regularly review and monitor access logs and audit trails to detect any suspicious activities.
- Enable Azure Security Center and configure security policies to detect and alert on any unauthorized actions, such as virtual machine deallocation. 

Example CLI command to enable Azure Security Center:
```
az security pricing create --name "default" --tier "Standard"
```

Example PowerShell script to enable Azure Security Center:
```powershell
Set-AzSecurityCenterSubscription -SubscriptionId "<subscription-id>" -Tier "Standard"
```

Example Bash script to enable Azure Security Center:
```bash
az security pricing create --name "default" --tier "Standard"
```

Note: Replace `<subscription-id>` with the actual subscription ID.


 