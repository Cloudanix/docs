--- 
slug: Microsoft.Compute.diskAccesses.delete
eventname: Microsoft.Compute.diskAccesses.delete
title: Microsoft.Compute.diskAccesses.delete
sidebar_label: Microsoft.Compute.diskAccesses.delete
---
                       
### Event Information

#### Meaning

- The Microsoft.Compute.diskAccesses.delete event in AzureRealTime for AzureVirtualMachines refers to the deletion of a disk access record for a virtual machine in Azure.
- This event indicates that a disk access record, which tracks the usage and activity of a disk attached to a virtual machine, has been deleted.
- The event can be useful for monitoring and auditing purposes, allowing administrators to track and analyze disk access activities for virtual machines in Azure.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Azure portal or API credentials and initiates a Microsoft.Compute.diskAccesses.delete event for AzureVirtualMachines, they can delete the disks associated with the virtual machines. This can result in data loss, service disruption, and potential unauthorized access to sensitive information stored on those disks.

Remediation:
- Enable multi-factor authentication (MFA) for all user accounts with access to the Azure portal or API.
- Regularly review and rotate access keys and credentials to minimize the risk of unauthorized access.
- Implement RBAC (Role-Based Access Control) to ensure that only authorized users have the necessary permissions to perform disk deletion operations.
- Enable Azure Disk Encryption to protect the data on the disks from unauthorized access even if the disks are deleted.

CLI command for enabling MFA:
```
az ad user update --id <user-id> --force-change-password-next-login true
```

CLI command for rotating access keys:
```
az ad sp credential reset --name <service-principal-name>
```

CLI command for implementing RBAC:
```
az role assignment create --assignee <user-or-group-id> --role <role-name> --scope <resource-scope>
```

CLI command for enabling Azure Disk Encryption:
```
az vm encryption enable --resource-group <resource-group-name> --name <vm-name> --disk-encryption-keyvault <keyvault-name> --volume-type all
```

Note: Replace the placeholders (<user-id>, <service-principal-name>, <user-or-group-id>, <role-name>, <resource-scope>, <resource-group-name>, <vm-name>, <keyvault-name>) with the appropriate values specific to your Azure environment.


 