--- 
slug: Microsoft.Compute.virtualMachines.extensions.delete
eventname: Microsoft.Compute.virtualMachines.extensions.delete
title: Microsoft.Compute.virtualMachines.extensions.delete
sidebar_label: Microsoft.Compute.virtualMachines.extensions.delete
---
                       
### Event Information

#### Meaning

- The Microsoft.Compute.virtualMachines.extensions.delete event in AzureRealTime for AzureVirtualMachines refers to the deletion of an extension attached to a virtual machine in Azure.
- This event indicates that an extension, which is a software component that enhances the functionality of a virtual machine, has been removed from the virtual machine.
- The event can be used to track and monitor changes made to extensions in Azure virtual machines, providing visibility into the lifecycle of extensions and helping to ensure proper management and security of virtual machine resources.

#### Example

1. Example of security impact: If an unauthorized user gains access to the Azure portal or has compromised credentials, they may be able to delete virtual machine extensions using the Microsoft.Compute.virtualMachines.extensions.delete event. This can lead to the removal of critical security extensions or agents that are responsible for monitoring, logging, or protecting the virtual machine.

Remediation:
- Enable multi-factor authentication (MFA) for all user accounts to prevent unauthorized access to the Azure portal.
- Regularly review and update user access permissions to ensure that only authorized individuals have the necessary privileges to delete virtual machine extensions.
- Implement Azure RBAC (Role-Based Access Control) to restrict access to the virtual machine extensions and ensure that only trusted users or groups can perform deletion operations.
- Enable Azure Monitor and Azure Security Center to receive alerts and notifications for any suspicious activities related to virtual machine extensions.
- Regularly backup and snapshot virtual machines to quickly restore them in case of accidental or malicious deletion.

Example CLI command to enable MFA for an Azure account:
```
az ad user update --id <user-id> --force-change-password-next-login true
```

Example CLI command to assign RBAC role to a user or group:
```
az role assignment create --assignee <user-or-group-id> --role <role-name> --scope <scope>
```

Example CLI command to enable Azure Monitor for a virtual machine:
```
az monitor diagnostic-settings create --name <diagnostic-settings-name> --resource <vm-resource-id> --logs '[{"category": "AllLogs", "enabled": true}]'
```

Example CLI command to create a backup of a virtual machine:
```
az backup protection enable-for-vm --vm <vm-name> --vault-name <vault-name> --resource-group <resource-group-name>
```


 