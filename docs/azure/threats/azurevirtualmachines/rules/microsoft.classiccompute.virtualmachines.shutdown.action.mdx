--- 
slug: Microsoft.ClassicCompute.virtualMachines.shutdown.action
eventname: Microsoft.ClassicCompute.virtualMachines.shutdown.action
title: Microsoft.ClassicCompute.virtualMachines.shutdown.action
sidebar_label: Microsoft.ClassicCompute.virtualMachines.shutdown.action
---
                       
### Event Information

#### Meaning

- The Microsoft.ClassicCompute.virtualMachines.shutdown.action event in azurerealtime for AzureVirtualMachines refers to the event triggered when a virtual machine in the Azure Classic deployment model is being shut down.
- This event indicates that the virtual machine is being gracefully shut down, allowing any running processes or applications to complete their tasks before the machine is powered off.
- It is important to note that this event is specific to the Azure Classic deployment model and may not be applicable to virtual machines deployed using the Azure Resource Manager (ARM) model.

#### Example

1. Example of security impact: If the Microsoft.ClassicCompute.virtualMachines.shutdown.action event is triggered in AzureRealTime for AzureVirtualMachines, it could indicate a potential security issue where unauthorized users or malicious actors are able to shut down virtual machines without proper authorization. This could lead to service disruption, data loss, or unauthorized access to sensitive information.

2. Remediation steps:
   - Enable Azure Active Directory (Azure AD) authentication for virtual machine management to ensure that only authorized users can perform actions such as shutting down virtual machines.
   - Implement role-based access control (RBAC) to restrict the permissions of users and ensure that only necessary individuals have the ability to shut down virtual machines.
   - Regularly monitor and review audit logs and alerts to detect any unauthorized shutdown actions and investigate them promptly.

Example CLI command to enable Azure AD authentication for virtual machine management:
```
az vm update -g <resource-group-name> -n <virtual-machine-name> --set identity.type="SystemAssigned"
```

Example CLI command to assign RBAC role to a user for virtual machine management:
```
az role assignment create --assignee <user-principal-name> --role "Virtual Machine Contributor" --scope /subscriptions/<subscription-id>/resourceGroups/<resource-group-name>/providers/Microsoft.Compute/virtualMachines/<virtual-machine-name>
```

Note: The above commands assume that you have the Azure CLI installed and configured with appropriate credentials.


 