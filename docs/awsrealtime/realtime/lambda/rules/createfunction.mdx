--- 
slug: CreateFunction
eventname: CreateFunction
title: CreateFunction
sidebar_label: CreateFunction
---
                       
### Event Information

#### Meaning

- The CreateFunction event in awsrealtime for Lambda refers to the event that is triggered when a new Lambda function is created in AWS.
- This event provides real-time information about the creation of the Lambda function, including details such as the function name, runtime environment, memory allocation, and other configuration settings.
- By monitoring the CreateFunction event, you can track the creation of Lambda functions in your AWS account and take necessary actions, such as setting up alarms or performing additional configuration, based on the specific requirements of the function.

#### Example

1. Example of security impact: If the CreateFunction event in AWS Lambda is not properly secured, it can lead to unauthorized access or execution of malicious code. For example, an attacker could exploit weak IAM permissions or insecure deployment configurations to gain unauthorized access to the Lambda function or modify its code.

Remediation:
- Ensure that IAM roles and policies are properly configured to restrict access to the Lambda function. Follow the principle of least privilege and grant only the necessary permissions.
- Implement proper network security measures such as VPC configurations, security groups, and NACLs to control inbound and outbound traffic to the Lambda function.
- Regularly review and update the Lambda function's code and dependencies to address any known vulnerabilities. Enable automatic updates for the runtime and dependencies.

AWS CLI command for creating a Lambda function with security best practices:
```bash
aws lambda create-function --function-name MyFunction --runtime python3.8 --handler index.handler --role arn:aws:iam::123456789012:role/MyLambdaRole --code S3Bucket=my-bucket,S3Key=my-function.zip --vpc-config SubnetIds=subnet-12345678,SecurityGroupIds=sg-12345678 --layers arn:aws:lambda:us-east-1:123456789012:layer:MyLayer:1 --environment Variables={Key1=Value1,Key2=Value2} --timeout 30 --memory-size 128
```

Note: Replace the placeholders (e.g., function-name, role, bucket, subnet, security group, layer, environment variables) with the appropriate values for your setup.

2. Example of security impact: If the CreateFunction event is triggered by an unauthorized user or a compromised account, it can lead to the creation of malicious Lambda functions that can be used for various malicious activities such as data exfiltration, unauthorized access, or launching further attacks within the AWS environment.

Remediation:
- Implement strong access controls and enforce multi-factor authentication (MFA) for AWS accounts to prevent unauthorized access.
- Regularly monitor and review CloudTrail logs to detect any unauthorized or suspicious CreateFunction events.
- Implement AWS Config rules or third-party security tools to enforce security policies and prevent the creation of Lambda functions that violate security best practices.

AWS CLI command for enabling MFA for an IAM user:
```bash
aws iam enable-mfa-device --user-name MyUser --serial-number arn:aws:iam::123456789012:mfa/MyMfaDevice --authentication-code1 123456 --authentication-code2 654321
```

Note: Replace the placeholders (e.g., user-name, serial-number, authentication codes) with the appropriate values for your setup.

3. Example of security impact: If the CreateFunction event is triggered without proper validation or input sanitization, it can lead to code injection vulnerabilities. An attacker could exploit this vulnerability to execute arbitrary code within the Lambda function's environment, potentially compromising the entire application or infrastructure.

Remediation:
- Implement input validation and sanitization techniques to prevent code injection vulnerabilities. Use parameterized queries or prepared statements when interacting with external resources.
- Regularly scan the Lambda function's code and dependencies for known vulnerabilities using tools like AWS CodeScan or third-party security scanners.
- Implement runtime security controls such as AWS Lambda Layers for security libraries or AWS WAF for web application firewall protection.

AWS CLI command for creating a Lambda function with input validation:
```bash
aws lambda create-function --function-name MyFunction --runtime python3.8 --handler index.handler --role arn:aws:iam::123456789012:role/MyLambdaRole --code S3Bucket=my-bucket,S3Key=my-function.zip --environment Variables={Key1=Value1,Key2=Value2} --timeout 30 --memory-size 128 --layers arn:aws:lambda:us-east-1:123456789012:layer:MyLayer:1 --vpc-config SubnetIds=subnet-12345678,SecurityGroupIds=sg-12345678
```

Note: Replace the placeholders (e.g., function-name, role, bucket, environment variables, subnet, security group, layer) with the appropriate values for your setup.


 