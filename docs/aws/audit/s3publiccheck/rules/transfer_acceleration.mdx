---
slug: transfer_acceleration
title: S3 Buckets Should Use Transfer Acceleration
sidebar_label: S3 Buckets Should Use Transfer Acceleration
---

### More Info:

S3 buckets should be using Transfer Acceleration feature to increase the speed (up to 500%) of data transfers in and out of Amazon S3 using AWS edge network.

### Risk Level

Low

### Address

Operational Maturity, Security

### Compliance Standards

CBP



<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Sign in to the AWS Management Console.
2. Navigate to the S3 service by typing 'S3' into the search bar and selecting 'S3' from the dropdown menu.
3. In the S3 dashboard, you will see a list of all your S3 buckets. Click on the name of the bucket you want to check.
4. Once inside the bucket, click on the 'Properties' tab. Scroll down to the 'Transfer Acceleration' section. If the status is 'Suspended' or 'Disabled', then Transfer Acceleration is not enabled for this bucket.

#### Using CLI

1. Install and configure AWS CLI: Before you can start using AWS CLI, you need to install it on your local machine. You can download it from the official AWS website. After installation, you need to configure it with your AWS account credentials. You can do this by running the command `aws configure` and then entering your AWS Access Key ID, Secret Access Key, Default region name, and Default output format when prompted.

2. List all S3 buckets: Use the following command to list all the S3 buckets in your AWS account:

   ```
   aws s3api list-buckets --query 'Buckets[].Name'
   ```

3. Check the Transfer Acceleration status: For each bucket, you can check the Transfer Acceleration status by using the following command:

   ```
   aws s3api get-bucket-accelerate-configuration --bucket your-bucket-name
   ```

   Replace 'your-bucket-name' with the name of your bucket. If Transfer Acceleration is enabled, the command will return "Enabled". If it's not enabled or not set, the command will return an error.

4. Repeat the process: You need to repeat the third step for each bucket in your AWS account. You can automate this process by writing a script that loops through all the buckets and checks their Transfer Acceleration status.

#### Using Python

1. Install the necessary Python libraries: To interact with AWS services, you need to install the Boto3 library. You can install it using pip:

   ```bash
   pip install boto3
   ```

2. Configure AWS credentials: Before you can interact with AWS services, you need to set up your AWS credentials. You can do this by creating a file at ~/.aws/credentials. At the very least, the contents of the file should be:

   ```bash
   [default]
   aws_access_key_id = YOUR_ACCESS_KEY
   aws_secret_access_key = YOUR_SECRET_KEY
   ```

3. Create a Python script: The following Python script will list all S3 buckets and check if Transfer Acceleration is enabled:

   ```python
   import boto3

   s3 = boto3.client('s3')

   # List all S3 buckets
   response = s3.list_buckets()

   # For each bucket, check if Transfer Acceleration is enabled
   for bucket in response['Buckets']:
       bucket_name = bucket['Name']
       try:
           ta_status = s3.get_bucket_accelerate_configuration(Bucket=bucket_name)
           if 'Status' in ta_status and ta_status['Status'] == 'Enabled':
               print(f"Transfer Acceleration is enabled for bucket: {bucket_name}")
           else:
               print(f"Transfer Acceleration is not enabled for bucket: {bucket_name}")
       except Exception as e:
           print(f"Error getting Transfer Acceleration status for bucket: {bucket_name}. Error: {str(e)}")
   ```

4. Run the Python script: You can run the Python script from your terminal using the following command:

   ```bash
   python check_s3_transfer_acceleration.py
   ```
   
This script will print out the status of Transfer Acceleration for each S3 bucket. If Transfer Acceleration is not enabled for a bucket, it will print that out. If there is an error getting the Transfer Acceleration status for a bucket, it will print the error message.

</Tab>


<Tab title='Remediation'>
### Remediation

#### Using Console

Sure, here are the step-by-step instructions to remediate the misconfiguration in AWS:

1. Log in to your AWS Management Console.
2. Navigate to the S3 service.
3. Select the bucket that you want to remediate.
4. Click on the Properties tab.
5. Scroll down to the Transfer Acceleration section.
6. Click on the Edit button.
7. Select the Enable Transfer Acceleration option.
8. Click on Save changes.

That's it! You have now enabled Transfer Acceleration for your S3 bucket. This will ensure that data transfer to and from your bucket is faster and more reliable.

#### Using CLI

To remediate the misconfiguration "S3 Buckets Should Use Transfer Acceleration" for AWS using AWS CLI, you can follow the below steps:

1. Open the AWS CLI on your local machine.

2. Run the following command to enable transfer acceleration on an S3 bucket:

```
aws s3api put-bucket-accelerate-configuration --bucket BUCKET_NAME --accelerate-configuration Status=Enabled
```

Replace `BUCKET_NAME` with the name of the S3 bucket that you want to enable transfer acceleration for.

3. Verify that transfer acceleration is enabled for the S3 bucket by running the following command:

```
aws s3api get-bucket-accelerate-configuration --bucket BUCKET_NAME
```

This command will return the current status of transfer acceleration for the specified S3 bucket.

4. Repeat steps 2-3 for any other S3 buckets that need transfer acceleration enabled.

By following these steps, you can remediate the misconfiguration "S3 Buckets Should Use Transfer Acceleration" for AWS using AWS CLI.

#### Using Python

To remediate the misconfiguration of not using transfer acceleration for S3 Buckets in AWS using Python, you can follow these steps:

1. Import the necessary AWS SDK libraries: boto3 and botocore.

```python
import boto3
from botocore.exceptions import ClientError
```

2. Create a boto3 S3 client object.

```python
s3 = boto3.client('s3')
```

3. Get a list of all S3 buckets in your AWS account.

```python
bucket_list = s3.list_buckets()
```

4. Iterate through the list of buckets and enable transfer acceleration for each bucket.

```python
for bucket in bucket_list['Buckets']:
    bucket_name = bucket['Name']
    try:
        response = s3.put_bucket_accelerate_configuration(
            Bucket=bucket_name,
            AccelerateConfiguration={
                'Status': 'Enabled'
            }
        )
        print(f"Transfer acceleration enabled for bucket: {bucket_name}")
    except ClientError as e:
        if e.response['Error']['Code'] == 'NoSuchBucket':
            print(f"Bucket {bucket_name} does not exist.")
        else:
            print(f"Error enabling transfer acceleration for bucket {bucket_name}: {e}")
```

5. Save the Python script and run it to enable transfer acceleration for all S3 buckets in your AWS account.

Note: You must have appropriate AWS credentials configured in your environment to access your AWS account and make changes to S3 buckets.

### Additional Reading:

- [https://docs.aws.amazon.com/AmazonS3/latest/userguide/transfer-acceleration.html](https://docs.aws.amazon.com/AmazonS3/latest/userguide/transfer-acceleration.html) 


</Tab>
</Tabs>