---
slug: transfer_acceleration
title: S3 Buckets Should Use Transfer Acceleration
sidebar_label: S3 Buckets Should Use Transfer Acceleration
---

### More Info:

S3 buckets should be using Transfer Acceleration feature to increase the speed (up to 500%) of data transfers in and out of Amazon S3 using AWS edge network.

### Risk Level

Low

### Address

Operational Maturity, Security

### Compliance Standards

CBP


### Triage and Remediation
<Tabs>


<Tab title='Prevention'>
### How to Prevent
<AccordionGroup>
<Accordion title='Using Console' defaultOpen='true'>
To prevent S3 Buckets from not using Transfer Acceleration in AWS using the AWS Management Console, follow these steps:

1. **Navigate to S3 Service:**
   - Log in to the AWS Management Console.
   - In the Services menu, select "S3" under the "Storage" category.

2. **Select the Bucket:**
   - In the S3 dashboard, you will see a list of your buckets.
   - Click on the name of the bucket for which you want to enable Transfer Acceleration.

3. **Enable Transfer Acceleration:**
   - Once inside the bucket, click on the "Properties" tab.
   - Scroll down to the "Transfer Acceleration" section.
   - Click on the "Edit" button and then select "Enable" to turn on Transfer Acceleration.

4. **Save Changes:**
   - After enabling Transfer Acceleration, click the "Save changes" button to apply the settings.

By following these steps, you can ensure that your S3 buckets are configured to use Transfer Acceleration, which can help improve the speed of data transfers to and from your S3 buckets.
</Accordion>

<Accordion title='Using CLI'>
To prevent S3 Buckets from not using Transfer Acceleration in AWS using the AWS CLI, you can follow these steps:

1. **Enable Transfer Acceleration on the S3 Bucket:**
   Use the `aws s3api put-bucket-accelerate-configuration` command to enable transfer acceleration on your S3 bucket.

   ```sh
   aws s3api put-bucket-accelerate-configuration --bucket your-bucket-name --accelerate-configuration Status=Enabled
   ```

2. **Verify Transfer Acceleration Status:**
   Confirm that transfer acceleration is enabled by using the `aws s3api get-bucket-accelerate-configuration` command.

   ```sh
   aws s3api get-bucket-accelerate-configuration --bucket your-bucket-name
   ```

3. **Set Up Bucket Policy to Enforce Transfer Acceleration:**
   Create a bucket policy that enforces the use of transfer acceleration. Use the `aws s3api put-bucket-policy` command to apply the policy.

   ```sh
   aws s3api put-bucket-policy --bucket your-bucket-name --policy file://bucket-policy.json
   ```

   Example `bucket-policy.json`:
   ```json
   {
     "Version": "2012-10-17",
     "Statement": [
       {
         "Effect": "Deny",
         "Principal": "*",
         "Action": "s3:*",
         "Resource": "arn:aws:s3:::your-bucket-name/*",
         "Condition": {
           "StringNotEquals": {
             "s3:DataTransferAccelerationStatus": "Enabled"
           }
         }
       }
     ]
   }
   ```

4. **Monitor and Audit S3 Bucket Settings:**
   Regularly audit your S3 bucket settings to ensure that transfer acceleration remains enabled. Use the `aws s3api get-bucket-accelerate-configuration` command in a scheduled script or monitoring tool.

   ```sh
   aws s3api get-bucket-accelerate-configuration --bucket your-bucket-name
   ```

By following these steps, you can ensure that your S3 buckets are configured to use transfer acceleration, thereby preventing misconfigurations related to this feature.
</Accordion>

<Accordion title='Using Python'>
To prevent S3 buckets from not using Transfer Acceleration in AWS, you can use the Boto3 library in Python. Transfer Acceleration enables fast, easy, and secure transfers of files over long distances between your client and an S3 bucket. Here are the steps to ensure that Transfer Acceleration is enabled for your S3 buckets using a Python script:

1. **Install Boto3 Library**:
   Ensure you have the Boto3 library installed. If not, you can install it using pip.
   ```bash
   pip install boto3
   ```

2. **Set Up AWS Credentials**:
   Make sure your AWS credentials are configured. You can set them up using the AWS CLI or by creating a `~/.aws/credentials` file.

3. **Python Script to Enable Transfer Acceleration**:
   Use the following Python script to enable Transfer Acceleration for your S3 buckets.

   ```python
   import boto3
   from botocore.exceptions import NoCredentialsError, PartialCredentialsError

   def enable_transfer_acceleration(bucket_name):
       try:
           s3_client = boto3.client('s3')
           response = s3_client.put_bucket_accelerate_configuration(
               Bucket=bucket_name,
               AccelerateConfiguration={
                   'Status': 'Enabled'
               }
           )
           print(f"Transfer Acceleration enabled for bucket: {bucket_name}")
       except NoCredentialsError:
           print("Credentials not available.")
       except PartialCredentialsError:
           print("Incomplete credentials provided.")
       except Exception as e:
           print(f"An error occurred: {e}")

   def main():
       # List of S3 bucket names you want to enable Transfer Acceleration for
       bucket_names = ['your-bucket-name-1', 'your-bucket-name-2']

       for bucket_name in bucket_names:
           enable_transfer_acceleration(bucket_name)

   if __name__ == "__main__":
       main()
   ```

4. **Run the Script**:
   Execute the script to enable Transfer Acceleration for the specified S3 buckets.
   ```bash
   python enable_transfer_acceleration.py
   ```

This script will iterate through the list of bucket names and enable Transfer Acceleration for each one. Make sure to replace `'your-bucket-name-1'` and `'your-bucket-name-2'` with the actual names of your S3 buckets.
</Accordion>

</AccordionGroup>
</Tab>

<Tab title='Cause'>
### Check Cause
<AccordionGroup>
<Accordion title='Using Console' defaultOpen='true'>
1. Sign in to the AWS Management Console.
2. Navigate to the S3 service by typing 'S3' into the search bar and selecting 'S3' from the dropdown menu.
3. In the S3 dashboard, you will see a list of all your S3 buckets. Click on the name of the bucket you want to check.
4. Once inside the bucket, click on the 'Properties' tab. Scroll down to the 'Transfer Acceleration' section. If the status is 'Suspended' or 'Disabled', then Transfer Acceleration is not enabled for this bucket.
</Accordion>

<Accordion title='Using CLI'>
1. Install and configure AWS CLI: Before you can start using AWS CLI, you need to install it on your local machine. You can download it from the official AWS website. After installation, you need to configure it with your AWS account credentials. You can do this by running the command `aws configure` and then entering your AWS Access Key ID, Secret Access Key, Default region name, and Default output format when prompted.

2. List all S3 buckets: Use the following command to list all the S3 buckets in your AWS account:

   ```
   aws s3api list-buckets --query 'Buckets[].Name'
   ```

   This command will return a list of all the S3 bucket names.

3. Check the Transfer Acceleration status: For each bucket, you can check the Transfer Acceleration status by using the following command:

   ```
   aws s3api get-bucket-accelerate-configuration --bucket your-bucket-name
   ```

   Replace 'your-bucket-name' with the name of your bucket. This command will return the Transfer Acceleration status of the specified bucket.

4. Analyze the output: If the Transfer Acceleration status is 'Enabled', then the bucket is using Transfer Acceleration. If the status is 'Suspended' or if there is no output, then the bucket is not using Transfer Acceleration. Repeat step 3 for each bucket in your AWS account to check all of them.
</Accordion>

<Accordion title='Using Python'>
1. Install the necessary AWS SDK for Python (Boto3) if you haven't done so already. You can install it using pip:

```python
pip install boto3
```

2. Import the necessary modules and create a session using your AWS credentials:

```python
import boto3

session = boto3.Session(
    aws_access_key_id='YOUR_ACCESS_KEY',
    aws_secret_access_key='YOUR_SECRET_KEY',
    region_name='YOUR_REGION'
)
```

3. Create an S3 client and retrieve the list of all your S3 buckets:

```python
s3 = session.client('s3')
response = s3.list_buckets()

buckets = [bucket['Name'] for bucket in response['Buckets']]
```

4. For each bucket, check if Transfer Acceleration is enabled:

```python
for bucket in buckets:
    try:
        ta_status = s3.get_bucket_accelerate_configuration(Bucket=bucket)
        if 'Status' in ta_status and ta_status['Status'] == 'Enabled':
            print(f"Transfer Acceleration is enabled for {bucket}")
        else:
            print(f"Transfer Acceleration is not enabled for {bucket}")
    except Exception as e:
        print(f"Error checking Transfer Acceleration for {bucket}: {e}")
```

This script will print out whether Transfer Acceleration is enabled for each of your S3 buckets. If it's not enabled, you may want to consider enabling it for improved performance.
</Accordion>

</AccordionGroup>
</Tab>

<Tab title='Remediation'>
### Remediation

<AccordionGroup>
<Accordion title='Using Console' defaultOpen='true'>
Sure, here are the step-by-step instructions to remediate the misconfiguration in AWS:

1. Log in to your AWS Management Console.
2. Navigate to the S3 service.
3. Select the bucket that you want to remediate.
4. Click on the Properties tab.
5. Scroll down to the Transfer Acceleration section.
6. Click on the Edit button.
7. Select the Enable Transfer Acceleration option.
8. Click on Save changes.

That's it! You have now enabled Transfer Acceleration for your S3 bucket. This will ensure that data transfer to and from your bucket is faster and more reliable.

#
</Accordion>

<Accordion title='Using CLI'>
To remediate the misconfiguration "S3 Buckets Should Use Transfer Acceleration" for AWS using AWS CLI, you can follow the below steps:

1. Open the AWS CLI on your local machine.

2. Run the following command to enable transfer acceleration on an S3 bucket:

```
aws s3api put-bucket-accelerate-configuration --bucket BUCKET_NAME --accelerate-configuration Status=Enabled
```

Replace `BUCKET_NAME` with the name of the S3 bucket that you want to enable transfer acceleration for.

3. Verify that transfer acceleration is enabled for the S3 bucket by running the following command:

```
aws s3api get-bucket-accelerate-configuration --bucket BUCKET_NAME
```

This command will return the current status of transfer acceleration for the specified S3 bucket.

4. Repeat steps 2-3 for any other S3 buckets that need transfer acceleration enabled.

By following these steps, you can remediate the misconfiguration "S3 Buckets Should Use Transfer Acceleration" for AWS using AWS CLI.
</Accordion>

<Accordion title='Using Python'>
To remediate the misconfiguration of not using transfer acceleration for S3 Buckets in AWS using Python, you can follow these steps:

1. Import the necessary AWS SDK libraries: boto3 and botocore.

```python
import boto3
from botocore.exceptions import ClientError
```

2. Create a boto3 S3 client object.

```python
s3 = boto3.client('s3')
```

3. Get a list of all S3 buckets in your AWS account.

```python
bucket_list = s3.list_buckets()
```

4. Iterate through the list of buckets and enable transfer acceleration for each bucket.

```python
for bucket in bucket_list['Buckets']:
    bucket_name = bucket['Name']
    try:
        response = s3.put_bucket_accelerate_configuration(
            Bucket=bucket_name,
            AccelerateConfiguration={
                'Status': 'Enabled'
            }
        )
        print(f"Transfer acceleration enabled for bucket: {bucket_name}")
    except ClientError as e:
        if e.response['Error']['Code'] == 'NoSuchBucket':
            print(f"Bucket {bucket_name} does not exist.")
        else:
            print(f"Error enabling transfer acceleration for bucket {bucket_name}: {e}")
```

5. Save the Python script and run it to enable transfer acceleration for all S3 buckets in your AWS account.

Note: You must have appropriate AWS credentials configured in your environment to access your AWS account and make changes to S3 buckets.
</Accordion>

</AccordionGroup>
</Tab>
</Tabs>
### Additional Reading:

- [https://docs.aws.amazon.com/AmazonS3/latest/userguide/transfer-acceleration.html](https://docs.aws.amazon.com/AmazonS3/latest/userguide/transfer-acceleration.html) 

