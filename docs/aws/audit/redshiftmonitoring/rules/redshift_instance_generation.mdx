---
slug: redshift_instance_generation
title: Redshift Clusters Should Use Latest Generation Of Nodes
sidebar_label: Redshift Clusters Should Use Latest Generation Of Nodes
---

### More Info:

Redshift clusters should be using the latest generation of nodes for performance improvements.

### Risk Level

Low

### Address

Cost Optimisation, Security

### Compliance Standards

CBP


### Remediation

#### Using Console

To remediate the misconfiguration "Redshift Clusters Should Use Latest Generation Of Nodes" in AWS using the AWS console, follow the below steps:

1. Login to AWS Management Console and navigate to the Amazon Redshift dashboard.

2. Select the Redshift cluster that you want to update and click on the "Modify" option.

3. In the "Node Configuration" section, select the latest generation of nodes from the "Node Type" drop-down list.

4. Choose the node type that is appropriate for your workload and click on "Apply Immediately" to make the changes.

5. Review the changes and click on "Modify Cluster" to apply the changes to the Redshift cluster.

6. Wait for the cluster to be updated and check the status of the cluster to ensure that it is running without any issues.

By following these steps, you can remediate the misconfiguration "Redshift Clusters Should Use Latest Generation Of Nodes" in AWS using the AWS console.

#### Using CLI

To remediate the misconfiguration "Redshift Clusters Should Use Latest Generation Of Nodes" for AWS using AWS CLI, follow the below steps:

1. Open the AWS CLI on your local machine and authenticate to your AWS account using the command `aws configure`.

2. To list all the Redshift clusters in your AWS account, run the following command:

```
aws redshift describe-clusters
```

3. Identify the Redshift clusters that are not using the latest generation of nodes.

4. To modify the Redshift cluster to use the latest generation of nodes, run the following command:

```
aws redshift modify-cluster --cluster-identifier <cluster-identifier> --node-type <node-type> --cluster-type <cluster-type> --allow-version-upgrade
```

Replace `<cluster-identifier>` with the identifier of the Redshift cluster that you want to modify, `<node-type>` with the latest generation of node type that you want to use, and `<cluster-type>` with the type of cluster that you want to use.

For example, to modify a Redshift cluster with the identifier `my-redshift-cluster` to use the latest generation of node type `dc2.large` and cluster type `multi-node`, run the following command:

```
aws redshift modify-cluster --cluster-identifier my-redshift-cluster --node-type dc2.large --cluster-type multi-node --allow-version-upgrade
```

5. Verify that the Redshift cluster is now using the latest generation of nodes by running the command:

```
aws redshift describe-clusters --cluster-identifier <cluster-identifier>
```

Replace `<cluster-identifier>` with the identifier of the Redshift cluster that you modified.

6. Repeat steps 3 to 5 for all the Redshift clusters that are not using the latest generation of nodes.

By following these steps, you can remediate the misconfiguration "Redshift Clusters Should Use Latest Generation Of Nodes" for AWS using AWS CLI.

#### Using Python

To remediate this misconfiguration for AWS Redshift clusters using Python, you can follow these steps:

1. Install the AWS SDK for Python (Boto3) using the following command:

```
pip install boto3
```

2. Import the required libraries:

```python
import boto3
```

3. Create a boto3 client for Redshift:

```python
redshift_client = boto3.client('redshift')
```

4. Get a list of all Redshift clusters:

```python
clusters = redshift_client.describe_clusters()
```

5. Iterate over the clusters and check if they are using the latest generation of nodes:

```python
for cluster in clusters['Clusters']:
    if cluster['NodeType'] != 'dc2.large':
        response = redshift_client.modify_cluster(NodeType='dc2.large', ClusterIdentifier=cluster['ClusterIdentifier'])
        print(f"Cluster {cluster['ClusterIdentifier']} updated to dc2.large node type.")
```

6. If a cluster is not using the latest generation of nodes, modify it to use the latest generation by calling the `modify_cluster` method:

```python
response = redshift_client.modify_cluster(NodeType='dc2.large', ClusterIdentifier='my-cluster')
```

This will modify the cluster named 'my-cluster' to use the latest generation of nodes.

Note: You will need to have appropriate AWS credentials and permissions to perform this remediation action.


### Additional Reading:

- [https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html](https://docs.aws.amazon.com/redshift/latest/mgmt/working-with-clusters.html) 

