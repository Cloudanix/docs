---
slug: emr_cluster_in_vpc
title: EMR Clusters Should Be In VPC
sidebar_label: EMR Clusters Should Be In VPC
---

### More Info:

Ensure that your Amazon Elastic MapReduce (EMR) clusters are provisioned using the AWS EC2-VPC platform instead of EC2-Classic platform (outdated from 2013.12.04) for better flexibility and control over security, better traffic routing and availability.

### Risk Level

Medium

### Address

Cost Optimisation, Security

### Compliance Standards

HIPAA, ISO27001

### Remediation

How to ensure EMR clusters are in VPC

#### Using AWS Console

To ensure that Amazon EMR clusters are launched within a Virtual Private Cloud (VPC), you can follow these steps:

1. Open the AWS Management Console and navigate to the Amazon EMR service.

2. Click on "Create cluster" to start creating a new EMR cluster or select an existing cluster that you want to modify.

3. In the "General Configuration" section, ensure that the "Launch mode" is set to "Cluster" (not "Step execution").

4. In the "Hardware Configuration" section, you can configure the instance types and instance count as per your requirements.

5. In the "Network Configuration" section, select the desired VPC from the "VPC" dropdown menu.

6. Choose the appropriate subnet(s) within the selected VPC for the master and core nodes.

7. Optionally, you can also configure additional network settings such as security groups and EC2 key pair in the "Security and access settings" section.

8. Continue with the remaining configuration options for your EMR cluster as per your requirements.

9. Review the cluster configuration and click on "Create cluster" (or "Modify cluster" if you're modifying an existing cluster).

By selecting a VPC and configuring the appropriate subnets, you ensure that the EMR cluster is launched within the specified VPC. This allows you to have more control over network connectivity, security, and access to other resources within your VPC.

### Additional Reading:

- [https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-clusters-in-a-vpc.html](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-clusters-in-a-vpc.html)

