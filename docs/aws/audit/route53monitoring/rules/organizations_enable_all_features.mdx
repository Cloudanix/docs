---
slug: organizations_enable_all_features
title: Enable All AWS Organization Features
sidebar_label: Enable All AWS Organization Features
---

### More Info:

Ensure that All Features is enabled within your Amazon Organizations to achieve full control over the use of AWS services and actions across multiple AWS accounts using Service Control Policies (SCPs). An SCP is a type of organization control policy that can be used to restrict what users and even administrators can do in affected AWS accounts. For example, the master account from an organization can apply SCPs that can prevent member accounts from leaving the organization. A Service Control Policy is similar to an IAM access policy except the SCP does not grant any access permissions but instead it acts like a filter that allows only the specified services and actions to be used within the organization. SCPs make use of whitelisting and blacklisting methods to filter the permissions that are available to member accounts. When whitelisting is used, you can explicitly specify the access that is allowed and all other access is implicitly blocked. When blacklisting is used, you can explicitly specify the access that is not allowed and all other access is granted

### Risk Level

Medium

### Address

Security

### Compliance Standards

CBP


### Triage and Remediation
<Tabs>

<Tab title='Cause'>
### Check Cause
<AccordionGroup>
<Accordion title='Using Console' defaultOpen='true'>
1. Sign in to the AWS Management Console and open the AWS Organizations console at https://console.aws.amazon.com/organizations/.
   
2. In the navigation pane, choose "Settings". 

3. In the "Organize features" section, check the status of "All features". If it's enabled, it means all AWS Organization features are enabled.

4. To verify the configuration in Route53, navigate to the Route53 console at https://console.aws.amazon.com/route53/. Check the configurations and settings related to AWS Organizations. If there are any settings that are not applicable or not in use, it might indicate a misconfiguration.
</Accordion>

<Accordion title='Using CLI'>
1. First, you need to install and configure AWS CLI on your local machine. You can do this by following the instructions provided by AWS. Make sure you have the necessary permissions to execute the commands.

2. Once the AWS CLI is installed and configured, you can use the following command to list all the organizations in your AWS account:

   ```
   aws organizations list-organizations --query 'Organizations[*].[Id,FeatureSet]' --output text
   ```
   This command will return a list of all organizations and their feature sets.

3. To check if all AWS Organization features are enabled, you need to look for the 'FeatureSet' attribute in the output. If the 'FeatureSet' attribute is set to 'ALL', then all AWS Organization features are enabled.

4. If you want to check this for a specific organization, you can modify the command to include the organization ID like so:

   ```
   aws organizations describe-organization --organization-id <Your-Organization-ID> --query 'Organization.FeatureSet' --output text
   ```
   Replace `<Your-Organization-ID>` with the ID of the organization you want to check. This command will return the 'FeatureSet' attribute for the specified organization. If the output is 'ALL', then all AWS Organization features are enabled for that organization.
</Accordion>

<Accordion title='Using Python'>
1. Install and configure AWS SDK for Python (Boto3):
   You need to install and configure AWS SDK for Python (Boto3) on your local machine. This SDK allows Python developers to write software that makes use of services like Amazon S3, Amazon EC2, etc. You can install it using pip:

   ```
   pip install boto3
   ```

   Then, configure your AWS credentials to enable Boto3 to communicate with AWS services. You can do this by creating the files ~/.aws/credentials and ~/.aws/config:

   ```
   ~/.aws/credentials:
   [default]
   aws_access_key_id = YOUR_ACCESS_KEY
   aws_secret_access_key = YOUR_SECRET_KEY

   ~/.aws/config:
   [default]
   region=us-east-1
   ```

2. Use Boto3 to interact with AWS Route53:
   Now, you can use Boto3 to interact with AWS Route53. Here is a simple script to list all hosted zones in Route53:

   ```python
   import boto3

   client = boto3.client('route53')

   response = client.list_hosted_zones()

   for zone in response['HostedZones']:
       print(zone['Name'])
   ```

3. Check for AWS Organization Features:
   Unfortunately, AWS Route53 does not directly support AWS Organization features. Therefore, you cannot directly check if all AWS Organization features are enabled in Route53 using a Python script. 

4. Use AWS Organizations API:
   However, you can use the AWS Organizations API to check if all features are enabled for your organization. Here is a simple script to do this:

   ```python
   import boto3

   client = boto3.client('organizations')

   response = client.describe_organization()

   print(response['Organization']['FeatureSet'])
   ```

   This script will print 'ALL' if all features are enabled for your organization, and 'CONSOLIDATED_BILLING' otherwise.
</Accordion>

</AccordionGroup>
</Tab>

<Tab title='Remediation'>
### Remediation

<AccordionGroup>
<Accordion title='Using Console' defaultOpen='true'>
To remediate the misconfiguration "Enable All AWS Organization Features" for AWS using AWS console, follow these steps:

1. Log in to your AWS Management Console.
2. Navigate to the AWS Organizations service.
3. Click on the "Settings" tab in the left navigation menu.
4. Scroll down to the "Feature Configuration" section.
5. Click on the "Enable All Features" button.
6. Review the features that will be enabled and click "Confirm".
7. Wait for the process to complete. 

Once the process is complete, all the AWS organization features will be enabled and the misconfiguration will be remediated.

#
</Accordion>

<Accordion title='Using CLI'>
To enable all AWS Organization features, you can follow these steps using AWS CLI:

1. Open the AWS CLI on your local machine or EC2 instance.

2. Run the following command to enable all AWS Organization features:

```
aws organizations enable-all-features
```

3. If you receive an error message that says "You don't have permissions to enable all features," you need to ensure that you have the necessary permissions to perform this action. You can check your permissions by running the following command:

```
aws iam list-policies --scope Local | grep "AWSServiceRoleForOrganizations"
```

4. If you do not have the necessary permissions, you can add them by creating a new policy. For example, you can create a new policy called "EnableAllOrgFeatures" with the following permissions:

```
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "EnableAllOrgFeatures",
            "Effect": "Allow",
            "Action": [
                "organizations:EnableAllFeatures"
            ],
            "Resource": "*"
        }
    ]
}
```

5. Once you have the necessary permissions, you can run the command again to enable all AWS Organization features:

```
aws organizations enable-all-features
```

6. Wait for a few minutes for the changes to take effect.

7. Verify that all AWS Organization features are enabled by running the following command:

```
aws organizations describe-organization
```

This should return a JSON object that includes information about your organization, including the status of all enabled features.
</Accordion>

<Accordion title='Using Python'>
To enable all AWS Organization features, you can use the AWS Organizations API in Python. Here are the steps to remediate this misconfiguration:

1. First, you need to install the `boto3` library in Python. You can install it using the following command:

```
pip install boto3
```

2. Next, you need to set up your AWS credentials in your Python environment. You can do this by creating a new profile in your `~/.aws/credentials` file or by setting the `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY` environment variables.

3. Once you have set up your credentials, you can use the following Python code to enable all AWS Organization features:

```python
import boto3

# Create a new AWS Organizations client
org_client = boto3.client('organizations')

# Enable all features for the organization
org_client.enable_all_features()
```

4. Finally, you can run the Python script to enable all AWS Organization features. Once the script has completed, all features will be enabled for your AWS Organization.

Note: Before enabling all features, make sure that you understand the implications of doing so and that it is appropriate for your organization.
</Accordion>

</AccordionGroup>
</Tab>
</Tabs>
### Additional Reading:

- [https://aws.amazon.com/organizations/features/](https://aws.amazon.com/organizations/features/](https://aws.amazon.com/organizations/features/](https://aws.amazon.com/organizations/features/) 

