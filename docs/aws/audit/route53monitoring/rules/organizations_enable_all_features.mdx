---
slug: organizations_enable_all_features
title: Enable All AWS Organization Features
sidebar_label: Enable All AWS Organization Features
---

### More Info:

Ensure that All Features is enabled within your Amazon Organizations to achieve full control over the use of AWS services and actions across multiple AWS accounts using Service Control Policies (SCPs). An SCP is a type of organization control policy that can be used to restrict what users and even administrators can do in affected AWS accounts. For example, the master account from an organization can apply SCPs that can prevent member accounts from leaving the organization. A Service Control Policy is similar to an IAM access policy except the SCP does not grant any access permissions but instead it acts like a filter that allows only the specified services and actions to be used within the organization. SCPs make use of whitelisting and blacklisting methods to filter the permissions that are available to member accounts. When whitelisting is used, you can explicitly specify the access that is allowed and all other access is implicitly blocked. When blacklisting is used, you can explicitly specify the access that is not allowed and all other access is granted

### Risk Level

Medium

### Address

Security

### Compliance Standards

CBP



<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Sign in to the AWS Management Console and open the AWS Organizations console at https://console.aws.amazon.com/organizations/.
   
2. In the navigation pane, choose "Settings". 

3. In the "Details" section, check the status of "All features". If it's enabled, it means all AWS Organization features are enabled. 

4. For Route53, navigate to the Route53 console at https://console.aws.amazon.com/route53/. Check the configurations and settings to ensure they are in line with the enabled AWS Organization features.

#### Using CLI

1. First, you need to install and configure AWS CLI on your local machine. You can do this by following the instructions provided by AWS. Make sure you have the necessary permissions to execute the commands.

2. Once the AWS CLI is set up, you can use the `aws organizations describe-organization` command to get the details of your organization. This command will return a JSON object that contains information about your organization.

   Command: 
   ```
   aws organizations describe-organization
   ```

3. In the returned JSON object, look for the `FeatureSet` attribute. If the value of this attribute is `ALL`, then all AWS Organization features are enabled. If the value is `CONSOLIDATED_BILLING`, then not all features are enabled.

4. To check the Route53 configuration, you can use the `aws route53 get-hosted-zone` command followed by the ID of your hosted zone. This command will return a JSON object that contains information about your hosted zone.

   Command: 
   ```
   aws route53 get-hosted-zone --id <your-hosted-zone-id>
   ```
   
Please note that you need to replace `<your-hosted-zone-id>` with the ID of your hosted zone.

#### Using Python

To check if all AWS Organization features are enabled in Route53 using Python scripts, you can use the AWS SDK for Python (Boto3). Here are the steps:

1. **Setup AWS SDK for Python (Boto3):**
   First, you need to install and configure Boto3. You can install it using pip:

   ```
   pip install boto3
   ```

   Then, configure your AWS credentials. You can do this by setting the following environment variables:

   ```
   AWS_ACCESS_KEY_ID='your_access_key'
   AWS_SECRET_ACCESS_KEY='your_secret_key'
   ```

2. **Create a Python Script to List AWS Organizations:**
   You can use the `list_organizations` method to retrieve all the organizations in your AWS account. Here's a sample script:

   ```python
   import boto3

   client = boto3.client('organizations')

   response = client.list_organizations()

   print(response)
   ```

3. **Check if All Features are Enabled:**
   The response from the `list_organizations` method includes a `FeatureSet` attribute for each organization. If all features are enabled, this attribute will be set to `ALL`. You can check this with the following script:

   ```python
   import boto3

   client = boto3.client('organizations')

   response = client.list_organizations()

   for org in response['Organizations']:
       if org['FeatureSet'] == 'ALL':
           print(f"All features are enabled for organization {org['Id']}")
       else:
           print(f"Not all features are enabled for organization {org['Id']}")
   ```

4. **Error Handling:**
   It's important to handle any potential errors in your script. For example, you might not have the necessary permissions to list organizations or to check their features. You can add error handling with a try-except block:

   ```python
   import boto3

   client = boto3.client('organizations')

   try:
       response = client.list_organizations()

       for org in response['Organizations']:
           if org['FeatureSet'] == 'ALL':
               print(f"All features are enabled for organization {org['Id']}")
           else:
               print(f"Not all features are enabled for organization {org['Id']}")
   except Exception as e:
       print(f"An error occurred: {e}")
   ```

Please note that this script assumes that you have the necessary permissions to list organizations and check their features. If you don't, you'll need to update your IAM policies accordingly.

</Tab>


<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the misconfiguration "Enable All AWS Organization Features" for AWS using AWS console, follow these steps:

1. Log in to your AWS Management Console.
2. Navigate to the AWS Organizations service.
3. Click on the "Settings" tab in the left navigation menu.
4. Scroll down to the "Feature Configuration" section.
5. Click on the "Enable All Features" button.
6. Review the features that will be enabled and click "Confirm".
7. Wait for the process to complete. 

Once the process is complete, all the AWS organization features will be enabled and the misconfiguration will be remediated.

#### Using CLI

To enable all AWS Organization features, you can follow these steps using AWS CLI:

1. Open the AWS CLI on your local machine or EC2 instance.

2. Run the following command to enable all AWS Organization features:

```
aws organizations enable-all-features
```

3. If you receive an error message that says "You don't have permissions to enable all features," you need to ensure that you have the necessary permissions to perform this action. You can check your permissions by running the following command:

```
aws iam list-policies --scope Local | grep "AWSServiceRoleForOrganizations"
```

4. If you do not have the necessary permissions, you can add them by creating a new policy. For example, you can create a new policy called "EnableAllOrgFeatures" with the following permissions:

```
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Sid": "EnableAllOrgFeatures",
            "Effect": "Allow",
            "Action": [
                "organizations:EnableAllFeatures"
            ],
            "Resource": "*"
        }
    ]
}
```

5. Once you have the necessary permissions, you can run the command again to enable all AWS Organization features:

```
aws organizations enable-all-features
```

6. Wait for a few minutes for the changes to take effect.

7. Verify that all AWS Organization features are enabled by running the following command:

```
aws organizations describe-organization
```

This should return a JSON object that includes information about your organization, including the status of all enabled features.

#### Using Python

To enable all AWS Organization features, you can use the AWS Organizations API in Python. Here are the steps to remediate this misconfiguration:

1. First, you need to install the `boto3` library in Python. You can install it using the following command:

```
pip install boto3
```

2. Next, you need to set up your AWS credentials in your Python environment. You can do this by creating a new profile in your `~/.aws/credentials` file or by setting the `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY` environment variables.

3. Once you have set up your credentials, you can use the following Python code to enable all AWS Organization features:

```python
import boto3

# Create a new AWS Organizations client
org_client = boto3.client('organizations')

# Enable all features for the organization
org_client.enable_all_features()
```

4. Finally, you can run the Python script to enable all AWS Organization features. Once the script has completed, all features will be enabled for your AWS Organization.

Note: Before enabling all features, make sure that you understand the implications of doing so and that it is appropriate for your organization.

### Additional Reading:

- [https://aws.amazon.com/organizations/features/](https://aws.amazon.com/organizations/features/](https://aws.amazon.com/organizations/features/](https://aws.amazon.com/organizations/features/) 


</Tab>
</Tabs>