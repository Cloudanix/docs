---
slug: rds_auto_minor_version_upgrade
title: Auto Minor Version Upgrade flag Should Be Enabled
sidebar_label: Auto Minor Version Upgrade flag Should Be Enabled
---

### More Info:

Your RDS database instances should have the Auto Minor Version Upgrade flag enabled in order to receive automatically minor engine upgrades during the specified maintenance window

### Risk Level

Low

### Address

Security

### Compliance Standards

AWSWAF, SOC2, NISTCSF

### Remediation

#### Using Console

To remediate the misconfiguration of the "Auto Minor Version Upgrade" flag not being enabled for an AWS RDS instance using the AWS Management Console, follow these steps:

1. **Sign in to the AWS Management Console**: Go to https://aws.amazon.com/ and sign in to the AWS Management Console using your credentials.

2. **Navigate to the RDS Dashboard**: Click on the "Services" dropdown menu at the top of the page, select "RDS" under the Database category.

3. **Select the RDS Instance**: From the list of RDS instances, select the instance for which you want to enable the "Auto Minor Version Upgrade" flag by clicking on its identifier.

4. **Modify the Instance**: In the RDS dashboard for the selected instance, click on the "Modify" button located in the top right corner of the page.

5. **Enable Auto Minor Version Upgrade**: Scroll down to the "Backup" section of the Modify DB Instance page. Here, you will find the "Auto minor version upgrade" option. Check the box next to this option to enable automatic minor version upgrades for your RDS instance.

6. **Save Changes**: Scroll to the bottom of the page and click on the "Continue" button.

7. **Apply Changes**: Review the changes you are about to make and click on the "Modify DB Instance" button to apply the changes.

8. **Monitor the Status**: Once the modification is complete, monitor the status of the RDS instance to ensure that the "Auto Minor Version Upgrade" flag is now enabled.

By following these steps, you have remediated the misconfiguration of the "Auto Minor Version Upgrade" flag not being enabled for your AWS RDS instance using the AWS Management Console.

#### Using CLI

To remediate the misconfiguration of the "Auto Minor Version Upgrade" flag not being enabled for an AWS RDS instance using AWS CLI, follow these steps:

1. **Identify the RDS Instance**: First, you need to identify the AWS RDS instance for which you want to enable the Auto Minor Version Upgrade flag. You can do this by listing all the RDS instances in your AWS account using the following AWS CLI command:
   ```
   aws rds describe-db-instances
   ```

2. **Enable Auto Minor Version Upgrade**: Once you have identified the RDS instance, you can enable the Auto Minor Version Upgrade flag by running the following AWS CLI command:
   ```
   aws rds modify-db-instance --db-instance-identifier <your-rds-instance-name> --auto-minor-version-upgrade --apply-immediately
   ```
   Replace `<your-rds-instance-name>` with the actual name of your RDS instance.

3. **Verify the Configuration**: After running the above command, the Auto Minor Version Upgrade flag should be enabled for your RDS instance. You can verify this by describing the RDS instance again using the AWS CLI command:
   ```
   aws rds describe-db-instances --db-instance-identifier <your-rds-instance-name>
   ```
   Ensure that the `AutoMinorVersionUpgrade` parameter is set to `true` in the output.

By following these steps, you can remediate the misconfiguration of the Auto Minor Version Upgrade flag not being enabled for an AWS RDS instance using AWS CLI.

#### Using Python

To remediate the misconfiguration of the "Auto Minor Version Upgrade" flag not being enabled for an AWS RDS instance using Python, you can use the AWS SDK for Python (Boto3) to update the RDS instance's configuration. Here are the step-by-step instructions:

1. Install Boto3: Ensure that you have the Boto3 library installed. You can install it using pip:
   ```
   pip install boto3
   ```

2. Configure AWS Credentials: Make sure you have your AWS credentials configured either through environment variables, AWS CLI configuration, or IAM role assigned to the instance running the script.

3. Write Python script: Create a Python script with the following code to enable the "Auto Minor Version Upgrade" flag for the RDS instance:

   ```python
   import boto3

   # Initialize the RDS client
   rds_client = boto3.client('rds', region_name='your-aws-region')

   # Specify the RDS instance identifier
   db_instance_identifier = 'your-rds-instance-id'

   # Enable Auto Minor Version Upgrade for the specified RDS instance
   response = rds_client.modify_db_instance(
       DBInstanceIdentifier=db_instance_identifier,
       AutoMinorVersionUpgrade=True
   )

   print(f"Auto Minor Version Upgrade enabled for RDS instance {db_instance_identifier}")
   ```

   Make sure to replace `'your-aws-region'` with the AWS region where your RDS instance is located and `'your-rds-instance-id'` with the actual identifier of your RDS instance.

4. Run the script: Execute the Python script you created in step 3. This will enable the "Auto Minor Version Upgrade" flag for the specified RDS instance.

5. Verify: You can verify that the configuration has been updated by checking the RDS instance details in the AWS Management Console or by running describe_db_instances API call using Boto3.

By following these steps, you can remediate the misconfiguration of the "Auto Minor Version Upgrade" flag not being enabled for an AWS RDS instance using Python and Boto3.

### Additional Reading:

- [https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.Upgrading.html](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_UpgradeDBInstance.Upgrading.html) 

