

<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Sign in to the AWS Management Console.
2. Navigate to the RDS dashboard by selecting "Services" from the top menu, then selecting "RDS" under the "Database" category.
3. In the navigation pane, click on "Databases".
4. Select the DocumentDB cluster that you want to check. This will open the details page for the selected cluster.
5. In the "Details" section, look for the "Deletion protection" field. If the value is set to "Disabled", then the DocumentDB cluster does not have deletion protection enabled.

#### Using CLI

1. Install and configure AWS CLI: Before you can start using AWS CLI, you need to install it on your local machine and configure it with your AWS account credentials. You can do this by running the following commands:

   Installation: `pip install awscli`
   
   Configuration: `aws configure`

2. List all DocumentDB clusters: Use the `describe-db-clusters` command to list all the DocumentDB clusters in your AWS account. The command is as follows:

   `aws docdb describe-db-clusters --query 'DBClusters[*].[DBClusterIdentifier]' --output text`

3. Check Deletion Protection status: For each DocumentDB cluster, check the status of the Deletion Protection feature. You can do this by running the following command:

   `aws docdb describe-db-clusters --db-cluster-identifier <your-cluster-identifier> --query 'DBClusters[*].[DBClusterIdentifier,DeletionProtection]' --output text`

4. Analyze the output: The output of the above command will show the Deletion Protection status for each DocumentDB cluster. If the status is 'false', it means that the Deletion Protection is not enabled for that cluster.

#### Using Python

1. Install the necessary Python libraries: Before you can start writing the script, you need to install the necessary Python libraries. The AWS SDK for Python (Boto3) allows Python developers to write software that makes use of services like Amazon S3, Amazon EC2, etc. You can install it using pip:

```python
pip install boto3
```

2. Import the necessary libraries and establish a session: In your Python script, you need to import the necessary libraries and establish a session with your AWS account. You can do this using your AWS access key and secret access key.

```python
import boto3

session = boto3.Session(
    aws_access_key_id='YOUR_ACCESS_KEY',
    aws_secret_access_key='YOUR_SECRET_KEY',
    region_name='us-west-2'
)
```

3. Connect to the RDS service and retrieve all DocumentDB clusters: Now that you have a session, you can connect to the RDS service and retrieve all DocumentDB clusters. You can do this using the `describe_db_clusters` method.

```python
rds = session.client('rds')

response = rds.describe_db_clusters()

clusters = response['DBClusters']
```

4. Check if deletion protection is enabled: For each DocumentDB cluster, you can check if deletion protection is enabled by accessing the `DeletionProtection` attribute. If deletion protection is not enabled, you can print out a message or take other appropriate action.

```python
for cluster in clusters:
    if not cluster['DeletionProtection']:
        print(f"Deletion protection is not enabled for cluster {cluster['DBClusterIdentifier']}")
```

This script will print out a message for each DocumentDB cluster that does not have deletion protection enabled.

</Tab>

<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the misconfiguration of DocumentDB cluster not having deletion protection enabled in AWS RDS, you can follow these step-by-step instructions using the AWS Management Console:

1. **Sign in to the AWS Management Console**: Go to https://aws.amazon.com/ and sign in to your AWS account.

2. **Navigate to the Amazon DocumentDB Console**: Click on the "Services" dropdown menu at the top of the page, then select "DocumentDB" under the Database category.

3. **Select the DocumentDB Cluster**: In the DocumentDB dashboard, locate the DocumentDB cluster that you want to enable deletion protection for, and click on its name to access its details.

4. **Enable Deletion Protection**: In the cluster details page, click on the "Modify" button at the top right corner.

5. **Enable Deletion Protection Option**: Scroll down to the "Deletion protection" section in the Modify cluster settings page.

6. **Enable Deletion Protection**: Check the box next to "Enable deletion protection" to turn on deletion protection for the DocumentDB cluster.

7. **Save Changes**: Scroll down to the bottom of the page and click on the "Modify cluster" button to save the changes.

8. **Verify Deletion Protection**: Once the modification is completed, go back to the DocumentDB cluster details page and ensure that the deletion protection status is now enabled.

By following these steps, you have successfully enabled deletion protection for the DocumentDB cluster in AWS RDS using the AWS Management Console.

#### Using CLI

To remediate the misconfiguration of a DocumentDB cluster not having deletion protection enabled in AWS RDS using AWS CLI, follow these steps:

1. **Install and Configure AWS CLI:**
   If you haven't already, install the AWS CLI and configure it with the necessary credentials by running:
   ```
   aws configure
   ```
   Follow the prompts to input your AWS Access Key ID, Secret Access Key, default region, and default output format.

2. **Enable Deletion Protection for the DocumentDB Cluster:**
   Run the following AWS CLI command to enable deletion protection for your DocumentDB cluster:
   ```
   aws docdb modify-db-cluster --db-cluster-identifier YOUR_CLUSTER_IDENTIFIER --deletion-protection
   ```
   Replace `YOUR_CLUSTER_IDENTIFIER` with the actual identifier of your DocumentDB cluster.

3. **Verify the Deletion Protection Status:**
   To verify that deletion protection has been successfully enabled for your DocumentDB cluster, you can describe the cluster using the following command:
   ```
   aws docdb describe-db-clusters --db-cluster-identifier YOUR_CLUSTER_IDENTIFIER
   ```
   Ensure that the `DeletionProtection` attribute in the output is set to `true`.

By following these steps, you can successfully remediate the misconfiguration of a DocumentDB cluster not having deletion protection enabled in AWS RDS using AWS CLI.

#### Using Python

To remediate the misconfiguration of not having deletion protection enabled for an Amazon DocumentDB cluster in AWS using Python, you can use the AWS SDK for Python (boto3) to update the cluster configuration. Here are the step-by-step instructions:

1. Install the AWS SDK for Python (boto3) if you haven't already:
```bash
pip install boto3
```

2. Create a Python script with the following code to enable deletion protection for the DocumentDB cluster:

```python
import boto3

# Initialize the DocumentDB client
client = boto3.client('docdb')

# Specify the DocumentDB cluster identifier
cluster_identifier = 'your-cluster-identifier'

# Enable deletion protection for the DocumentDB cluster
response = client.modify_db_cluster(
    DBClusterIdentifier=cluster_identifier,
    DeletionProtection=True
)

# Print the response
print(response)
```

3. Replace `'your-cluster-identifier'` with the actual identifier of your DocumentDB cluster.

4. Run the Python script. This will enable deletion protection for the specified DocumentDB cluster.

After following these steps, deletion protection will be enabled for your Amazon DocumentDB cluster, preventing accidental deletion of the cluster.


</Tab>
</Tabs>