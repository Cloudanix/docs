

<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Sign in to the AWS Management Console and open the Amazon RDS console at https://console.aws.amazon.com/rds/.

2. In the navigation pane, choose "Databases".

3. Choose the name of the DB instance that you want to check.

4. In the "Details" section, look for the "Deletion protection" field. If the field is set to "Yes", then deletion protection is enabled. If the field is set to "No", then deletion protection is not enabled.

#### Using CLI

1. First, you need to install and configure AWS CLI on your local machine. You can download it from the official AWS website and configure it using the "aws configure" command. You will be prompted to provide your AWS Access Key ID, Secret Access Key, Default region name, and Default output format.

2. Once the AWS CLI is set up, you can list all the RDS instances in your account using the following command:

   ```
   aws rds describe-db-instances --query 'DBInstances[*].[DBInstanceIdentifier]' --output text
   ```

   This command will return a list of all RDS instance identifiers.

3. Now, for each RDS instance, you can check if deletion protection is enabled or not. Use the following command:

   ```
   aws rds describe-db-instances --db-instance-identifier <your-db-instance-identifier> --query 'DBInstances[*].[DeletionProtection]' --output text
   ```

   Replace `<your-db-instance-identifier>` with your actual RDS instance identifier. This command will return 'true' if deletion protection is enabled and 'false' if it is not.

4. Repeat step 3 for each RDS instance in your account. If any instance returns 'false', it means that instance deletion protection is not enabled for that instance.

#### Using Python

1. Import the necessary libraries: You will need the boto3 library, which allows Python developers to write software that makes use of services like Amazon S3, Amazon EC2, etc.

```python
import boto3
```

2. Create a session using your AWS credentials. You can also use the AWS CLI's default configuration.

```python
session = boto3.Session(
    aws_access_key_id='YOUR_ACCESS_KEY',
    aws_secret_access_key='YOUR_SECRET_KEY',
    region_name='us-west-2'
)
```

3. Create an RDS client using the session.

```python
rds = session.client('rds')
```

4. Now, you can use the `describe_db_instances` method to get a list of all DB instances. For each instance, check the `DeletionProtection` attribute. If it's set to `False`, then Instance Deletion Protection is not enabled.

```python
def check_deletion_protection():
    response = rds.describe_db_instances()
    for instance in response['DBInstances']:
        if not instance['DeletionProtection']:
            print(f"Instance {instance['DBInstanceIdentifier']} does not have deletion protection enabled")

check_deletion_protection()
```

This script will print out the identifiers of all instances that do not have deletion protection enabled.

</Tab>

<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the misconfiguration of "Instance Deletion Protection Should Be Enabled" for an AWS RDS instance using the AWS Management Console, follow these step-by-step instructions:

1. **Sign in to the AWS Management Console**: Go to https://aws.amazon.com/ and sign in to your AWS account.

2. **Navigate to the RDS Console**: Click on the "Services" dropdown menu at the top of the page, then select "RDS" under the Database category.

3. **Select the RDS Instance**: From the list of RDS instances, select the instance for which you want to enable deletion protection by clicking on its identifier.

4. **Enable Deletion Protection**:
   - In the RDS instance details page, click on the "Modify" button located in the top right corner.

   - Scroll down to the "Backup" section of the Modify DB Instance page.

   - Find the "Deletion protection" option and check the box next to it to enable deletion protection for the RDS instance.

5. **Apply Changes**: Scroll down to the bottom of the Modify DB Instance page and click on the "Continue" button.

6. **Review and Apply Changes**: Review the changes you are about to make, and if everything looks correct, click on the "Modify DB Instance" button to apply the changes.

7. **Verify Deletion Protection**: Once the modification is complete, go back to the list of RDS instances, select the instance you modified, and verify that deletion protection is enabled by checking the instance details.

By following these steps, you will successfully enable deletion protection for the AWS RDS instance, thereby remedying the misconfiguration of "Instance Deletion Protection Should Be Enabled".

#### Using CLI

To enable instance deletion protection for an AWS RDS instance using AWS CLI, follow these steps:

1. Open the AWS CLI and run the following command to enable deletion protection for the RDS instance:
   
```bash
aws rds modify-db-instance --db-instance-identifier your-db-instance-name --no-deletion-protection
```

Replace `your-db-instance-name` with the actual name of your RDS instance.

2. Verify that the deletion protection has been enabled for the RDS instance by running the following command:

```bash
aws rds describe-db-instances --db-instance-identifier your-db-instance-name --query 'DBInstances[*].[DBInstanceIdentifier,DeletionProtection]'
```

This command will return the information about the specified RDS instance, including the status of deletion protection.

By following these steps, you can successfully enable instance deletion protection for an AWS RDS instance using AWS CLI.

#### Using Python

To remediate the misconfiguration of Instance Deletion Protection not being enabled for an AWS RDS instance using Python, you can use the AWS SDK for Python (Boto3). Follow these steps:

1. Install Boto3: If you haven't already installed the Boto3 library, you can do so using pip:
   ```
   pip install boto3
   ```

2. Configure AWS Credentials: Make sure you have configured your AWS credentials either by setting environment variables or using the AWS CLI `aws configure` command.

3. Write Python script: Create a Python script with the following code to enable Instance Deletion Protection for an AWS RDS instance:

   ```python
   import boto3

   # Define the AWS region and the RDS instance identifier
   region = 'your_aws_region'
   rds_instance_identifier = 'your_rds_instance_identifier'

   # Create a RDS client
   rds_client = boto3.client('rds', region_name=region)

   # Enable Instance Deletion Protection for the RDS instance
   try:
       response = rds_client.modify_db_instance(
           DBInstanceIdentifier=rds_instance_identifier,
           DeletionProtection=True
       )
       print(f"Instance Deletion Protection enabled for RDS instance {rds_instance_identifier}")
   except Exception as e:
       print(f"Error enabling Instance Deletion Protection: {str(e)}")
   ```

4. Replace `your_aws_region` and `your_rds_instance_identifier` with the appropriate values for your AWS environment.

5. Run the Python script: Execute the Python script to enable Instance Deletion Protection for the specified AWS RDS instance.

By following these steps and running the Python script, you will be able to remediate the misconfiguration of Instance Deletion Protection not being enabled for an AWS RDS instance.


</Tab>
</Tabs>