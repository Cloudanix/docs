---
slug: rds_desired_instance_type
title: RDS Instance Should Be of Desired Type
sidebar_label: RDS Instance Should Be of Desired Type
---

### More Info:

It is recommended that RDS database instances use instance types from a limited set based on the database workload deployed.

### Risk Level

Medium

### Address

Operational Maturity, Reliability, Security

### Compliance Standards

CBP

### Remediation

#### Using Console

To remediate the misconfiguration "RDS Instance Should Be of Desired Type" in AWS using the AWS console, follow these steps:

1. Log in to the AWS Management Console.
2. Navigate to the Amazon RDS service.
3. Select the RDS instance that needs to be remediated.
4. Click on the "Modify" button to modify the instance.
5. In the "Modify DB Instance" page, select the desired instance type from the "DB Instance Class" dropdown list.
6. Review the other settings and make any necessary changes.
7. Click on the "Apply Immediately" checkbox to apply the changes immediately.
8. Click on the "Modify DB Instance" button to save the changes.

After these steps, the RDS instance will be of the desired type and the misconfiguration will be remediated.

#### Using CLI

To remediate the misconfiguration "RDS Instance Should Be of Desired Type" for AWS using AWS CLI, follow the below steps:

1. Identify the current RDS instance type using the following command:

```
aws rds describe-db-instances --db-instance-identifier <instance-name> --query "DBInstances[].DBInstanceClass" --output text
```

Replace `<instance-name>` with the name of the RDS instance.

2. Determine the desired RDS instance type based on the requirements.

3. Modify the RDS instance type using the following command:

```
aws rds modify-db-instance --db-instance-identifier <instance-name> --db-instance-class <desired-instance-type>
```

Replace `<instance-name>` with the name of the RDS instance and `<desired-instance-type>` with the desired RDS instance type.

4. Verify the RDS instance type using the following command:

```
aws rds describe-db-instances --db-instance-identifier <instance-name> --query "DBInstances[].DBInstanceClass" --output text
```

Replace `<instance-name>` with the name of the RDS instance.

5. The RDS instance should now be of the desired type.

#### Using Python

To remediate the misconfiguration "RDS Instance Should Be of Desired Type" in AWS using Python, you can follow these steps:

1. Identify the desired RDS instance type based on your application requirements.

2. Use the AWS SDK for Python (Boto3) to retrieve the current RDS instance type.

```python
import boto3

# Create an RDS client
rds = boto3.client('rds')

# Retrieve the current RDS instance type
response = rds.describe_db_instances(DBInstanceIdentifier='your-db-instance-name')
current_instance_type = response['DBInstances'][0]['DBInstanceClass']
```

3. Compare the current instance type with the desired instance type. If they are different, modify the RDS instance to the desired type using the modify_db_instance method.

```python
# Define the desired RDS instance type
desired_instance_type = 'db.t3.medium'

# Check if the current instance type is different from the desired type
if current_instance_type != desired_instance_type:
    # Modify the RDS instance to the desired type
    rds.modify_db_instance(DBInstanceIdentifier='your-db-instance-name', DBInstanceClass=desired_instance_type)
```

4. Verify that the RDS instance type has been successfully modified by checking the instance details.

```python
# Retrieve the modified RDS instance details
response = rds.describe_db_instances(DBInstanceIdentifier='your-db-instance-name')
modified_instance_type = response['DBInstances'][0]['DBInstanceClass']

# Check if the modified instance type matches the desired type
if modified_instance_type == desired_instance_type:
    print('RDS instance type has been successfully modified.')
else:
    print('Failed to modify RDS instance type.')
```

Note: Make sure to replace 'your-db-instance-name' with the actual name of your RDS instance.

### Additional Reading:

- [https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.DBInstance.html](https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Overview.DBInstance.html) 

