---
title: Use Customer-Managed Keys instead of AWS-managed Keys
---

### More Info:

Your RDS database instances should be using KMS CMK customer-managed keys rather than AWS managed-keys in order to have more granular control over your data-at-rest encryption/decryption process.

### Risk Level

High

### Address

Security

### Compliance Standards

SOC2, GDPR, NIST, CBP, CIS, HIPAA, ISO27001

### Remediation

How to use KMS CMK instead of AWS managed keys?

#### Using AWS Console

1. Create a CMK in AWS KMS:
   - Go to the AWS KMS console (https://console.aws.amazon.com/kms/).
   - Click on "Create key" to create a new CMK.
   - Choose the desired options for key creation, such as key type, key material origin, and key administrators.
   - Configure key permissions to specify which IAM roles or users can manage or use the key.
   - Note down the Amazon Resource Name (ARN) of the created CMK.
2. Modify the RDS instance to enable encryption:
     (In the Cloudanix Console, navigate to "Misconfig" page and look for Affected Assets for "Use Customer-Managed Keys instead of AWS-managed Keys" Policy.)
   - Go to the Amazon RDS console (https://console.aws.amazon.com/rds/).
   - Select the RDS instance that you want to encrypt.
   - Click on "Modify" to modify the instance settings.
   - Scroll down to the "Encryption" section and choose the option to "Enable encryption".
   - Select the CMK that you created in Step 1 from the dropdown list.
   - Optionally, you can choose to encrypt existing snapshots and enable enhanced monitoring if needed.
   - Click on "Continue" and review the summary of changes.
   - Click on "Modify DB Instance" to apply the encryption settings.
3. Monitor the encryption process:
   - Once the modification is initiated, the RDS instance will start the encryption process. Monitor the progress on the RDS console.
   - The encryption process may take some time depending on the size of the database. During this time, the instance may experience a brief downtime or performance impact.
4. Validate the encryption:
   - After the modification is complete, verify that the RDS instance is encrypted by checking the "Encryption" column in the RDS console. It should show "Encrypted" for the respective instance.
   - You can also check the AWS KMS console to confirm that the CMK is associated with the encrypted RDS instance.

### Additional Reading:

- [https://aws.amazon.com/blogs/database/securing-data-in-amazon-rds-using-aws-kms-encryption/](https://aws.amazon.com/blogs/database/securing-data-in-amazon-rds-using-aws-kms-encryption/)
