---
slug: ddb_table_backup_enabled
title: DynomDB Tables Should Have Continuous Backup Enabled
sidebar_label: DynomDB Tables Should Have Continuous Backup Enabled
---

### More Info:

DynamoDB table without backup can result in accidental data loss. Your AWS DynamoDB tables should make use of Point-in-time Recovery (PITR) feature in order to automatically take continuous backups of your DynamoDB data.

### Risk Level

Informational

### Address

Reliability, Security

### Compliance Standards

HIPAA, NIST, SOC2, ISO27001, HITRUST, AWSWAF, NISTCSF




<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Sign in to the AWS Management Console.
2. Navigate to the DynamoDB service by typing 'DynamoDB' into the search bar and selecting it from the dropdown menu.
3. In the navigation pane on the left, click on 'Tables'.
4. Select the table you want to check for continuous backup. 
5. In the 'Overview' tab, scroll down to the 'Backup' section. Here, you can see whether continuous backups are enabled or not. If 'Point-in-time recovery' is enabled, it means continuous backups are enabled. If it's not, then continuous backups are not enabled for that table.

#### Using CLI

1. Install and configure AWS CLI: Before you can start using AWS CLI, you need to install it on your local machine and configure it with your AWS account credentials. You can do this by running the following commands:

   Installation:
   ```
   pip install awscli
   ```
   Configuration:
   ```
   aws configure
   ```
   You will be prompted to provide your AWS Access Key ID, Secret Access Key, Default region name, and Default output format.

2. List DynamoDB tables: Use the AWS CLI to list all the DynamoDB tables in your account. You can do this by running the following command:
   ```
   aws dynamodb list-tables --region your-region
   ```
   Replace 'your-region' with the name of the AWS region where your DynamoDB tables are located.

3. Describe each table: For each table listed in the previous step, use the AWS CLI to describe the table and get its backup details. You can do this by running the following command for each table:
   ```
   aws dynamodb describe-continuous-backups --table-name your-table-name --region your-region
   ```
   Replace 'your-table-name' with the name of each DynamoDB table and 'your-region' with the name of the AWS region where your DynamoDB tables are located.

4. Check backup status: In the output of the previous command, look for the 'ContinuousBackupsDescription' field. If the 'ContinuousBackupsStatus' field under it is 'ENABLED', then continuous backup is enabled for the table. If not, then continuous backup is not enabled for the table.

#### Using Python

1. Install the necessary AWS SDK for Python (Boto3) if you haven't done so already. You can do this by running the command `pip install boto3` in your terminal.

2. Import the necessary libraries and establish a session with AWS using your access keys. Here's a sample script:

```python
import boto3

session = boto3.Session(
    aws_access_key_id='YOUR_ACCESS_KEY',
    aws_secret_access_key='YOUR_SECRET_KEY',
    region_name='us-west-2'
)
```

3. Now, create a DynamoDB resource object using the session object. Then, get a list of all the DynamoDB tables in your account.

```python
dynamodb = session.resource('dynamodb')
tables = dynamodb.list_tables()
```

4. For each table in the list, check if continuous backups are enabled. If continuous backups are not enabled, print the table name.

```python
for table_name in tables['TableNames']:
    table = dynamodb.Table(table_name)
    backup_details = table.continuous_backups_description
    if backup_details['ContinuousBackupsStatus'] != 'ENABLED':
        print(f"Continuous backup is not enabled for table: {table_name}")
```

This script will print the names of all DynamoDB tables that do not have continuous backups enabled.

</Tab>


<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the misconfiguration of DynamoDB tables not having continuous backup enabled in AWS using the AWS Management Console, follow these steps:

1. **Login to AWS Console**: Go to the AWS Management Console (https://aws.amazon.com/) and log in to your account.

2. **Navigate to DynamoDB**: Click on the "Services" dropdown menu at the top of the page, then select "DynamoDB" under the "Database" section.

3. **Select the Table**: From the DynamoDB dashboard, select the table for which you want to enable continuous backups by clicking on its name.

4. **Go to Backup Tab**: In the table details page, click on the "Backup" tab located in the top menu.

5. **Enable Continuous Backup**: In the "Backup" tab, you will see an option to enable continuous backups. Click on the "Edit" button next to "Continuous Backups" to modify the settings.

6. **Enable Backup**: In the "Edit continuous backups" window, enable the "On" option to turn on continuous backups for the selected table. You can also set the backup retention period as per your requirement.

7. **Save Changes**: After enabling continuous backups and setting the retention period, click on the "Save changes" button to apply the configuration.

8. **Verification**: Once saved, you should see a message confirming that continuous backups have been enabled for the DynamoDB table.

By following these steps, you have successfully remediated the misconfiguration of DynamoDB tables not having continuous backups enabled in AWS using the AWS Management Console.

#### Using CLI

To remediate the misconfiguration of not having continuous backup enabled for an AWS DynamoDB table using AWS CLI, you can follow these steps:

1. List all the DynamoDB tables to identify the table that needs to have continuous backup enabled:
```bash
aws dynamodb list-tables
```

2. Enable continuous backups for the identified DynamoDB table using the following command:
```bash
aws dynamodb update-continuous-backups --table-name YOUR_TABLE_NAME --point-in-time-recovery-specification PointInTimeRecoveryEnabled=true
```
Replace `YOUR_TABLE_NAME` with the name of the DynamoDB table for which you want to enable continuous backups.

3. Verify that continuous backups have been enabled for the table by describing the table:
```bash
aws dynamodb describe-continuous-backups --table-name YOUR_TABLE_NAME
```
Make sure that the `PointInTimeRecoverySpecification` shows `PointInTimeRecoveryEnabled: true` for the table.

By following these steps, you can successfully remediate the misconfiguration of not having continuous backup enabled for an AWS DynamoDB table using AWS CLI.

#### Using Python

To remediate the misconfiguration of not having continuous backup enabled for AWS DynamoDB tables using Python, you can follow these steps:

1. Install the AWS SDK for Python (Boto3) if you haven't already. You can install it using pip:
   ```
   pip install boto3
   ```

2. Use the following Python script to enable continuous backups for a DynamoDB table:

```python
import boto3

# Initialize the DynamoDB client
dynamodb = boto3.client('dynamodb')

# Specify the name of the DynamoDB table for which you want to enable continuous backups
table_name = 'YOUR_TABLE_NAME'

# Enable continuous backups for the specified DynamoDB table
response = dynamodb.update_continuous_backups(
    TableName=table_name,
    PointInTimeRecoverySpecification={
        'PointInTimeRecoveryEnabled': True
    }
)

# Print the response
print(response)
```

3. Replace `'YOUR_TABLE_NAME'` with the actual name of the DynamoDB table for which you want to enable continuous backups.

4. Run the Python script. It will enable continuous backups for the specified DynamoDB table.

After following these steps, continuous backups will be enabled for the specified DynamoDB table, thereby remediating the misconfiguration.

### Additional Reading:

- [https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/PointInTimeRecovery.html](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/PointInTimeRecovery.html) 


</Tab>
</Tabs>