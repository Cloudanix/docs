### Remediation

How to ensure firehose delivery stream destination is encrypted?

#### Using AWS Console

1. Open the AWS Management Console and navigate to the Amazon Kinesis Data Firehose service.
2. From the Firehose dashboard, select the delivery stream for which you want to enable encryption.
    (In the Cloudanix Console, navigate to "Misconfig" page and look for Affected Assets for "Firehose Delivery Stream Destination Encryption" Policy.)
3. Click on the "Edit" button to modify the delivery stream settings.
4. In the "Destination" section, select the desired destination (such as Amazon S3, Amazon Redshift, or Amazon Elasticsearch Service).
5. Within the destination configuration, ensure that you have enabled encryption.
   - For Amazon S3 destination:
     - Select the S3 bucket and prefix for the data delivery.
     - Under "S3 encryption," choose the encryption option. You can select "Server-side encryption (SSE-S3)" or "Server-side encryption with AWS KMS keys (SSE-KMS)." If you choose SSE-KMS, you can specify the KMS key to be used for encryption.
   - For Amazon Redshift destination:
     - Provide the Redshift cluster information.
     - Under "Data transformation and encryption," enable "Data encryption." You can select "Server-side encryption with AWS managed keys (SSE-S3)" or "Server-side encryption with AWS Key Management Service (SSE-KMS)." If you choose SSE-KMS, you can specify the KMS key to be used.
   - For Amazon Elasticsearch Service destination:
     - Provide the Elasticsearch cluster information.
     - Under "Data transformation and encryption," enable "Data encryption." You can select "Server-side encryption with AWS Key Management Service (SSE-KMS)" and specify the KMS key.
6. Review and save the changes to the delivery stream configuration.

