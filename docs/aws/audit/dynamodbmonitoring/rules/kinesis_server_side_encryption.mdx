---
slug: kinesis_server_side_encryption
title: Kinesis Server Side Encryption
sidebar_label: Kinesis Server Side Encryption
---

### More Info:

Ensure that your AWS Kinesis streams are encrypted using Server-Side Encryption (SSE) in order to meet strict regulatory requirements and improve the security of your data at rest. Kinesis is a platform for streaming data on Amazon Web Services that provides you with the ability to build and manage your own custom streaming data applications for specialized needs. A Kinesis stream is an ordered sequence of data records collected within a dedicated storage layer. With SSE your sensitive data is encrypted before this is written to the Kinesis stream storage layer and decrypted after itâ€™s retrieved from storage.

### Risk Level

High

### Address

Cost optimization, Operational Maturity, Security

### Compliance Standards

HIPAA, ISO27001

### Remediation

#### Using Console

To remediate the misconfiguration of Kinesis Server Side Encryption in AWS using the AWS console, you can follow these steps:

1. Log in to the AWS Management Console.
2. Navigate to the Kinesis service.
3. Select the Kinesis stream that you want to remediate.
4. Click on the "Encryption" tab in the "Stream Details" section.
5. If encryption is not enabled, click on the "Enable" button.
6. Select the KMS key that you want to use for encryption.
7. Click on "Save" to enable encryption for the Kinesis stream.

Once you have completed these steps, Kinesis Server Side Encryption will be enabled for the selected Kinesis stream in AWS.

#### Using CLI

To remediate the misconfiguration related to Kinesis Server Side Encryption in AWS using AWS CLI, please follow the below steps:

1. Open the AWS CLI and run the following command to disable server-side encryption for the Kinesis stream:

```
aws kinesis disable-stream-enhanced-monitoring --stream-name <stream-name> --shard-level-metrics ALL
```

2. Next, run the following command to enable server-side encryption for the Kinesis stream:

```
aws kinesis enable-stream-enhanced-monitoring --stream-name <stream-name> --shard-level-metrics ALL --encryption-type KMS --key-id <KMS-key-id>
```

Note: Replace `<stream-name>` with the name of the Kinesis stream that you want to remediate and `<KMS-key-id>` with the ID of the KMS key that you want to use for encryption.

3. After running the above command, the Kinesis stream will be encrypted using the specified KMS key and the misconfiguration related to Kinesis Server Side Encryption will be remediated.

4. Finally, verify the remediation by running the following command to describe the Kinesis stream:

```
aws kinesis describe-stream --stream-name <stream-name>
```

This command should return the details of the Kinesis stream, including the encryption type used for the stream.

#### Using Python

To remediate the Kinesis Server Side Encryption misconfiguration in AWS using Python, follow these steps:

1. Open the AWS Management Console and navigate to the Kinesis service.
2. Select the stream that you want to remediate.
3. In the Encryption section, make sure that the Server-side encryption (SSE) option is enabled.
4. If SSE is not enabled, enable it by selecting the appropriate KMS key.
5. Once SSE is enabled, you can use the AWS SDK for Python (Boto3) to automate the remediation process.
6. Install the Boto3 library using pip: `pip install boto3`
7. Create a Python script that will use Boto3 to enable SSE for your Kinesis stream. Here's an example:

```python
import boto3

# Replace with your AWS access key ID and secret access key
aws_access_key_id = 'YOUR_ACCESS_KEY_ID'
aws_secret_access_key = 'YOUR_SECRET_ACCESS_KEY'

# Replace with the name of your Kinesis stream
stream_name = 'YOUR_STREAM_NAME'

# Create a Kinesis client
client = boto3.client('kinesis', aws_access_key_id=aws_access_key_id, aws_secret_access_key=aws_secret_access_key)

# Enable SSE for the stream
response = client.start_stream_encryption(StreamName=stream_name)

# Print the response
print(response)
```

8. Run the Python script to enable SSE for your Kinesis stream.

Note: Make sure that you have the necessary permissions to enable SSE for your Kinesis stream.

### Additional Reading:

- [https://docs.aws.amazon.com/streams/latest/dev/server-side-encryption.html](https://docs.aws.amazon.com/streams/latest/dev/server-side-encryption.html) 

