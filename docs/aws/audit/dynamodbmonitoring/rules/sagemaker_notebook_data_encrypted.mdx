---
slug: sagemaker_notebook_data_encrypted
title: Notebook Data Encrypted
sidebar_label: Notebook Data Encrypted
---

### More Info:

Ensure that the data stored on Machine Learning (ML) storage volumes attached to your AWS SageMaker notebook instances is encrypted in order to meet regulatory requirements and protect your SageMaker data at rest. SageMaker is a fully-managed AWS service that enables developers and data engineers to quickly and easily build, train and deploy machine learning models at any scale. An AWS SageMaker notebook instance is a fully managed ML instance that is running the Jupyter Notebook open-source web application.

### Risk Level

High

### Address

Cost optimization, Operational Maturity, Security

### Compliance Standards

HIPAA, GDPR, CISAWS, CBP, NIST

### Triage and Remediation
<Tabs>

<Tab title='Cause'>
### Check Cause
<AccordionGroup>
<Accordion title='Using Console' defaultOpen='true'>
1. Sign in to the AWS Management Console.
2. Navigate to the DynamoDB service by typing 'DynamoDB' in the search bar and selecting it from the dropdown menu.
3. In the navigation pane on the left, click on 'Tables'.
4. Select the name of the table you want to check for encryption.
5. In the 'Overview' tab, scroll down to the 'Table details' section. Here, you can see the 'Encryption' field. If it says 'Enabled', then the data in the DynamoDB table is encrypted. If it says 'Disabled', then the data is not encrypted.
</Accordion>

<Accordion title='Using CLI'>
1. **Install and Configure AWS CLI**: Before you can start using AWS CLI, you need to install it on your local machine. You can download it from the official AWS website. After installation, you need to configure it with your AWS account credentials. You can do this by running the command `aws configure` and then entering your AWS Access Key ID, Secret Access Key, Default region name, and Default output format when prompted.

2. **List all DynamoDB Tables**: Use the AWS CLI command `aws dynamodb list-tables --region your-region-name` to list all the DynamoDB tables in your specified AWS region. Replace 'your-region-name' with the name of your AWS region.

3. **Describe DynamoDB Table**: For each table listed in the previous step, use the AWS CLI command `aws dynamodb describe-table --table-name your-table-name --region your-region-name` to get the details of each table. Replace 'your-table-name' with the name of your DynamoDB table and 'your-region-name' with the name of your AWS region.

4. **Check SSEDescription Status**: In the output of the describe-table command, look for the 'SSEDescription' field. If the 'Status' field under 'SSEDescription' is 'ENABLED', it means that the data at rest in the DynamoDB table is encrypted. If the 'Status' field is not present or is not set to 'ENABLED', it means that the data at rest in the DynamoDB table is not encrypted.
</Accordion>

<Accordion title='Using Python'>
1. Install and configure AWS SDK for Python (Boto3):
   You need to install and configure AWS SDK for Python (Boto3) to interact with AWS services. You can install it using pip:
   ```
   pip install boto3
   ```
   Then, configure your AWS credentials either by setting environment variables `AWS_ACCESS_KEY_ID`, `AWS_SECRET_ACCESS_KEY` and `AWS_SESSION_TOKEN` (optional), or by using the AWS CLI command `aws configure`.

2. Import the necessary libraries and create a DynamoDB resource object:
   You need to import Boto3 and create a DynamoDB resource object to interact with DynamoDB.
   ```python
   import boto3

   dynamodb = boto3.resource('dynamodb')
   ```

3. Get the table description:
   You can get the description of the DynamoDB table, which includes information about the encryption settings, by using the `describe_table` method.
   ```python
   table = dynamodb.Table('your_table_name')
   response = table.meta.client.describe_table(TableName='your_table_name')
   ```

4. Check the encryption status:
   The `SSEDescription` field in the response contains information about the server-side encryption status. You can check if the `Status` field is `ENABLED` and the `SSEType` field is `KMS` to ensure that the data is encrypted.
   ```python
   encryption_status = response['Table']['SSEDescription']['Status']
   encryption_type = response['Table']['SSEDescription']['SSEType']

   if encryption_status == 'ENABLED' and encryption_type == 'KMS':
       print("Data is encrypted.")
   else:
       print("Data is not encrypted.")
   ```
   This script will print "Data is encrypted." if the data in the DynamoDB table is encrypted, and "Data is not encrypted." otherwise.
</Accordion>

</AccordionGroup>
</Tab>

<Tab title='Remediation'>
Sagemaker Notebook data is by default encrypted with AWS CMK
[Reference Link](https://docs.aws.amazon.com/sagemaker/latest/dg/encryption-at-rest.html)
</Tab>
</Tabs>

