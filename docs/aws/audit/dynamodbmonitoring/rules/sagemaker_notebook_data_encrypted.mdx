---
slug: sagemaker_notebook_data_encrypted
title: Notebook Data Encrypted
sidebar_label: Notebook Data Encrypted
---

### More Info:

Ensure that the data stored on Machine Learning (ML) storage volumes attached to your AWS SageMaker notebook instances is encrypted in order to meet regulatory requirements and protect your SageMaker data at rest. SageMaker is a fully-managed AWS service that enables developers and data engineers to quickly and easily build, train and deploy machine learning models at any scale. An AWS SageMaker notebook instance is a fully managed ML instance that is running the Jupyter Notebook open-source web application.

### Risk Level

High

### Address

Cost optimization, Operational Maturity, Security

### Compliance Standards

HIPAA, GDPR, CISAWS, CBP, NIST



<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Sign in to the AWS Management Console and open the Amazon DynamoDB console at https://console.aws.amazon.com/dynamodb/.

2. In the navigation pane on the left side, choose "Tables".

3. In the list of DynamoDB tables, select the table you want to check.

4. After selecting the table, click on the "Overview" tab. 

5. Under the "Table details" section, look for the "SSE description" field. If the "SSE description" field is set to "AWS owned key", it means that the data at rest within the selected Amazon DynamoDB table is not encrypted using AWS KMS CMKs (Customer Master Keys), hence the data is not encrypted according to your organization's specific encryption requirements.

#### Using CLI

1. **Install and Configure AWS CLI**: Before you can start using AWS CLI, you need to install it on your local system. You can download it from the official AWS website. After installation, you need to configure it with your AWS account credentials. You can do this by running the command `aws configure` and then entering your Access Key ID, Secret Access Key, Default region name, and Default output format when prompted.

2. **List DynamoDB Tables**: After configuring AWS CLI, you can list all your DynamoDB tables by running the command `aws dynamodb list-tables`. This command will return a list of all the DynamoDB tables associated with your AWS account.

3. **Describe DynamoDB Table**: To check if a specific DynamoDB table has Notebook Data encrypted, you need to describe the table using the command `aws dynamodb describe-table --table-name YourTableName`. Replace "YourTableName" with the name of your DynamoDB table. This command will return a JSON object that describes the properties of the DynamoDB table.

4. **Check SSEDescription Status**: In the JSON object returned by the describe-table command, look for the "SSEDescription" field. This field describes the server-side encryption status of the DynamoDB table. If the "Status" field under "SSEDescription" is "ENABLED", it means that the Notebook Data in the DynamoDB table is encrypted. If the "Status" field is "DISABLED" or "UPDATING", it means that the Notebook Data is not encrypted or the encryption status is being updated, respectively.

#### Using Python

To check if Notebook Data is encrypted in DynamoDB using Python scripts, you can use the AWS SDK for Python (Boto3). Here are the steps:

1. **Set up AWS SDK for Python (Boto3):**
   First, you need to install and configure Boto3. You can install it using pip:

   ```
   pip install boto3
   ```

   Then, configure your AWS credentials. You can do this by setting the following environment variables:

   ```
   AWS_ACCESS_KEY_ID = 'your_access_key'
   AWS_SECRET_ACCESS_KEY = 'your_secret_key'
   ```

2. **Create a DynamoDB client:**
   Use Boto3 to create a DynamoDB client. This client will allow you to interact with your DynamoDB resources.

   ```python
   import boto3

   dynamodb = boto3.client('dynamodb')
   ```

3. **List all DynamoDB tables:**
   Use the `list_tables` method to get a list of all your DynamoDB tables.

   ```python
   response = dynamodb.list_tables()
   table_names = response['TableNames']
   ```

4. **Check if Notebook Data is encrypted:**
   For each table, use the `describe_table` method to get information about the table, including whether or not it's encrypted. If the `SSEDescription` field is present and its `Status` is 'ENABLED', then the table is encrypted.

   ```python
   for table_name in table_names:
       response = dynamodb.describe_table(TableName=table_name)
       if 'SSEDescription' in response['Table']:
           if response['Table']['SSEDescription']['Status'] == 'ENABLED':
               print(f'Table {table_name} is encrypted.')
           else:
               print(f'Table {table_name} is not encrypted.')
       else:
           print(f'Table {table_name} does not have SSE enabled.')
   ```

This script will print out whether each of your DynamoDB tables is encrypted or not.

</Tab>


<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the misconfiguration of "Notebook Data Encrypted" for AWS DynamoDB using the AWS console, follow these step-by-step instructions:

1. **Login to AWS Console**: Go to the AWS Management Console (https://aws.amazon.com/console/) and log in with your credentials.

2. **Navigate to DynamoDB**: From the AWS Management Console, search for "DynamoDB" in the services search bar and click on the DynamoDB service to open it.

3. **Select the Table**: In the DynamoDB dashboard, select the table that contains the notebook data that needs to be encrypted.

4. **Enable Server-Side Encryption**: Click on the "Manage" tab in the table details page, then click on the "Advanced settings" tab.

5. **Enable Encryption**: Scroll down to the "Encryption at rest" section and click on the "Edit" button.

6. **Choose Encryption Type**: In the encryption settings, select the option for "Enable encryption at rest" and choose the encryption type you prefer (e.g., AWS managed CMK or Customer managed CMK).

7. **Save Changes**: After selecting the encryption type, click on the "Save" button to apply the encryption settings to the DynamoDB table.

8. **Monitor Encryption Status**: Once the encryption settings are saved, monitor the DynamoDB table to ensure that the encryption is successfully applied to the notebook data.

By following these steps, you can remediate the misconfiguration of "Notebook Data Encrypted" for AWS DynamoDB using the AWS console and ensure that your data is encrypted at rest for improved security.

#### Using CLI

To remediate the misconfiguration of notebook data being encrypted in AWS DynamoDB using AWS CLI, follow these steps:

1. **Enable Encryption at Rest for DynamoDB Tables**:
   - Run the following AWS CLI command to enable encryption at rest for the DynamoDB table:
     ```
     aws dynamodb update-table \
     --table-name YOUR_TABLE_NAME \
     --sse-specification Enabled=true \
     --endpoint-url YOUR_DYNAMODB_ENDPOINT_URL
     ```
   - Replace `YOUR_TABLE_NAME` with the name of your DynamoDB table.
   - Replace `YOUR_DYNAMODB_ENDPOINT_URL` with the endpoint URL of your DynamoDB table.

2. **Verify Encryption at Rest**:
   - To verify that encryption at rest is enabled for the DynamoDB table, describe the table using the following command:
     ```
     aws dynamodb describe-table \
     --table-name YOUR_TABLE_NAME \
     --endpoint-url YOUR_DYNAMODB_ENDPOINT_URL
     ```
   - Ensure that the `SSEDescription` field shows encryption is enabled.

3. **Update IAM Policy** (Optional):
   - If needed, update the IAM policy associated with the DynamoDB table to ensure that only authorized users and services have access to the data.

By following these steps, you can remediate the misconfiguration of notebook data being encrypted in AWS DynamoDB using AWS CLI.

#### Using Python

To remediate the misconfiguration of "Notebook Data Encrypted" for AWS DynamoDB using Python, you can follow these steps:

1. Enable Encryption at Rest for DynamoDB Tables:
   - Use the AWS SDK for Python (Boto3) to update the DynamoDB table to enable encryption at rest.
   - Ensure that you have the necessary permissions (e.g., `dynamodb:UpdateTable`) to make changes to the DynamoDB table.

2. Install Boto3:
   - If you haven't already installed the Boto3 library, you can install it using pip:
     ```
     pip install boto3
     ```

3. Update the DynamoDB Table Encryption Configuration:
   - Use the following Python script to update the encryption settings for the DynamoDB table. Replace `table_name` with the name of your DynamoDB table.
   
     ```python
     import boto3

     # Initialize the DynamoDB client
     dynamodb_client = boto3.client('dynamodb')

     # Specify the name of the DynamoDB table to update
     table_name = 'YOUR_TABLE_NAME'

     # Enable encryption at rest for the DynamoDB table
     response = dynamodb_client.update_table(
         TableName=table_name,
         SSESpecification={
             'Enabled': True
         }
     )

     print(f"Encryption at rest enabled for DynamoDB table: {table_name}")
     ```

4. Run the Python Script:
   - Save the above Python script in a file (e.g., `enable_dynamodb_encryption.py`) and run it using the Python interpreter.
     ```
     python enable_dynamodb_encryption.py
     ```

5. Verify Encryption Configuration:
   - After running the script, verify that encryption at rest is enabled for the specified DynamoDB table by checking the table settings in the AWS Management Console or using the AWS CLI.

By following these steps, you can remediate the misconfiguration of "Notebook Data Encrypted" for AWS DynamoDB by enabling encryption at rest for the DynamoDB table using Python and the Boto3 SDK.

### Additional Reading:

- [https://docs.aws.amazon.com/sagemaker/latest/dg/encryption-at-rest.html](https://docs.aws.amazon.com/sagemaker/latest/dg/encryption-at-rest.html) 


</Tab>
</Tabs>