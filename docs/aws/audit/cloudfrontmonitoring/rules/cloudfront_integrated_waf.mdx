---
slug: cloudfront_integrated_waf
title: CloudFront Should Be Integrated With AWS WAF
sidebar_label: CloudFront Should Be Integrated With AWS WAF
---

### More Info:

All your AWS CloudFront web distributions should be integrated with the Web Application Firewall (AWS WAF) service to protect against application-layer attacks

### Risk Level

Low

### Address

Security

### Compliance Standards

SOC2, GDPR, NISTCSF, PCIDSS

### Remediation

How to integrate Cloudfront with WAF?

#### Using AWS Console

1. Set up AWS WAF:
   - Access the AWS WAF console.
   - Create and configure the necessary WAF rules and conditions to define your desired security policies.
   - Ensure that you have the necessary AWS WAF resources, such as web ACLs and rule sets, configured.
2. Access the Amazon CloudFront Console:
   - Sign in to the AWS Management Console.
   - Navigate to the CloudFront service.
3. Select the Distribution:
   - Choose the CloudFront distribution to which you want to integrate AWS WAF.
     (In the Cloudanix Console, navigate to "Misconfig" page and look for Affected Assets for "CloudFront Should Be Integrated With AWS WAF" Policy.)
4. Edit the Distribution Settings:
   - In the distribution details page, click on the "Behaviors" tab.
   - Select the behavior for which you want to enable WAF integration.
5. Configure WAF Integration:
   - Under the selected behavior, locate the "Web Application Firewall (WAF)" section.
   - Choose the "Yes" option for "Enable Web Application Firewall (WAF)."
   - Select the appropriate WebACL from the drop-down list.
6. Choose WAF Rule Action:
   - Specify the action that CloudFront should take when a request matches the WAF rules:
     - Allow: CloudFront forwards the request to the origin server.
     - Block: CloudFront returns an HTTP 403 Forbidden response to the viewer.
     - Count: CloudFront allows the request but increments the count of matching requests in WAF metrics.
7. Save the Configuration:
   - Click on the "Yes, Edit" button to save the configuration changes.
8. Invalidate or Wait for Cache Invalidation (Optional):
   - If you have existing content cached in CloudFront, you may need to invalidate the cache or wait for the cache to expire for the WAF integration changes to take effect.
   - To invalidate the cache, go to the "Invalidations" tab in the CloudFront distribution and create a new invalidation for the necessary files or directories.

### Additional Reading:

- [https://docs.aws.amazon.com/waf/latest/developerguide/cloudfront-features.html](https://docs.aws.amazon.com/waf/latest/developerguide/cloudfront-features.html) 

