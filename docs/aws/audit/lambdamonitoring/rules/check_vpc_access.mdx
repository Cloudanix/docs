---
slug: check_vpc_access
title: Lambda Should Have Access To VPC-only Resources
sidebar_label: Lambda Should Have Access To VPC-only Resources
---

### More Info:

Your Amazon Lambda functions should have access to VPC-only resources such as AWS Redshift data warehouses, AWS ElastiCache clusters, AWS RDS database instances, and service endpoints that are only accessible from within a particular Virtual Private Cloud (VPC).

### Risk Level

Medium

### Address

Security

### Compliance Standards

HIPAA, SOC2, NISTCSF, PCIDSS

### Remediation

How to ensure that AWS Lambda has access to VPC-only resources?

#### Using AWS Console

To ensure that AWS Lambda functions have access to VPC-only resources, you can follow these steps:

1. Create a VPC: Create a Virtual Private Cloud (VPC) in your AWS account if you haven't already done so. Configure the VPC with the desired subnets, route tables, and network settings.

2. Create Security Groups: Create or configure the necessary security groups to control the inbound and outbound traffic for the Lambda function and the resources it needs to access within the VPC.

3. Create or Update Lambda Function: Create a new Lambda function or update an existing function to be configured within the VPC.

   - Create a new Lambda function:
     When creating the function using the AWS Management Console or CLI, specify the desired VPC and subnets in the function's configuration.

   - Update an existing Lambda function:
     If you have an existing Lambda function, you can update its configuration to add or modify the VPC settings. Use the AWS Management Console, AWS CLI, or AWS SDKs to update the function's configuration and associate it with the desired VPC and subnets.

4. Configure Security Group Rules: Ensure that the security groups associated with the Lambda function allow the necessary inbound and outbound traffic to access the VPC-only resources.

   - Inbound Rules: Configure inbound security group rules to allow the required inbound traffic from other resources within the VPC or external resources, depending on your specific use case.

   - Outbound Rules: Configure outbound security group rules to allow the Lambda function to communicate with the necessary resources within the VPC or external resources, depending on your specific use case.

5. Test and Verify Access: Test the Lambda function to ensure it can access the VPC-only resources as expected. You can monitor the function's execution and log outputs to verify connectivity and access to the desired resources within the VPC.

By following these steps, you can ensure that AWS Lambda functions have access to VPC-only resources, allowing them to interact securely with resources within your VPC.

### Additional Reading:

- [https://docs.aws.amazon.com/lambda/latest/dg/configuration-vpc.html](https://docs.aws.amazon.com/lambda/latest/dg/configuration-vpc.html) 

