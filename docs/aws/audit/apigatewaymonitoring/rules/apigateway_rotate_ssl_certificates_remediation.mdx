### Remediation

How to rotate an SSL client certificate that is about to expire?

#### Using AWS Console

- Step 1: In the left navigation panel, select APIs to access the APIs listing.

- Step 2: Choose the API that you want to examine, then click on its link to access the API details. In the left navigation panel, select Client Certificates.

- Step 3: Click Generate Client Certificate from the dashboard top menu to create a new SSL client certificate. Once the certificate is created, click Edit and provide a descriptive title in the Description box, then click Save to apply the changes.

- Step 4: Update the backend server or service to include the new SSL certificate. Do not remove the existing client certificate yet from the server/service configuration.

- Step 5: In the navigation panel, select APIs to open the APIs listing page. Choose the API that you want to reconfigure, then click on its link to access the API configuration.

- Step 6: Within the API submenu, click Stages to list the stages available for the selected API.

- Step 7: Under Stages, choose the API stage that you want to reconfigure and select the Settings tab to access the selected stage configuration settings.

- Step 8: In the Client Certificate section, select the ID of the client-side SSL certificate created at step no. 4 from the Certificate dropdown list, then click Save Changes to apply the changes.

- Step 9: Update the backend server/service to remove the old SSL certificate (i.e. the one that is about to expire).

- Step 10: Now that the new client-side SSL certificate is active at the API stage level and backend server/service level, delete the old certificate from the Amazon API Gateway service dashboard:
  A: Go back to the console navigation panel and select Client Certificates.
  B: Choose the SSL certificate that is about to expire and click Delete Client Certificate (i.e. x button) to initiate the removal process.
  C: Within the Delete Client Certificate dialog box, click Delete certificate-id to remove the selected client certificate from the API Gateway service.
