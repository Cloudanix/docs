### Remediation

How to encrypt EC2 AMIs?

#### Using AWS Console

1. Log in to the AWS Management Console using your AWS account credentials.
2. Navigate to the EC2 service by selecting "EC2" from the services menu.
3. In the EC2 dashboard, click on "AMIs" in the left navigation pane.
    (In the Cloudanix Console, navigate to "Misconfig" page and look for Affected Assets for "EC2 AMIs Should Be Encrypted" Policy.)
4. Identify the AMIs that are not encrypted.
5. Take note of the specific AMI identifier(s) that need remediation.
6. Launch a new EC2 instance using the unencrypted AMI that needs to be remediated.
   - Ensure that the new instance is launched in the same region as the unencrypted AMI.
7. Connect to the newly launched instance using SSH or Remote Desktop Protocol (RDP), depending on the instance's operating system.
8. Once connected to the instance, install the necessary encryption tools based on the operating system.
   - For Linux-based instances, you can use tools like LUKS or dm-crypt.
   - For Windows-based instances, you can use BitLocker.
9. Use the encryption tool to encrypt the root volume or any other attached volumes on the instance.
10. Once the encryption process is complete, create an AMI from the encrypted instance.
   - In the EC2 dashboard, right-click on the encrypted instance and select "Create Image (EBS AMI)".
   - Configure the necessary details for the new AMI, including a name and description.
11. Monitor the AMI creation process to ensure it is successfully completed.
12. Once the new encrypted AMI is created, validate that it is encrypted by checking the AMI details.
13. Test the newly created encrypted AMI by launching instances from it and verifying functionality.
14. Once you have confirmed the functionality of the encrypted AMI, delete the unencrypted AMI(s) from the EC2 dashboard.
   - Select the unencrypted AMI(s) and click on the "Actions" button, then choose "Deregister".
   - Confirm the deregistration of the unencrypted AMI(s).

