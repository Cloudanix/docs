---
slug: sg_has_description
title: Security Groups Should Have Descriptions
sidebar_label: Security Groups Should Have Descriptions
---

### More Info:

Your security groups should have descriptions associated with them to help you run your operations smoothly. It serves as a documentation and guidance in future.

### Risk Level

Informational

### Address

Operational Maturity

### Compliance Standards

CBP




<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Log in to the AWS Management Console and navigate to the EC2 dashboard.
2. In the navigation pane, under the "Network & Security" section, click on "Security Groups".
3. In the "Security Groups" page, you will see a list of all the security groups associated with your AWS account. 
4. Check the "Description" column for each security group. If the description field is empty or not meaningful, it indicates that the security group does not have a proper description, which is a misconfiguration.

#### Using CLI

1. Install and configure AWS CLI: Before you can start using AWS CLI, you need to install it on your local machine. You can download it from the official AWS website. After installation, you need to configure it with your AWS account credentials. You can do this by running the command `aws configure` and then entering your Access Key ID, Secret Access Key, Default region name, and Default output format when prompted.

2. List all Security Groups: Use the following command to list all the security groups in your AWS account:

   ```
   aws ec2 describe-security-groups --query 'SecurityGroups[*].[GroupId,GroupName,Description]' --output text
   ```
   This command will return a list of all security groups along with their Group ID, Group Name, and Description.

3. Check for missing descriptions: The output from the previous command will show the description for each security group. If the description field is empty, then the security group does not have a description.

4. Automate the process: If you have a large number of security groups, it might be more efficient to automate the process of checking for missing descriptions. You can do this by writing a Python script that uses the Boto3 library to interact with the AWS API. The script would use the `describe_security_groups` function to get a list of all security groups, and then check the 'Description' field for each one. If the 'Description' field is empty, the script would print out the Group ID and Group Name of the security group.

#### Using Python

1. First, you need to install the AWS SDK for Python (Boto3) if you haven't done so already. You can install it using pip:

```python
pip install boto3
```

2. Import the necessary modules and create a session using your AWS credentials:

```python
import boto3

session = boto3.Session(
    aws_access_key_id='YOUR_ACCESS_KEY',
    aws_secret_access_key='YOUR_SECRET_KEY',
    region_name='us-west-2'
)
```

3. Now, create an EC2 resource object using the session:

```python
ec2_resource = session.resource('ec2')
```

4. Now, you can iterate over all security groups and check if they have descriptions. If a security group doesn't have a description, print its ID:

```python
for security_group in ec2_resource.security_groups.all():
    if not security_group.description:
        print(f"Security Group {security_group.id} doesn't have a description.")
```

This script will print the IDs of all security groups that don't have descriptions. You can modify it to suit your needs, for example, by adding more checks or by taking some action when a misconfiguration is detected.

</Tab>


<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the misconfiguration of security groups not having descriptions in AWS, you can follow the below steps:

1. Log in to the AWS Management Console.
2. Navigate to the EC2 service.
3. Click on the “Security Groups” option from the left-hand menu.
4. Identify the security group(s) that do not have descriptions.
5. Click on the checkbox next to the security group(s) to select it.
6. Click on the “Actions” dropdown menu and select “Edit description”.
7. Enter a meaningful description for the security group.
8. Click on the “Save” button to save the description.

Repeat the above steps for all the security groups that do not have descriptions. It is recommended to have a clear and concise description for each security group, which can help in identifying the purpose of the security group and its associated resources.

#### Using CLI

To remediate the misconfiguration "Security Groups Should Have Descriptions" in AWS using AWS CLI, follow these steps:

1. Open the AWS CLI on your local machine.

2. Run the following command to list all the security groups in your AWS account:

```
aws ec2 describe-security-groups
```

3. Identify the security group that does not have a description.

4. Run the following command to update the description of the security group:

```
aws ec2 update-security-group-rule-descriptions-ingress --group-id <security-group-id> --ip-permissions '[{"IpProtocol": "tcp", "FromPort": <port-number>, "ToPort": <port-number>, "IpRanges": [{"CidrIp": "<ip-address>/32", "Description": "<description>"}]}]'
```

Replace `<security-group-id>` with the ID of the security group that needs to be updated, `<port-number>` with the port number that needs to be opened, `<ip-address>` with the IP address that needs to be allowed, and `<description>` with the description of the security group.

5. Run the following command to verify that the description has been updated:

```
aws ec2 describe-security-groups --group-ids <security-group-id>
```

The output should show the updated description for the security group.

6. Repeat steps 3-5 for all the security groups that do not have descriptions.

#### Using Python

To remediate the misconfiguration "Security Groups Should Have Descriptions" in AWS using Python, you can follow these steps:

1. Import the necessary AWS SDK and libraries in your Python code.

2. Use the `describe_security_groups` method of the AWS EC2 client to retrieve a list of all security groups in your AWS account.

3. Loop through the list of security groups and check if each security group has a description.

4. If a security group does not have a description, use the `update_security_group_rule_descriptions_ingress` method of the AWS EC2 client to add a description to the security group.

Here is the sample Python code to remediate the misconfiguration "Security Groups Should Have Descriptions" in AWS:

```
import boto3

# Create an EC2 client
ec2 = boto3.client('ec2')

# Retrieve a list of all security groups in your AWS account
response = ec2.describe_security_groups()

# Loop through the list of security groups and add a description if it doesn't exist
for group in response['SecurityGroups']:
    if not group['Description']:
        group_id = group['GroupId']
        ec2.update_security_group_rule_descriptions_ingress(
            GroupId=group_id,
            IpPermissions=[
                {
                    'FromPort': 0,
                    'IpProtocol': '-1',
                    'IpRanges': [],
                    'Ipv6Ranges': [],
                    'PrefixListIds': [],
                    'ToPort': 65535,
                    'UserIdGroupPairs': []
                },
            ],
            DryRun=False
        )
        print(f"Added description to security group {group_id}")
```

This code will loop through all the security groups in your AWS account and add a description to any security group that does not have one.


### Additional Reading:

- [https://awscli.amazonaws.com/v2/documentation/api/latest/reference/ec2/update-security-group-rule-descriptions-ingress.html](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/ec2/update-security-group-rule-descriptions-ingress.html) 


</Tab>
</Tabs>