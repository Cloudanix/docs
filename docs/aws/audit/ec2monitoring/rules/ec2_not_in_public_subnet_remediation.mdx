### Remediation

How to move your backend EC2 instances from public subnets to private subnets?

#### Using AWS Console

1. Log in to the AWS Management Console using your AWS account credentials.
2. Navigate to the EC2 service by selecting "EC2" from the services menu.
    (In the Cloudanix Console, navigate to "Misconfig" page and look for Affected Assets for "EC2 Instance Should Not Be In Public Subnet" Policy.)
3. In the EC2 dashboard, click on "Instances" in the left navigation pane.
4. Identify the EC2 instance(s) that you want to move from the public subnet to the private subnet.
5. Take note of the specific EC2 instance identifier(s) that need to be moved.
6. Stop the EC2 instance(s) that you want to move by selecting the instance(s) and clicking on the "Actions" button, then choose "Instance State" and "Stop" from the dropdown menu.
7. Once the instance(s) is stopped, select the instance(s) again and click on the "Actions" button.
8. Choose "Networking" and then "Change security groups" from the dropdown menu.
9. In the "Change security groups" dialog, select the security group(s) associated with the private subnet where you want to move the instance(s).
10. Click on the "Save" button to apply the changes.
11. Start the EC2 instance(s) by selecting the instance(s) and clicking on the "Actions" button, then choose "Instance State" and "Start" from the dropdown menu.
12. Monitor the status of the instance(s) to ensure they start successfully and are running in the private subnet.
13. Test the connectivity to the EC2 instance(s) from other resources within the same private subnet.
14. Update any DNS records or load balancer configurations, if applicable, to ensure the EC2 instance(s) are accessed using the new private IP addresses.
15. Verify that the EC2 instance(s) can access necessary resources within the private subnet and any required connectivity to external resources is properly configured (e.g., through NAT gateways or VPN connections).
16. Repeat these steps for each EC2 instance that needs to be moved from the public subnet to the private subnet.
