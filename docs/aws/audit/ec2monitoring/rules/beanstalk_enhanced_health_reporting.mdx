---
slug: beanstalk_enhanced_health_reporting
title: Ensure Enhanced Health Reporting Is Enabled For Elastic Beanstalk Environments
sidebar_label: Ensure Enhanced Health Reporting Is Enabled For Elastic Beanstalk Environments
---

### More Info:

Ensure that the Enhanced Health Reporting feature is enabled for all Amazon Elastic Beanstalk (EB) environments provisioned in your AWS account.

### Risk Level

Medium

### Address

Operational Maturity, Reliability

### Compliance Standards

HIPAA



<Tabs><Tab title='Cause'>
### Check Cause

#### Using Console

1. Sign in to the AWS Management Console.
2. Navigate to the Elastic Beanstalk console (Services -> Elastic Beanstalk).
3. In the navigation pane, choose "Environments", and then choose the name of your environment from the list.
4. In the navigation pane, choose "Configuration".
5. In the "Health" category, choose "Edit". Here you can check if the Enhanced Health Reporting is enabled or not. If it's enabled, the "Health reporting" setting will be set to "Enhanced". If it's not, it will be set to "Basic".

#### Using CLI

1. First, you need to install and configure the AWS CLI on your local machine. You can download it from the official AWS website and configure it using the "aws configure" command. You will need to provide your AWS Access Key ID, Secret Access Key, Default region name, and Default output format.

2. Once the AWS CLI is set up, you can use the "describe-environments" command to list all the Elastic Beanstalk environments in your AWS account. The command is as follows:

   ```
   aws elasticbeanstalk describe-environments
   ```

3. To check if Enhanced Health Reporting is enabled for each environment, you need to look at the "Health" attribute in the output of the previous command. If the value of this attribute is "enhanced", then Enhanced Health Reporting is enabled.

4. If you want to check this for a specific environment, you can use the "--environment-names" option followed by the name of the environment. The command is as follows:

   ```
   aws elasticbeanstalk describe-environments --environment-names my-environment-name
   ```

Remember to replace "my-environment-name" with the name of your environment.

#### Using Python

To check if Enhanced Health Reporting is enabled for Elastic Beanstalk Environments in EC2 using Python scripts, you can use the Boto3 library, which allows you to write software that makes use of services like Amazon S3, Amazon EC2, etc. Here are the steps:

1. **Import the Boto3 library in Python:**
   Boto3 is the Amazon Web Services (AWS) Software Development Kit (SDK) for Python, which allows Python developers to write software that makes use of services like Amazon S3, Amazon EC2, etc. You can install it using pip:
   ```python
   pip install boto3
   ```
   Then import it in your script:
   ```python
   import boto3
   ```

2. **Create an AWS session:**
   You need to create a session using your AWS credentials. Replace 'my_profile' with your AWS profile name.
   ```python
   session = boto3.Session(profile_name='my_profile')
   ```

3. **Create an Elastic Beanstalk client:**
   Use the session to create a client for Elastic Beanstalk.
   ```python
   client = session.client('elasticbeanstalk')
   ```

4. **Check the Enhanced Health Reporting setting:**
   You can use the `describe_environments` method to get information about your Elastic Beanstalk environments. Then, check the 'Health' attribute of each environment. If the 'Health' attribute is not 'enhanced', then Enhanced Health Reporting is not enabled.
   ```python
   response = client.describe_environments()
   for environment in response['Environments']:
       if environment['Health'] != 'enhanced':
           print(f"Enhanced Health Reporting is not enabled for environment {environment['EnvironmentName']}")
   ```
   This script will print the names of all environments where Enhanced Health Reporting is not enabled.

</Tab>


<Tab title='Remediation'>
### Remediation

#### Using Console

To remediate the misconfiguration "Ensure Enhanced Health Reporting Is Enabled For Elastic Beanstalk Environments" for AWS using the AWS console, please follow the below steps:

1. Log in to the AWS Management Console.

2. Go to the Elastic Beanstalk console.

3. Select the desired environment for which you want to enable enhanced health reporting.

4. In the left navigation pane, click on "Configuration".

5. Scroll down to the "Monitoring" section and click on "Edit".

6. In the "Health reporting" section, select "Enhanced" from the drop-down menu.

7. Click on "Apply" to save the changes.

8. Verify that the enhanced health reporting is enabled by checking the "Health" tab in the Elastic Beanstalk console.

Once these steps are completed, the misconfiguration "Ensure Enhanced Health Reporting Is Enabled For Elastic Beanstalk Environments" will be remediated for the selected Elastic Beanstalk environment in AWS.

#### Using CLI

To remediate the misconfiguration "Ensure Enhanced Health Reporting Is Enabled For Elastic Beanstalk Environments" in AWS using AWS CLI, follow the below steps:

1. Open the AWS CLI and run the following command to enable enhanced health reporting for Elastic Beanstalk environments:

```
aws elasticbeanstalk update-environment --environment-name <environment-name> --option-settings Namespace=aws:elasticbeanstalk:healthreporting:system,OptionName=SystemType,Value=enhanced
```

Replace `<environment-name>` with the name of the Elastic Beanstalk environment for which you want to enable enhanced health reporting.

2. Once the command is executed successfully, the enhanced health reporting feature will be enabled for the Elastic Beanstalk environment.

3. You can verify the status of enhanced health reporting by running the following command:

```
aws elasticbeanstalk describe-environments --environment-names <environment-name> --query "Environments[*].OptionSettings[?OptionName=='HealthType'].Value" --output text
```

Replace `<environment-name>` with the name of the Elastic Beanstalk environment for which you want to verify the status of enhanced health reporting.

4. If the output of the above command is "enhanced", then enhanced health reporting is enabled for the Elastic Beanstalk environment.

By following the above steps, you can successfully remediate the misconfiguration "Ensure Enhanced Health Reporting Is Enabled For Elastic Beanstalk Environments" in AWS using AWS CLI.

#### Using Python

To remediate the misconfiguration "Ensure Enhanced Health Reporting Is Enabled For Elastic Beanstalk Environments" in AWS using Python, you can follow the below steps:

1. Open the AWS Management Console and navigate to Elastic Beanstalk.

2. Select the Elastic Beanstalk environment for which you want to enable Enhanced Health Reporting.

3. Click on the Configuration tab and then select the Health reporting option.

4. In the Health reporting section, select the Enhanced option.

5. Click on the Save button to save the changes.

6. Use the AWS SDK for Python (Boto3) to enable Enhanced Health Reporting for Elastic Beanstalk environments programmatically.

7. Install the Boto3 library by running the following command in your command prompt or terminal:

```
pip install boto3
```

8. Create a Python script and import the Boto3 library.

```python
import boto3
```

9. Create an Elastic Beanstalk client using the Boto3 library.

```python
eb_client = boto3.client('elasticbeanstalk')
```

10. Use the `update_environment` method to update the environment with the Enhanced Health Reporting enabled.

```python
eb_client.update_environment(
    ApplicationName='your-application-name',
    EnvironmentName='your-environment-name',
    OptionSettings=[
        {
            'Namespace': 'aws:elasticbeanstalk:healthreporting:system',
            'OptionName': 'SystemType',
            'Value': 'enhanced'
        }
    ]
)
```

11. Replace the `your-application-name` and `your-environment-name` with your actual application name and environment name.

12. Run the Python script to enable Enhanced Health Reporting for the Elastic Beanstalk environment.

After following these steps, Enhanced Health Reporting will be enabled for the Elastic Beanstalk environment in AWS.

### Additional Reading:

- [https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/health-enhanced.html](https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/health-enhanced.html) 


</Tab>
</Tabs>