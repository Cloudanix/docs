--- 
slug: CreateStack
eventname: CreateStack
title: CreateStack
sidebar_label: CreateStack
---
                       




### Event Information

#### Meaning

- The CreateStack event in awsrealtime for CloudFormation refers to the process of creating a new stack in AWS CloudFormation.
- This event indicates that a new CloudFormation stack has been initiated and is in the process of being created.
- It is a crucial event in the CloudFormation lifecycle as it triggers the deployment of AWS resources defined in the CloudFormation template.

#### Example

1. Example of security impact: If the CreateStack event in AWS CloudFormation is not properly secured, it can potentially lead to unauthorized access or exposure of sensitive information. For instance, if the CloudFormation template contains hard-coded credentials or access keys, an attacker with access to the template can extract these credentials and gain unauthorized access to AWS resources.

Remediation:
- Avoid hard-coding credentials or access keys in the CloudFormation template. Instead, use AWS Identity and Access Management (IAM) roles or AWS Secrets Manager to securely manage and retrieve credentials.
- Implement least privilege principles by granting only the necessary permissions to the IAM roles used by the CloudFormation stack.
- Regularly review and update the CloudFormation template to ensure it follows security best practices, such as using secure parameter inputs and encrypted storage for sensitive data.

Example CLI command to create a CloudFormation stack with an IAM role:
```
aws cloudformation create-stack --stack-name MyStack --template-body file://template.yaml --capabilities CAPABILITY_IAM --role-arn arn:aws:iam::123456789012:role/MyRole
```

2. Example of security impact: If the CreateStack event allows public access to the CloudFormation stack, it can expose sensitive information or resources to the internet. This can lead to unauthorized access, data breaches, or even resource exploitation.

Remediation:
- Ensure that the CloudFormation stack is not publicly accessible by configuring appropriate network access controls, such as using Virtual Private Cloud (VPC) and security groups to restrict access.
- Implement AWS WAF (Web Application Firewall) to protect against common web-based attacks and filter out malicious traffic.
- Regularly monitor and review the CloudFormation stack's access logs and enable AWS CloudTrail to track and audit any unauthorized access attempts.

Example CLI command to create a CloudFormation stack within a VPC:
```
aws cloudformation create-stack --stack-name MyStack --template-body file://template.yaml --capabilities CAPABILITY_IAM --vpc-id vpc-12345678 --subnet-id subnet-12345678
```

3. Example of security impact: If the CreateStack event allows the execution of arbitrary code or scripts within the CloudFormation template, it can lead to code injection attacks or the execution of malicious commands. This can result in unauthorized access, data loss, or compromise of the entire stack.

Remediation:
- Validate and sanitize all inputs and parameters used in the CloudFormation template to prevent code injection attacks.
- Use AWS CloudFormation intrinsic functions and built-in features to perform necessary operations instead of executing arbitrary code.
- Regularly review and update the CloudFormation template to ensure it follows security best practices, such as using secure parameter inputs and encrypted storage for sensitive data.

Example CLI command to create a CloudFormation stack with validated parameters:
```
aws cloudformation create-stack --stack-name MyStack --template-body file://template.yaml --capabilities CAPABILITY_IAM --parameters ParameterKey=MyParameter,ParameterValue=myValue
```

 