--- 
slug: CreateFileSystem
eventname: CreateFileSystem
title: CreateFileSystem
sidebar_label: CreateFileSystem
---
                       
### Event Information

#### Meaning

- The CreateFileSystem event in AWS for EFS refers to the action of creating a new file system in Amazon Elastic File System (EFS).
- When this event occurs, it indicates that a new EFS file system has been successfully created and is ready to be used.
- This event is important as it allows users to track and monitor the creation of EFS file systems, enabling them to ensure the successful provisioning of storage resources for their applications and data.

### Remediation

#### Using Console

Example of security impact with CreateFileSystem in AWS EFS:
- If the appropriate security measures are not implemented during the creation of an EFS file system, it can lead to potential security vulnerabilities. For instance, if the file system is created with open access permissions, it can allow unauthorized access to sensitive data stored within the file system.

Remediation steps for AWS EFS using AWS console:
1. Open the AWS Management Console and navigate to the Amazon EFS service.
2. Click on "Create file system" to initiate the creation process.
3. In the "Create file system" wizard, ensure that you follow these steps to remediate security concerns:
   - Choose the appropriate VPC and availability zones for the file system.
   - Select the desired performance mode (General Purpose or Max I/O) based on your requirements.
   - Configure the throughput mode (Bursting or Provisioned) as per your workload needs.
   - Enable encryption at rest by selecting the desired AWS Key Management Service (KMS) key.
   - Configure the appropriate network access settings by selecting the desired security groups and subnets.
   - Set the appropriate file system policy to control access permissions.
   - Enable automatic backups and configure the desired retention period.
   - Review the configuration and click on "Create file system" to initiate the creation.

By following these steps, you can remediate security concerns during the creation of an EFS file system in AWS using the AWS Management Console.

#### Using CLI

- One example of how security can be impacted with CreateFileSystem in AWS Elastic File System (EFS) is if the file system is created with overly permissive access control settings, allowing unauthorized access to sensitive data.
- Another example is if the file system is created without enabling encryption at rest, which can lead to data exposure in case of unauthorized access or data breaches.
- To remediate these security issues for AWS EFS using AWS CLI, the following CLI commands can be used:
  - To create a file system with proper access control settings, use the `--creation-token` parameter to provide a unique name for the file system and the `--tags` parameter to add appropriate tags for identification. For example:
    ```
    aws efs create-file-system --creation-token my-efs --tags Key=Name,Value=MyEFS
    ```
  - To enable encryption at rest for the file system, use the `--encrypted` parameter with a value of `true` during the creation of the file system. For example:
    ```
    aws efs create-file-system --creation-token my-efs --encrypted true
    ```
  - It is also recommended to configure proper network access control using security groups and mount targets to restrict access to the file system. This can be done using the `create-mount-target` command and associating the appropriate security groups.

#### Using Python

1. Example of security impact with CreateFileSystem in AWS EFS:
   - If the CreateFileSystem operation is not properly secured, it can potentially allow unauthorized users to create file systems in your AWS account. This can lead to unauthorized access, data breaches, and potential data loss.

2. Remediation for AWS EFS security impact using Python:
   - To remediate the security impact, you can use the AWS SDK for Python (Boto3) to implement proper security controls and ensure that only authorized users can create file systems in AWS EFS. Here's an example Python script:

```python
import boto3

def create_efs_filesystem():
    # Create a Boto3 EFS client
    efs_client = boto3.client('efs')

    # Specify the desired security group ID for the file system
    security_group_id = 'your_security_group_id'

    # Specify the desired VPC ID for the file system
    vpc_id = 'your_vpc_id'

    # Specify the desired subnet ID for the file system
    subnet_id = 'your_subnet_id'

    # Create the EFS file system with the specified security group, VPC, and subnet
    response = efs_client.create_file_system(
        CreationToken='your_unique_token',
        PerformanceMode='generalPurpose',
        Encrypted=True,
        ThroughputMode='bursting',
        SecurityGroups=[security_group_id],
        Tags=[
            {
                'Key': 'Name',
                'Value': 'your_filesystem_name'
            },
        ],
        Backup=False,
        SubnetId=subnet_id
    )

    # Retrieve the file system ID from the response
    file_system_id = response['FileSystemId']

    # Return the created file system ID
    return file_system_id

# Call the function to create the EFS file system
created_filesystem_id = create_efs_filesystem()
print(f"Created EFS file system ID: {created_filesystem_id}")
```

Please note that you need to replace the placeholder values ('your_security_group_id', 'your_vpc_id', 'your_subnet_id', 'your_unique_token', 'your_filesystem_name') with the actual values specific to your AWS environment.


 