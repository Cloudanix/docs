--- 
slug: CreateSizeConstraintSet
eventname: CreateSizeConstraintSet
title: CreateSizeConstraintSet
sidebar_label: CreateSizeConstraintSet
---
                       
### Event Information

- The CreateSizeConstraintSet event in AWS WAF refers to the creation of a size constraint set, which is a collection of size constraint rules used to protect web applications from attacks related to the size of HTTP requests or responses.
- Size constraint rules within a size constraint set define the maximum or minimum size limits for specific parts of an HTTP request or response, such as headers, query strings, or body content.
- This event indicates that a new size constraint set has been created, and it can be further configured with specific size constraint rules to enforce size limits and protect against potential attacks on web applications.


### Examples

1. Insufficient size constraint: If the size constraint set is not properly configured, it may allow requests that exceed the desired size limit to pass through, potentially leading to security vulnerabilities such as buffer overflow attacks or denial of service attacks.

2. Overly restrictive size constraint: On the other hand, if the size constraint set is too strict, it may block legitimate requests that are within the desired size limit. This can result in false positives and impact the availability of your application or website.

3. Inadequate monitoring and alerting: If the security team does not have proper monitoring and alerting mechanisms in place for the CreateSizeConstraintSet in AWS WAF, they may not be promptly notified of any security incidents or violations. This can lead to delayed response times and increased risk of security breaches.

### Remediation

#### Using Console

1. Insufficient size constraint:
- Access the AWS Management Console and navigate to the AWS WAF service.
- Select "Web ACLs" from the left-hand menu and choose the desired Web ACL.
- Under the "Rules" tab, locate the rule that contains the size constraint you want to modify.
- Click on the rule and select "Edit rule".
- Adjust the size constraint settings to ensure that the desired size limit is properly configured.
- Save the changes and verify that the updated size constraint is now in effect.

2. Overly restrictive size constraint:
- Access the AWS Management Console and navigate to the AWS WAF service.
- Select "Web ACLs" from the left-hand menu and choose the desired Web ACL.
- Under the "Rules" tab, locate the rule that contains the size constraint you want to modify.
- Click on the rule and select "Edit rule".
- Adjust the size constraint settings to allow for a wider range of legitimate request sizes.
- Save the changes and verify that the updated size constraint is now allowing the desired request sizes.

3. Inadequate monitoring and alerting:
- Access the AWS Management Console and navigate to the AWS WAF service.
- Select "Web ACLs" from the left-hand menu and choose the desired Web ACL.
- Under the "Logging and metrics" tab, enable logging to capture detailed information about requests and potential security incidents.
- Configure CloudWatch Alarms to monitor specific metrics, such as the number of blocked requests or the size of requests exceeding the constraint.
- Set up notifications to alert the security team via email, SMS, or other preferred channels when an alarm is triggered.
- Regularly review the logs and alarms to ensure prompt detection and response to any security incidents or violations.

#### Using CLI

1. Insufficient size constraint:
- Use the `update-size-constraint-set` command to configure the desired size limit for requests in AWS WAF.
- Set the appropriate `FieldToMatch` parameter to specify the part of the request to apply the size constraint on.
- Use the `Size` parameter to define the desired size limit for the specified field.

2. Overly restrictive size constraint:
- Adjust the size constraint by updating the `update-size-constraint-set` command in AWS WAF.
- Modify the `Size` parameter to increase the desired size limit for the specified field.
- Test and validate the changes to ensure that legitimate requests are no longer blocked.

3. Inadequate monitoring and alerting:
- Utilize the `get-size-constraint-set` command to retrieve information about the size constraint set in AWS WAF.
- Implement proper monitoring and alerting mechanisms using AWS CloudWatch or a third-party monitoring tool.
- Configure alarms and notifications to promptly alert the security team of any security incidents or violations related to the size constraint set.

#### Using Python

1. Insufficient size constraint:
- Review the current size constraint configuration for AWS WAF.
- Ensure that the desired size limit is properly set and aligned with the security requirements.
- Implement a validation mechanism to check the size of incoming requests and block any requests that exceed the defined limit.

2. Overly restrictive size constraint:
- Evaluate the current size constraint configuration and identify any false positives.
- Adjust the size limit to allow legitimate requests that are within the desired size range.
- Regularly monitor and analyze the logs to identify any potential issues or anomalies.

3. Inadequate monitoring and alerting:
- Implement a monitoring solution that can track and analyze the logs generated by AWS WAF.
- Set up alerts to notify the security team in real-time when any security incidents or violations occur.
- Develop a Python script that utilizes the AWS SDK to retrieve and analyze the logs, and send alerts via email or other communication channels.


 